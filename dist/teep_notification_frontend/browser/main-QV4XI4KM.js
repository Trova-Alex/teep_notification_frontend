var kk=Object.defineProperty,Ok=Object.defineProperties;var Fk=Object.getOwnPropertyDescriptors;var TD=Object.getOwnPropertySymbols;var Lk=Object.prototype.hasOwnProperty,Vk=Object.prototype.propertyIsEnumerable;var CD=(n,e,t)=>e in n?kk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})Lk.call(e,t)&&CD(n,t,e[t]);if(TD)for(var t of TD(e))Vk.call(e,t)&&CD(n,t,e[t]);return n},Z=(n,e)=>Ok(n,Fk(e));var T=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var ng;function Gl(){return ng}function Qn(n){let e=ng;return ng=n,e}var SD=Symbol("NotFound");function ms(n){return n===SD||n?.name==="\u0275NotFound"}var At=null,Kl=!1,rg=1,jk=null,Rt=Symbol("SIGNAL");function le(n){let e=At;return At=n,e}function Zl(){return At}var gs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ys(n){if(Kl)throw new Error("");if(At===null)return;At.consumerOnSignalRead(n);let e=At.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=At.recomputing;if(r&&(t=e!==void 0?e.nextProducer:At.producers,t!==void 0&&t.producer===n)){At.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===At&&(!r||Bk(i,At)))return;let o=_s(At),s={producer:n,consumer:At,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};At.producersTail=s,e!==void 0?e.nextProducer=s:At.producers=s,o&&MD(n,s)}function AD(){rg++}function Xl(n){if(!(_s(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===rg)){if(!n.producerMustRecompute(n)&&!Ac(n)){Jl(n);return}n.producerRecomputeValue(n),Jl(n)}}function ig(n){if(n.consumers===void 0)return;let e=Kl;Kl=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Uk(r)}}finally{Kl=e}}function og(){return At?.consumerAllowSignalWrites!==!1}function Uk(n){n.dirty=!0,ig(n),n.consumerMarkedDirty?.(n)}function Jl(n){n.dirty=!1,n.lastCleanEpoch=rg}function vs(n){return n&&RD(n),le(n)}function RD(n){n.producersTail=void 0,n.recomputing=!0}function Sc(n,e){le(e),n&&ND(n)}function ND(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(_s(n))do t=sg(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ac(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Xl(t),r!==t.version))return!0}return!1}function Rc(n){if(_s(n)){let e=n.producers;for(;e!==void 0;)e=sg(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function MD(n,e){let t=n.consumersTail,r=_s(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)MD(i.producer,i)}function sg(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!_s(e)){let o=e.producers;for(;o!==void 0;)o=sg(o)}return t}function _s(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function ed(n){jk?.(n)}function Bk(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function td(n,e){return Object.is(n,e)}function nd(n,e){let t=Object.create($k);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Xl(t),ys(t),t.value===Cc)throw t.error;return t.value};return r[Rt]=t,ed(t),r}var Ql=Symbol("UNSET"),Yl=Symbol("COMPUTING"),Cc=Symbol("ERRORED"),$k=Z(V({},gs),{value:Ql,dirty:!0,error:null,equal:td,kind:"computed",producerMustRecompute(n){return n.value===Ql||n.value===Yl},producerRecomputeValue(n){if(n.value===Yl)throw new Error("");let e=n.value;n.value=Yl;let t=vs(n),r,i=!1;try{r=n.computation(),le(null),i=e!==Ql&&e!==Cc&&r!==Cc&&n.equal(e,r)}catch(o){r=Cc,n.error=o}finally{Sc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Hk(){throw new Error}var xD=Hk;function PD(n){xD(n)}function ag(n){xD=n}var qk=null;function cg(n,e){let t=Object.create(rd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>kD(t);return r[Rt]=t,ed(t),[r,s=>Es(t,s),s=>ug(t,s)]}function kD(n){return ys(n),n.value}function Es(n,e){og()||PD(n),n.equal(n.value,e)||(n.value=e,zk(n))}function ug(n,e){og()||PD(n),Es(n,e(n.value))}var rd=Z(V({},gs),{equal:td,value:void 0,kind:"signal"});function zk(n){n.version++,AD(),ig(n),qk?.(n)}function se(n){return typeof n=="function"}function Is(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var id=Is(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Zi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var He=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(o){e=o instanceof id?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{OD(o)}catch(s){e=e??[],s instanceof id?e=[...e,...s.errors]:e.push(s)}}if(e)throw new id(e)}}add(e){var t;if(e&&e!==this)if(this.closed)OD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Zi(t,e)}remove(e){let{_finalizers:t}=this;t&&Zi(t,e),e instanceof n&&e._removeParent(this)}};He.EMPTY=(()=>{let n=new He;return n.closed=!0,n})();var lg=He.EMPTY;function od(n){return n instanceof He||n&&"closed"in n&&se(n.remove)&&se(n.add)&&se(n.unsubscribe)}function OD(n){se(n)?n():n.unsubscribe()}var Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ws={setTimeout(n,e,...t){let{delegate:r}=ws;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ws;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function sd(n){ws.setTimeout(()=>{let{onUnhandledError:e}=Mn;if(e)e(n);else throw n})}function Nc(){}var FD=dg("C",void 0,void 0);function LD(n){return dg("E",void 0,n)}function VD(n){return dg("N",n,void 0)}function dg(n,e,t){return{kind:n,value:e,error:t}}var Xi=null;function bs(n){if(Mn.useDeprecatedSynchronousErrorHandling){let e=!Xi;if(e&&(Xi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Xi;if(Xi=null,t)throw r}}else n()}function jD(n){Mn.useDeprecatedSynchronousErrorHandling&&Xi&&(Xi.errorThrown=!0,Xi.error=n)}var eo=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,od(e)&&e.add(this)):this.destination=Kk}static create(e,t,r){return new Ds(e,t,r)}next(e){this.isStopped?fg(VD(e),this):this._next(e)}error(e){this.isStopped?fg(LD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fg(FD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Wk=Function.prototype.bind;function hg(n,e){return Wk.call(n,e)}var pg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ad(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ad(r)}else ad(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ad(t)}}},Ds=class extends eo{constructor(e,t,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hg(e.next,o),error:e.error&&hg(e.error,o),complete:e.complete&&hg(e.complete,o)}):i=e}this.destination=new pg(i)}};function ad(n){Mn.useDeprecatedSynchronousErrorHandling?jD(n):sd(n)}function Gk(n){throw n}function fg(n,e){let{onStoppedNotification:t}=Mn;t&&ws.setTimeout(()=>t(n,e))}var Kk={closed:!0,next:Nc,error:Gk,complete:Nc};var Ts=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(n){return n}function cd(...n){return mg(n)}function mg(n){return n.length===0?rn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Yk(t)?t:new Ds(t,r,i);return bs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=UD(r),new r((i,o)=>{let s=new Ds({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ts](){return this}pipe(...t){return mg(t)(this)}toPromise(t){return t=UD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function UD(n){var e;return(e=n??Mn.Promise)!==null&&e!==void 0?e:Promise}function Qk(n){return n&&se(n.next)&&se(n.error)&&se(n.complete)}function Yk(n){return n&&n instanceof eo||Qk(n)&&od(n)}function gg(n){return se(n?.lift)}function ye(n){return e=>{if(gg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,i){return new yg(n,e,t,r,i)}var yg=class extends eo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Cs(){return ye((n,e)=>{let t=null;n._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ss=class extends re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,gg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return Cs()(this)}};var BD=Is(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var et=(()=>{class n extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ud(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new BD}next(t){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?lg:(this.currentObservers=null,o.push(t),new He(()=>{this.currentObservers=null,Zi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return n.create=(e,t)=>new ud(e,t),n})(),ud=class extends et{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:lg}};var Et=class extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vg={now(){return(vg.delegate||Date).now()},delegate:void 0};var ld=class extends He{constructor(e,t){super()}schedule(e,t=0){return this}};var Mc={setInterval(n,e,...t){let{delegate:r}=Mc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Mc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var As=class extends ld{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Mc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Mc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Zi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Rs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Rs.now=vg.now;var Ns=class extends Rs{constructor(e,t=Rs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var _g=new Ns(As);var dd=class extends As{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var hd=class extends Ns{};var Eg=new hd(dd);var Kt=new re(n=>n.complete());function $D(n){return n&&se(n.schedule)}function HD(n){return n[n.length-1]}function fd(n){return se(HD(n))?n.pop():void 0}function oi(n){return $D(HD(n))?n.pop():void 0}function Ig(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function zD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function qD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function to(n){return this instanceof to?(this.v=n,this):new to(n)}function WD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(P){return new Promise(function(A,O){o.push([y,P,A,O])>1||u(y,P)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(P){m(o[0][3],P)}}function l(y){y.value instanceof to?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function GD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof qD=="function"?qD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var pd=n=>n&&typeof n.length=="number"&&typeof n!="function";function md(n){return se(n?.then)}function gd(n){return se(n[Ts])}function yd(n){return Symbol.asyncIterator&&se(n?.[Symbol.asyncIterator])}function vd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Jk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _d=Jk();function Ed(n){return se(n?.[_d])}function Id(n){return WD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield to(t.read());if(i)return yield to(void 0);yield yield to(r)}}finally{t.releaseLock()}})}function wd(n){return se(n?.getReader)}function tt(n){if(n instanceof re)return n;if(n!=null){if(gd(n))return Zk(n);if(pd(n))return Xk(n);if(md(n))return eO(n);if(yd(n))return KD(n);if(Ed(n))return tO(n);if(wd(n))return nO(n)}throw vd(n)}function Zk(n){return new re(e=>{let t=n[Ts]();if(se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Xk(n){return new re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function eO(n){return new re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,sd)})}function tO(n){return new re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function KD(n){return new re(e=>{rO(n,e).catch(t=>e.error(t))})}function nO(n){return KD(Id(n))}function rO(n,e){var t,r,i,o;return zD(this,void 0,void 0,function*(){try{for(t=GD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Qt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function si(n,e=0){return ye((t,r)=>{t.subscribe(me(r,i=>Qt(r,n,()=>r.next(i),e),()=>Qt(r,n,()=>r.complete(),e),i=>Qt(r,n,()=>r.error(i),e)))})}function ai(n,e=0){return ye((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function QD(n,e){return tt(n).pipe(ai(e),si(e))}function YD(n,e){return tt(n).pipe(ai(e),si(e))}function JD(n,e){return new re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ZD(n,e){return new re(t=>{let r;return Qt(t,e,()=>{r=n[_d](),Qt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function bd(n,e){if(!n)throw new Error("Iterable cannot be null");return new re(t=>{Qt(t,e,()=>{let r=n[Symbol.asyncIterator]();Qt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function XD(n,e){return bd(Id(n),e)}function eT(n,e){if(n!=null){if(gd(n))return QD(n,e);if(pd(n))return JD(n,e);if(md(n))return YD(n,e);if(yd(n))return bd(n,e);if(Ed(n))return ZD(n,e);if(wd(n))return XD(n,e)}throw vd(n)}function Fe(n,e){return e?eT(n,e):tt(n)}function ee(...n){let e=oi(n);return Fe(n,e)}function Ms(n,e){let t=se(n)?n:()=>n,r=i=>i.error(t());return new re(e?i=>e.schedule(r,0,i):r)}function wg(n){return!!n&&(n instanceof re||se(n.lift)&&se(n.subscribe))}var Cr=Is(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function te(n,e){return ye((t,r)=>{let i=0;t.subscribe(me(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:iO}=Array;function oO(n,e){return iO(e)?n(...e):n(e)}function Dd(n){return te(e=>oO(n,e))}var{isArray:sO}=Array,{getPrototypeOf:aO,prototype:cO,keys:uO}=Object;function Td(n){if(n.length===1){let e=n[0];if(sO(e))return{args:e,keys:null};if(lO(e)){let t=uO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function lO(n){return n&&typeof n=="object"&&aO(n)===cO}function Cd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Sd(...n){let e=oi(n),t=fd(n),{args:r,keys:i}=Td(n);if(r.length===0)return Fe([],e);let o=new re(dO(r,e,i?s=>Cd(i,s):rn));return t?o.pipe(Dd(t)):o}function dO(n,e,t=rn){return r=>{tT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)tT(e,()=>{let l=Fe(n[u],e),h=!1;l.subscribe(me(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function tT(n,e,t){n?Qt(t,n,e):e()}function nT(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?C(P):u.push(P),C=P=>{o&&e.next(P),l++;let A=!1;tt(t(P,h++)).subscribe(me(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let O=u.shift();s?Qt(e,s,()=>C(O)):C(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(me(e,y,()=>{p=!0,m()})),()=>{a?.()}}function st(n,e,t=1/0){return se(e)?st((r,i)=>te((o,s)=>e(r,o,i,s))(tt(n(r,i))),t):(typeof e=="number"&&(t=e),ye((r,i)=>nT(r,i,n,t)))}function rT(n=1/0){return st(rn,n)}function iT(){return rT(1)}function xs(...n){return iT()(Fe(n,oi(n)))}function xc(n){return new re(e=>{tt(n()).subscribe(e)})}function bg(...n){let e=fd(n),{args:t,keys:r}=Td(n),i=new re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;tt(t[h]).subscribe(me(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Cd(r,a):a),o.complete())}))}});return e?i.pipe(Dd(e)):i}function jt(n,e){return ye((t,r)=>{let i=0;t.subscribe(me(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ci(n){return ye((e,t)=>{let r=null,i=!1,o;r=e.subscribe(me(t,void 0,void 0,s=>{o=tt(n(s,ci(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function oT(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(me(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ui(n,e){return se(e)?st(n,e,1):st(n,1)}function li(n){return ye((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Sr(n){return n<=0?()=>Kt:ye((e,t)=>{let r=0;e.subscribe(me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ad(n=hO){return ye((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hO(){return new Cr}function no(n){return ye((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ar(n,e){let t=arguments.length>=2;return r=>r.pipe(n?jt((i,o)=>n(i,o,r)):rn,Sr(1),t?li(e):Ad(()=>new Cr))}function Ps(n){return n<=0?()=>Kt:ye((e,t)=>{let r=[];e.subscribe(me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Dg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?jt((i,o)=>n(i,o,r)):rn,Ps(1),t?li(e):Ad(()=>new Cr))}function Rd(n,e){return ye(oT(n,e,arguments.length>=2,!0))}function Nd(...n){let e=oi(n);return ye((t,r)=>{(e?xs(n,t,e):xs(n,t)).subscribe(r)})}function Nt(n,e){return ye((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(me(r,u=>{i?.unsubscribe();let l=0,h=o++;tt(n(u,h)).subscribe(i=me(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Md(n){return ye((e,t)=>{tt(n).subscribe(me(t,()=>t.complete(),Nc)),!t.closed&&e.subscribe(t)})}function dt(n,e,t){let r=se(n)||e||t?{next:n,error:e,complete:t}:n;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(me(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):rn}function sT(n){let e=le(null);try{return n()}finally{le(e)}}var io=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Lg=new io("20.3.4");var Od="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,t){super(Fc(e,t)),this.code=e}};function fO(n){return`NG0${Math.abs(n)}`}function Fc(n,e){return`${fO(n)}${e?": "+e:""}`}var xr=globalThis;function Ce(n){for(let e in n)if(n[e]===Ce)return e;throw Error("")}function uT(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Nr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Nr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Vg(n,e){return n?e?`${n} ${e}`:n:e||""}var pO=Ce({__forward_ref__:Ce});function Mt(n){return n.__forward_ref__=Mt,n.toString=function(){return Nr(this())},n}function It(n){return jg(n)?n():n}function jg(n){return typeof n=="function"&&n.hasOwnProperty(pO)&&n.__forward_ref__===Mt}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Lc(n){return mO(n,Fd)}function Ug(n){return Lc(n)!==null}function mO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function gO(n){let e=n?.[Fd]??null;return e||null}function Cg(n){return n&&n.hasOwnProperty(Pd)?n[Pd]:null}var Fd=Ce({\u0275prov:Ce}),Pd=Ce({\u0275inj:Ce}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Bg(n){return n&&!!n.\u0275providers}var $g=Ce({\u0275cmp:Ce}),Hg=Ce({\u0275dir:Ce}),qg=Ce({\u0275pipe:Ce}),zg=Ce({\u0275mod:Ce}),kc=Ce({\u0275fac:Ce}),co=Ce({__NG_ELEMENT_ID__:Ce}),aT=Ce({__NG_ENV_ID__:Ce});function uo(n){return typeof n=="string"?n:n==null?"":String(n)}function lT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():uo(n)}var dT=Ce({ngErrorCode:Ce}),yO=Ce({ngErrorMessage:Ce}),vO=Ce({ngTokenPath:Ce});function Wg(n,e){return hT("",-200,e)}function Ld(n,e){throw new B(-201,!1)}function hT(n,e,t){let r=new B(e,n);return r[dT]=e,r[yO]=n,t&&(r[vO]=t),r}function _O(n){return n[dT]}var Sg;function fT(){return Sg}function Ut(n){let e=Sg;return Sg=n,e}function Gg(n,e,t){let r=Lc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Ld(n,"Injector")}var EO={},ro=EO,Ag="__NG_DI_FLAG__",Rg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=oo(t)||0;try{return this.injector.get(e,r&8?null:ro,r)}catch(i){if(ms(i))return i;throw i}}};function IO(n,e=0){let t=Gl();if(t===void 0)throw new B(-203,!1);if(t===null)return Gg(n,void 0,e);{let r=wO(e),i=t.retrieve(n,r);if(ms(i)){if(r.optional)return null;throw i}return i}}function K(n,e=0){return(fT()||IO)(It(n),e)}function k(n,e){return K(n,oo(e))}function oo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wO(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Ng(n){let e=[];for(let t=0;t<n.length;t++){let r=It(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=bO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function pT(n,e){return n[Ag]=e,n.prototype[Ag]=e,n}function bO(n){return n[Ag]}function di(n,e){let t=n.hasOwnProperty(kc);return t?n[kc]:null}function Vd(n,e){n.forEach(t=>Array.isArray(t)?Vd(t,e):e(t))}function Kg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Vc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function mT(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function gT(n,e,t){let r=Os(n,e);return r>=0?n[r|1]=t:(r=~r,mT(n,r,e,t)),r}function jd(n,e){let t=Os(n,e);if(t>=0)return n[t|1]}function Os(n,e){return DO(n,e,1)}function DO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var fi={},on=[],pi=new q(""),Qg=new q("",-1),Yg=new q(""),Oc=class{get(e,t=ro){if(t===ro){let i=hT("",-201);throw i.name="\u0275NotFound",i}return t}};function Jg(n){return n[zg]||null}function mi(n){return n[$g]||null}function Zg(n){return n[Hg]||null}function yT(n){return n[qg]||null}function Pn(n){return{\u0275providers:n}}function vT(...n){return{\u0275providers:Xg(!0,n),\u0275fromNgModule:!0}}function Xg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Vd(e,s=>{let a=s;kd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&_T(i,o),t}function _T(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ey(i,o=>{e(o,r)})}}function kd(n,e,t,r){if(n=It(n),!n)return!1;let i=null,o=Cg(n),s=!o&&mi(n);if(!o&&!s){let u=n.ngModule;if(o=Cg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)kd(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Vd(o.imports,h=>{kd(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&_T(l,e)}if(!a){let l=di(i)||(()=>new i);e({provide:i,useFactory:l,deps:on},i),e({provide:Yg,useValue:i,multi:!0},i),e({provide:pi,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;ey(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ey(n,e){for(let t of n)Bg(t)&&(t=t.\u0275providers),Array.isArray(t)?ey(t,e):e(t)}var TO=Ce({provide:String,useValue:Ce});function ET(n){return n!==null&&typeof n=="object"&&TO in n}function CO(n){return!!(n&&n.useExisting)}function SO(n){return!!(n&&n.useFactory)}function so(n){return typeof n=="function"}function IT(n){return!!n.useClass}var jc=new q(""),xd={},cT={},Tg;function Uc(){return Tg===void 0&&(Tg=new Oc),Tg}var qe=class{},ao=class extends qe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,xg(e,s=>this.processProvider(s)),this.records.set(Qg,ks(void 0,this)),i.has("environment")&&this.records.set(qe,ks(void 0,this));let o=this.records.get(jc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Yg,on,{self:!0}))}retrieve(e,t){let r=oo(t)||0;try{return this.get(e,ro,r)}catch(i){if(ms(i))return i;throw i}}destroy(){Pc(this),this._destroyed=!0;let e=le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(e)}}onDestroy(e){return Pc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Pc(this);let t=Qn(this),r=Ut(void 0),i;try{return e()}finally{Qn(t),Ut(r)}}get(e,t=ro,r){if(Pc(this),e.hasOwnProperty(aT))return e[aT](this);let i=oo(r),o,s=Qn(this),a=Ut(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=xO(e)&&Lc(e);h&&this.injectableDefInScope(h)?l=ks(Mg(e),xd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Uc():this.parent;return t=i&8&&t===ro?null:t,u.get(e,t)}catch(u){let l=_O(u);throw l===-200||l===-201?new B(l,null):u}finally{Ut(a),Qn(s)}}resolveInjectorInitializers(){let e=le(null),t=Qn(this),r=Ut(void 0),i;try{let o=this.get(pi,on,{self:!0});for(let s of o)s()}finally{Qn(t),Ut(r),le(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Nr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=It(e);let t=so(e)?e:It(e&&e.provide),r=RO(e);if(!so(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ks(void 0,xd,!0),i.factory=()=>Ng(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=le(null);try{if(t.value===cT)throw Wg(Nr(e));return t.value===xd&&(t.value=cT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&MO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{le(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=It(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Mg(n){let e=Lc(n),t=e!==null?e.factory:di(n);if(t!==null)return t;if(n instanceof q)throw new B(204,!1);if(n instanceof Function)return AO(n);throw new B(204,!1)}function AO(n){if(n.length>0)throw new B(204,!1);let t=gO(n);return t!==null?()=>t.factory(n):()=>new n}function RO(n){if(ET(n))return ks(void 0,n.useValue);{let e=ty(n);return ks(e,xd)}}function ty(n,e,t){let r;if(so(n)){let i=It(n);return di(i)||Mg(i)}else if(ET(n))r=()=>It(n.useValue);else if(SO(n))r=()=>n.useFactory(...Ng(n.deps||[]));else if(CO(n))r=(i,o)=>K(It(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=It(n&&(n.useClass||n.provide));if(NO(n))r=()=>new i(...Ng(n.deps));else return di(i)||Mg(i)}return r}function Pc(n){if(n.destroyed)throw new B(205,!1)}function ks(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function NO(n){return!!n.deps}function MO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function xO(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function xg(n,e){for(let t of n)Array.isArray(t)?xg(t,e):t&&Bg(t)?xg(t.\u0275providers,e):e(t)}function Qe(n,e){let t;n instanceof ao?(Pc(n),t=n):t=new Rg(n);let r,i=Qn(t),o=Ut(void 0);try{return e()}finally{Qn(i),Ut(o)}}function wT(){return fT()!==void 0||Gl()!=null}var kn=0,ne=1,ie=2,wt=3,yn=4,vn=5,Bc=6,Fs=7,xt=8,gi=9,Yn=10,Le=11,Ls=12,ny=13,lo=14,_n=15,ho=16,fo=17,po=18,$c=19,ry=20,Rr=21,Ud=22,Hc=23,sn=24,mo=25,qc=26,ft=27,bT=1;var yi=7,zc=8,Wc=9,Yt=10;function Jn(n){return Array.isArray(n)&&typeof n[bT]=="object"}function On(n){return Array.isArray(n)&&n[bT]===!0}function iy(n){return(n.flags&4)!==0}function vi(n){return n.componentOffset>-1}function Vs(n){return(n.flags&1)===1}function Zn(n){return!!n.template}function js(n){return(n[ie]&512)!==0}function go(n){return(n[ie]&256)===256}var DT="svg",TT="math";function En(n){for(;Array.isArray(n);)n=n[kn];return n}function oy(n,e){return En(e[n])}function Fn(n,e){return En(e[n.index])}function Bd(n,e){return n.data[e]}function sy(n,e){return n[e]}function ay(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function In(n,e){let t=e[n];return Jn(t)?t:t[kn]}function $d(n){return(n[ie]&128)===128}function CT(n){return On(n[wt])}function yo(n,e){return e==null?null:n[e]}function cy(n){n[fo]=0}function uy(n){n[ie]&1024||(n[ie]|=1024,$d(n)&&Us(n))}function ST(n,e){for(;n>0;)e=e[lo],n--;return e}function Gc(n){return!!(n[ie]&9216||n[sn]?.dirty)}function Hd(n){n[Yn].changeDetectionScheduler?.notify(8),n[ie]&64&&(n[ie]|=1024),Gc(n)&&Us(n)}function Us(n){n[Yn].changeDetectionScheduler?.notify(0);let e=hi(n);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!$d(e)));)e=hi(e)}function ly(n,e){if(go(n))throw new B(911,!1);n[Rr]===null&&(n[Rr]=[]),n[Rr].push(e)}function AT(n,e){if(n[Rr]===null)return;let t=n[Rr].indexOf(e);t!==-1&&n[Rr].splice(t,1)}function hi(n){let e=n[wt];return On(e)?e[wt]:e}function RT(n){return n[Fs]??=[]}function NT(n){return n.cleanup??=[]}var de={lFrame:zT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Pg=!1;function MT(){return de.lFrame.elementDepthCount}function xT(){de.lFrame.elementDepthCount++}function dy(){de.lFrame.elementDepthCount--}function qd(){return de.bindingsEnabled}function PT(){return de.skipHydrationRootTNode!==null}function hy(n){return de.skipHydrationRootTNode===n}function fy(){de.skipHydrationRootTNode=null}function _e(){return de.lFrame.lView}function Bt(){return de.lFrame.tView}function Ye(n){return de.lFrame.contextLView=n,n[xt]}function Je(n){return de.lFrame.contextLView=null,n}function pt(){let n=py();for(;n!==null&&n.type===64;)n=n.parent;return n}function py(){return de.lFrame.currentTNode}function kT(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Bs(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function my(){return de.lFrame.isParent}function OT(){de.lFrame.isParent=!1}function FT(){return de.lFrame.contextLView}function gy(){return Pg}function yy(n){let e=Pg;return Pg=n,e}function LT(){let n=de.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function VT(){return de.lFrame.bindingIndex}function jT(n){return de.lFrame.bindingIndex=n}function Kc(){return de.lFrame.bindingIndex++}function vy(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function UT(){return de.lFrame.inI18n}function BT(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,zd(e)}function $T(){return de.lFrame.currentDirectiveIndex}function zd(n){de.lFrame.currentDirectiveIndex=n}function HT(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function _y(n){de.lFrame.currentQueryIndex=n}function PO(n){let e=n[ne];return e.type===2?e.declTNode:e.type===1?n[vn]:null}function Ey(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=PO(o),i===null||(o=o[lo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=qT();return r.currentTNode=e,r.lView=n,!0}function Wd(n){let e=qT(),t=n[ne];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qT(){let n=de.lFrame,e=n===null?null:n.child;return e===null?zT(n):e}function zT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function WT(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Iy=WT;function Gd(){let n=WT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function GT(n){return(de.lFrame.contextLView=ST(n,de.lFrame.contextLView))[xt]}function _i(){return de.lFrame.selectedIndex}function Ei(n){de.lFrame.selectedIndex=n}function Kd(){let n=de.lFrame;return Bd(n.tView,n.selectedIndex)}function KT(){return de.lFrame.currentNamespace}var QT=!0;function Qd(){return QT}function Qc(n){QT=n}function kg(n,e=null,t=null,r){let i=wy(n,e,t,r);return i.resolveInjectorInitializers(),i}function wy(n,e=null,t=null,r,i=new Set){let o=[t||on,vT(n)];return r=r||(typeof n=="object"?void 0:Nr(n)),new ao(o,e||Uc(),r||null,i)}var ht=class n{static THROW_IF_NOT_FOUND=ro;static NULL=new Oc;static create(e,t){if(Array.isArray(e))return kg({name:""},t,e,"");{let r=e.name??"";return kg({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:n,providedIn:"any",factory:()=>K(Qg)});static __NG_ELEMENT_ID__=-1},at=new q(""),Ln=(()=>{class n{static __NG_ELEMENT_ID__=kO;static __NG_ENV_ID__=t=>t}return n})(),Og=class extends Ln{_lView;constructor(e){super(),this._lView=e}get destroyed(){return go(this._lView)}onDestroy(e){let t=this._lView;return ly(t,e),()=>AT(t,e)}};function kO(){return new Og(_e())}var xn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Jt=new q("",{providedIn:"root",factory:()=>{let n=k(qe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(xn),e.handleError(t))}}}),YT={provide:pi,useValue:()=>void k(xn),multi:!0};function by(n){return typeof n=="function"&&n[Rt]!==void 0}function an(n,e){let[t,r,i]=cg(n,e?.equal),o=t,s=o[Rt];return o.set=r,o.update=i,o.asReadonly=JT.bind(o),o}function JT(){let n=this[Rt];if(n.readonlyFn===void 0){let e=()=>this();e[Rt]=n,n.readonlyFn=e}return n.readonlyFn}function Dy(n){return by(n)&&typeof n.set=="function"}var Mr=class{},Yc=new q("",{providedIn:"root",factory:()=>!1});var Ty=new q(""),Cy=new q("");var Yd=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=OO}return n})();function OO(){return new Yd(_e(),pt())}var Xn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Et(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new re(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ii=(()=>{class n{internalPendingTasks=k(Xn);scheduler=k(Mr);errorHandler=k(Jt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();function Jc(...n){}var Sy=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new Fg})}return n})(),Fg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ks(n){return{toString:n}.toString()}var Jd="__parameters__";function HO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function qO(n,e,t){return Ks(()=>{let r=HO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Jd)?u[Jd]:Object.defineProperty(u,Jd,{value:[]})[Jd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var kr=pT(qO("Optional"),8);function zO(n){return typeof n=="function"}var ih=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function R0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var jn=(()=>{let n=()=>N0;return n.ngInherit=!0,n})();function N0(n){return n.type.prototype.ngOnChanges&&(n.setInput=GO),WO}function WO(){let n=x0(this),e=n?.current;if(e){let t=n.previous;if(t===fi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function GO(n,e,t,r,i){let o=this.declaredInputs[r],s=x0(n)||KO(n,{previous:fi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new ih(l&&l.currentValue,t,u===fi),R0(n,e,i,t)}var M0="__ngSimpleChanges__";function x0(n){return n[M0]||null}function KO(n,e){return n[M0]=e}var ZT=[];var Ae=function(n,e=null,t){for(let r=0;r<ZT.length;r++){let i=ZT[r];i(n,e,t)}};function QO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=N0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function P0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function th(n,e,t){k0(n,e,3,t)}function nh(n,e,t,r){(n[ie]&3)===t&&k0(n,e,t,r)}function Ay(n,e){let t=n[ie];(t&3)===e&&(t&=16383,t+=1,n[ie]=t)}function k0(n,e,t,r){let i=r!==void 0?n[fo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[fo]+=65536),(a<o||o==-1)&&(YO(n,t,e,u),n[fo]=(n[fo]&4294901760)+u+2),u++}function XT(n,e){Ae(4,n,e);let t=le(null);try{e.call(n)}finally{le(t),Ae(5,n,e)}}function YO(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ie]>>14<n[fo]>>16&&(n[ie]&3)===e&&(n[ie]+=16384,XT(a,o)):XT(a,o)}var Hs=-1,_o=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function JO(n){return(n.flags&8)!==0}function ZO(n){return(n.flags&16)!==0}function XO(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];e1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function O0(n){return n===3||n===4||n===6}function e1(n){return n.charCodeAt(0)===64}function qs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?e0(n,t,i,null,e[++r]):e0(n,t,i,null,null))}}return n}function e0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function F0(n){return n!==Hs}function oh(n){return n&32767}function t1(n){return n>>16}function sh(n,e){let t=t1(n),r=e;for(;t>0;)r=r[lo],t--;return r}var jy=!0;function ah(n){let e=jy;return jy=n,e}var n1=256,L0=n1-1,V0=5,r1=0,er={};function i1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(co)&&(r=t[co]),r==null&&(r=t[co]=r1++);let i=r&L0,o=1<<i;e.data[n+(i>>V0)]|=o}function ch(n,e){let t=j0(n,e);if(t!==-1)return t;let r=e[ne];r.firstCreatePass&&(n.injectorIndex=e.length,Ry(r.data,n),Ry(e,null),Ry(r.blueprint,null));let i=iv(n,e),o=n.injectorIndex;if(F0(i)){let s=oh(i),a=sh(i,e),u=a[ne].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Ry(n,e){n.push(0,0,0,0,0,0,0,0,e)}function j0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function iv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=q0(i),r===null)return Hs;if(t++,i=i[lo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Hs}function Uy(n,e,t){i1(n,e,t)}function o1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(O0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function U0(n,e,t){if(t&8||n!==void 0)return n;Ld(e,"NodeInjector")}function B0(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[gi],o=Ut(void 0);try{return i?i.get(e,r,t&8):Gg(e,r,t&8)}finally{Ut(o)}}return U0(r,e,t)}function $0(n,e,t,r=0,i){if(n!==null){if(e[ie]&2048&&!(r&2)){let s=l1(n,e,t,r,er);if(s!==er)return s}let o=H0(n,e,t,r,er);if(o!==er)return o}return B0(e,t,r,i)}function H0(n,e,t,r,i){let o=c1(t);if(typeof o=="function"){if(!Ey(e,n,r))return r&1?U0(i,t,r):B0(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ld(t);else return s}finally{Iy()}}else if(typeof o=="number"){let s=null,a=j0(n,e),u=Hs,l=r&1?e[_n][vn]:null;for((a===-1||r&4)&&(u=a===-1?iv(n,e):e[a+8],u===Hs||!n0(r,!1)?a=-1:(s=e[ne],a=oh(u),e=sh(u,e)));a!==-1;){let h=e[ne];if(t0(o,a,h.data)){let p=s1(a,e,t,s,r,l);if(p!==er)return p}u=e[a+8],u!==Hs&&n0(r,e[ne].data[a+8]===l)&&t0(o,a,e)?(s=h,a=oh(u),e=sh(u,e)):a=-1}}return i}function s1(n,e,t,r,i,o){let s=e[ne],a=s.data[n+8],u=r==null?vi(a)&&jy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=a1(a,s,t,u,l);return h!==null?uh(e,s,h,a,i):er}function a1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&t===C||y>=u&&C.type===t)return y}if(i){let y=s[u];if(y&&Zn(y)&&y.type===t)return u}return null}function uh(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof _o){let a=o;if(a.resolving){let y=lT(s[t]);throw Wg(y)}let u=ah(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Ut(a.injectImpl):null,m=Ey(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&QO(t,s[t],e)}finally{p!==null&&Ut(p),ah(u),a.resolving=!1,Iy()}}return o}function c1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(co)?n[co]:void 0;return typeof e=="number"?e>=0?e&L0:u1:e}function t0(n,e,t){let r=1<<n;return!!(t[e+(n>>V0)]&r)}function n0(n,e){return!(n&2)&&!(n&1&&e)}var vo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return $0(this._tNode,this._lView,e,oo(r),t)}};function u1(){return new vo(pt(),_e())}function wn(n){return Ks(()=>{let e=n.prototype.constructor,t=e[kc]||By(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[kc]||By(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function By(n){return jg(n)?()=>{let e=By(It(n));return e&&e()}:di(n)}function l1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!js(s);){let a=H0(o,s,t,r|2,er);if(a!==er)return a;let u=o.parent;if(!u){let l=s[ry];if(l){let h=l.get(t,er,r);if(h!==er)return h}u=q0(s),s=s[lo]}o=u}return i}function q0(n){let e=n[ne],t=e.type;return t===2?e.declTNode:t===1?n[vn]:null}function ru(n){return o1(pt(),n)}function d1(){return wh(pt(),_e())}function wh(n,e){return new nr(Fn(n,e))}var nr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=d1}return n})();function z0(n){return(n.flags&128)===128}var ov=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(ov||{}),W0=new Map,h1=0;function f1(){return h1++}function p1(n){W0.set(n[$c],n)}function $y(n){W0.delete(n[$c])}var r0="__ngContext__";function zs(n,e){Jn(e)?(n[r0]=e[$c],p1(e)):n[r0]=e}function G0(n){return Q0(n[Ls])}function K0(n){return Q0(n[yn])}function Q0(n){for(;n!==null&&!On(n);)n=n[yn];return n}var Hy;function sv(n){Hy=n}function Y0(){if(Hy!==void 0)return Hy;if(typeof document<"u")return document;throw new B(210,!1)}var bh=new q("",{providedIn:"root",factory:()=>m1}),m1="ng",Dh=new q(""),bi=new q("",{providedIn:"platform",factory:()=>"unknown"});var Th=new q("",{providedIn:"root",factory:()=>Y0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var g1="h",y1="b";var J0=!1,Z0=new q("",{providedIn:"root",factory:()=>J0});var v1=(n,e,t,r)=>{};function _1(n,e,t,r){v1(n,e,t,r)}function av(n){return(n.flags&32)===32}var E1=()=>null;function X0(n,e,t=!1){return E1(n,e,t)}function eC(n,e){let t=n.contentQueries;if(t!==null){let r=le(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];_y(o),a.contentQueries(2,e[s],s)}}}finally{le(r)}}}function qy(n,e,t){_y(0);let r=le(null);try{e(n,t)}finally{le(r)}}function cv(n,e,t){if(iy(e)){let r=le(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{le(r)}}}var Pr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Pr||{});var Zd;function I1(){if(Zd===void 0&&(Zd=null,xr.trustedTypes))try{Zd=xr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zd}function i0(n){return I1()?.createScriptURL(n)||n}var lh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Od})`}};function Ch(n){return n instanceof lh?n.changingThisBreaksApplicationSecurity:n}function uv(n,e){let t=tC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Od})`)}return t===e}function tC(n){return n instanceof lh&&n.getTypeName()||null}var w1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nC(n){return n=String(n),n.match(w1)?n:"unsafe:"+n}var Sh=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Sh||{});function rC(n){let e=oC();return e?e.sanitize(Sh.URL,n)||"":uv(n,"URL")?Ch(n):nC(uo(n))}function iC(n){let e=oC();if(e)return i0(e.sanitize(Sh.RESOURCE_URL,n)||"");if(uv(n,"ResourceURL"))return i0(Ch(n));throw new B(904,!1)}function b1(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?iC:rC}function lv(n,e,t){return b1(e,t)(n)}function oC(){let n=_e();return n&&n[Yn].sanitizer}var D1=/^>|^->|<!--|-->|--!>|<!-$/g,T1=/(<|>)/g,C1="\u200B$1\u200B";function S1(n){return n.replace(D1,e=>e.replace(T1,C1))}function sC(n){return n instanceof Function?n():n}function A1(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var aC="ng-template";function R1(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&A1(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(dv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function dv(n){return n.type===4&&n.value!==aC}function N1(n,e,t){let r=n.type===4&&!t?aC:n.value;return e===r}function M1(n,e,t){let r=4,i=n.attrs,o=i!==null?k1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Vn(r)&&!Vn(u))return!1;if(s&&Vn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!N1(n,u,t)||u===""&&e.length===1){if(Vn(r))return!1;s=!0}}else if(r&8){if(i===null||!R1(n,i,u,t)){if(Vn(r))return!1;s=!0}}else{let l=e[++a],h=x1(u,i,dv(n),t);if(h===-1){if(Vn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Vn(r))return!1;s=!0}}}}return Vn(r)||s}function Vn(n){return(n&1)===0}function x1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return O1(e,n)}function P1(n,e,t=!1){for(let r=0;r<e.length;r++)if(M1(n,e[r],t))return!0;return!1}function k1(n){for(let e=0;e<n.length;e++){let t=n[e];if(O0(t))return e}return n.length}function O1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function o0(n,e){return n?":not("+e.trim()+")":e}function F1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Vn(s)&&(e+=o0(o,i),i=""),r=s,o=o||!Vn(r);t++}return i!==""&&(e+=o0(o,i)),e}function L1(n){return n.map(F1).join(",")}function V1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Vn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Un={};function j1(n,e){return n.createText(e)}function U1(n,e,t){n.setValue(e,t)}function B1(n,e){return n.createComment(S1(e))}function cC(n,e,t){return n.createElement(e,t)}function dh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function uC(n,e,t){n.appendChild(e,t)}function s0(n,e,t,r,i){r!==null?dh(n,e,t,r,i):uC(n,e,t)}function $1(n,e,t,r){n.removeChild(null,e,t,r)}function H1(n,e,t){n.setAttribute(e,"style",t)}function q1(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function lC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&XO(n,e,r),i!==null&&q1(n,e,i),o!==null&&H1(n,e,o)}function hv(n,e,t,r,i,o,s,a,u,l,h){let p=ft+r,m=p+i,y=z1(p,m),C=typeof l=="function"?l():l;return y[ne]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function z1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Un);return t}function W1(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=hv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function fv(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[kn]=i,p[ie]=r|4|128|8|64|1024,(l!==null||n&&n[ie]&2048)&&(p[ie]|=2048),cy(p),p[wt]=p[lo]=n,p[xt]=t,p[Yn]=s||n&&n[Yn],p[Le]=a||n&&n[Le],p[gi]=u||n&&n[gi]||null,p[vn]=o,p[$c]=f1(),p[Bc]=h,p[ry]=l,p[_n]=e.type==2?n[_n]:p,p}function G1(n,e,t){let r=Fn(e,n),i=W1(t),o=n[Yn].rendererFactory,s=pv(n,fv(n,i,null,dC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function dC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function hC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function pv(n,e){return n[Ls]?n[ny][yn]=e:n[Ls]=e,n[ny]=e,e}function $(n=1){fC(Bt(),_e(),_i()+n,!1)}function fC(n,e,t,r){if(!r)if((e[ie]&3)===3){let o=n.preOrderCheckHooks;o!==null&&th(e,o,t)}else{let o=n.preOrderHooks;o!==null&&nh(e,o,0,t)}Ei(t)}var Ah=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ah||{});function zy(n,e,t,r){let i=le(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Ah.SignalBased)!==0&&(u=e[o][Rt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):R0(e,u,o,r)}finally{le(i)}}var tr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(tr||{}),K1;function mv(n,e){return K1(n,e)}var iu=new Set;var pC=new q("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1})});function a0(n,e,t,r){let i=n?.[qc]?.enter;if(e!==null&&i&&i.has(t.index)){let o=r.get(pC);for(let s of i.get(t.index).animateFns)o.queue.add(s)}}function $s(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;On(i)?u=i:Jn(i)&&(l=!0,i=i[kn]);let h=En(i);n===0&&r!==null?(a0(a,r,o,t),s==null?uC(e,r,h):dh(e,r,h,s||null,!0)):n===1&&r!==null?(a0(a,r,o,t),dh(e,r,h,s||null,!0)):n===2?c0(a,o,t,p=>{$1(e,h,l,p)}):n===3&&c0(a,o,t,()=>{e.destroyNode(h)}),u!=null&&cF(e,n,t,u,o,r,s)}}function Q1(n,e){let t=n.get(pC);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e)}function Y1(n,e){mC(n,e),e[kn]=null,e[vn]=null}function J1(n,e,t,r,i,o){r[kn]=i,r[vn]=e,Rh(n,r,t,1,i,o)}function mC(n,e){e[Yn].changeDetectionScheduler?.notify(9),Rh(n,e,e[Le],2,null,null)}function Z1(n){let e=n[Ls];if(!e)return Ny(n[ne],n);for(;e;){let t=null;if(Jn(e))t=e[Ls];else{let r=e[Yt];r&&(t=r)}if(!t){for(;e&&!e[yn]&&e!==n;)Jn(e)&&Ny(e[ne],e),e=e[wt];e===null&&(e=n),Jn(e)&&Ny(e[ne],e),t=e&&e[yn]}e=t}}function gv(n,e){let t=n[Wc],r=t.indexOf(e);t.splice(r,1)}function gC(n,e){if(go(e))return;let t=e[Le];t.destroyNode&&Rh(n,e,t,3,null,null),Z1(e)}function Ny(n,e){if(go(e))return;let t=le(null);try{e[ie]&=-129,e[ie]|=256,e[sn]&&Rc(e[sn]),tF(n,e),eF(n,e),e[ne].type===1&&e[Le].destroy();let r=e[ho];if(r!==null&&On(e[wt])){r!==e[wt]&&gv(r,e);let i=e[po];i!==null&&i.detachView(n)}$y(e)}finally{le(t)}}function c0(n,e,t,r){let i=n?.[qc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);Q1(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.running=Promise.allSettled(a),X1(n,r)}else n&&iu.delete(n),r(!1)})}function X1(n,e){let t=n[qc]?.running;if(t){t.then(()=>{n[qc].running=void 0,iu.delete(n),e(!0)});return}e(!1)}function eF(n,e){let t=n.cleanup,r=e[Fs];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Fs]=null);let i=e[Rr];if(i!==null){e[Rr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Hc];if(o!==null){e[Hc]=null;for(let s of o)s.destroy()}}function tF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof _o)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ae(4,a,u);try{u.call(a)}finally{Ae(5,a,u)}}else{Ae(4,i,o);try{o.call(i)}finally{Ae(5,i,o)}}}}}function nF(n,e,t){return rF(n,e.parent,t)}function rF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[kn];if(vi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Pr.None||i===Pr.Emulated)return null}return Fn(r,t)}function iF(n,e,t){return sF(n,e,t)}function oF(n,e,t){return n.type&40?Fn(n,t):null}var sF=oF,u0;function yv(n,e,t,r){let i=nF(n,r,e),o=e[Le],s=r.parent||e[vn],a=iF(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)s0(o,i,t[u],a,!1);else s0(o,i,t,a,!1);u0!==void 0&&u0(o,r,e,t,i)}function Zc(n,e){if(e!==null){let t=e.type;if(t&3)return Fn(e,n);if(t&4)return Wy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Zc(n,r);{let i=n[e.index];return On(i)?Wy(-1,i):En(i)}}else{if(t&128)return Zc(n,e.next);if(t&32)return mv(e,n)()||En(n[e.index]);{let r=yC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=hi(n[_n]);return Zc(i,r)}else return Zc(n,e.next)}}}return null}function yC(n,e){if(e!==null){let r=n[_n][vn],i=e.projection;return r.projection[i]}return null}function Wy(n,e){let t=Yt+n+1;if(t<e.length){let r=e[t],i=r[ne].firstChild;if(i!==null)return Zc(r,i)}return e[yi]}function vv(n,e,t,r,i,o,s){for(;t!=null;){let a=r[gi];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&zs(En(u),r),t.flags|=2),!av(t))if(l&8)vv(n,e,t.child,r,i,o,!1),$s(e,n,a,i,u,t,o,r);else if(l&32){let h=mv(t,r),p;for(;p=h();)$s(e,n,a,i,p,t,o,r);$s(e,n,a,i,u,t,o,r)}else l&16?aF(n,e,r,t,i,o):$s(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Rh(n,e,t,r,i,o){vv(t,r,n.firstChild,e,i,o,!1)}function aF(n,e,t,r,i,o){let s=t[_n],u=s[vn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];$s(e,n,t[gi],i,h,r,o,t)}else{let l=u,h=s[wt];z0(r)&&(l.flags|=128),vv(n,e,l,h,i,o,!0)}}function cF(n,e,t,r,i,o,s){let a=r[yi],u=En(r);a!==u&&$s(e,n,t,o,a,i,s);for(let l=Yt;l<r.length;l++){let h=r[l];Rh(h[ne],h,n,e,o,a)}}function uF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:tr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=tr.Important),n.setStyle(t,r,i,o))}}function vC(n,e,t,r,i){let o=_i(),s=r&2;try{Ei(-1),s&&e.length>ft&&fC(n,e,ft,!1),Ae(s?2:0,i,t),t(r,i)}finally{Ei(o),Ae(s?3:1,i,t)}}function Nh(n,e,t){gF(n,e,t),(t.flags&64)===64&&yF(n,e,t)}function Mh(n,e,t=Fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function lF(n,e,t,r){let o=r.get(Z0,J0)||t===Pr.ShadowDom,s=n.selectRootElement(e,o);return dF(s),s}function dF(n){hF(n)}var hF=()=>null;function fF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function _C(n,e,t,r,i,o){let s=e[ne];if(wv(n,s,e,t,r)){vi(n)&&mF(e,n.index);return}n.type&3&&(t=fF(t)),pF(n,e,t,r,i,o)}function pF(n,e,t,r,i,o){if(n.type&3){let s=Fn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function mF(n,e){let t=In(e,n);t[ie]&16||(t[ie]|=64)}function gF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;vi(t)&&G1(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ch(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=uh(e,n,s,t);if(zs(u,e),o!==null&&IF(e,s-r,u,a,t,o),Zn(a)){let l=In(t.index,e);l[xt]=uh(e,n,s,t)}}}function yF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=$T();try{Ei(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];zd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&vF(u,l)}}finally{Ei(-1),zd(s)}}function vF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function _v(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];P1(e,o.selectors,!1)&&(r??=[],Zn(o)?r.unshift(o):r.push(o))}return r}function _F(n,e,t,r,i,o){let s=Fn(n,e);EF(e[Le],s,o,n.value,t,r,i)}function EF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?uo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function IF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];zy(r,t,u,l)}}function Ev(n,e,t,r,i){let o=ft+t,s=e[ne],a=i(s,e,n,r,t);e[o]=a,Bs(n,!0);let u=n.type===2;return u?(lC(e[Le],a,n),(MT()===0||Vs(n))&&zs(a,e),xT()):zs(a,e),Qd()&&(!u||!av(n))&&yv(s,e,a,n),n}function Iv(n){let e=n;return my()?OT():(e=e.parent,Bs(e,!1)),e}function wF(n,e){let t=n[gi];if(!t)return;let r;try{r=t.get(Jt,null)}catch{r=null}r?.(e)}function wv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];zy(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];zy(h,l,r,i),a=!0}return a}function bF(n,e){let t=In(e,n),r=t[ne];DF(r,t);let i=t[kn];i!==null&&t[Bc]===null&&(t[Bc]=X0(i,t[gi])),Ae(18),bv(r,t,t[xt]),Ae(19,t[xt])}function DF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function bv(n,e,t){Wd(e);try{let r=n.viewQuery;r!==null&&qy(1,r,t);let i=n.template;i!==null&&vC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[po]?.finishViewCreation(n),n.staticContentQueries&&eC(n,e),n.staticViewQueries&&qy(2,n.viewQuery,t);let o=n.components;o!==null&&TF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ie]&=-5,Gd()}}function TF(n,e){for(let t=0;t<e.length;t++)bF(n,e[t])}function CF(n,e,t,r){let i=le(null);try{let o=e.tView,a=n[ie]&4096?4096:16,u=fv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ho]=l;let h=n[po];return h!==null&&(u[po]=h.createEmbeddedView(o)),bv(o,u,t),u}finally{le(i)}}function l0(n,e){return!e||e.firstChild===null||z0(n)}function eu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(En(o)),On(o)&&EC(o,r);let s=t.type;if(s&8)eu(n,e,t.child,r);else if(s&32){let a=mv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=yC(e,t);if(Array.isArray(a))r.push(...a);else{let u=hi(e[_n]);eu(u[ne],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function EC(n,e){for(let t=Yt;t<n.length;t++){let r=n[t],i=r[ne].firstChild;i!==null&&eu(r[ne],r,i,e)}n[yi]!==n[kn]&&e.push(n[yi])}function IC(n){if(n[mo]!==null){for(let e of n[mo])e.impl.addSequence(e);n[mo].length=0}}var wC=[];function SF(n){return n[sn]??AF(n)}function AF(n){let e=wC.pop()??Object.create(NF);return e.lView=n,e}function RF(n){n.lView[sn]!==n&&(n.lView=null,wC.push(n))}var NF=Z(V({},gs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Us(n.lView)},consumerOnSignalRead(){this.lView[sn]=this}});function MF(n){let e=n[sn]??Object.create(xF);return e.lView=n,e}var xF=Z(V({},gs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=hi(n.lView);for(;e&&!bC(e[ne]);)e=hi(e);e&&uy(e)},consumerOnSignalRead(){this.lView[sn]=this}});function bC(n){return n.type!==2}function DC(n){if(n[Hc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Hc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ie]&8192)}}var PF=100;function TC(n,e=0){let r=n[Yn].rendererFactory,i=!1;i||r.begin?.();try{kF(n,e)}finally{i||r.end?.()}}function kF(n,e){let t=gy();try{yy(!0),Gy(n,e);let r=0;for(;Gc(n);){if(r===PF)throw new B(103,!1);r++,Gy(n,1)}}finally{yy(t)}}function OF(n,e,t,r){if(go(e))return;let i=e[ie],o=!1,s=!1;Wd(e);let a=!0,u=null,l=null;o||(bC(n)?(l=SF(e),u=vs(l)):Zl()===null?(a=!1,l=MF(e),u=vs(l)):e[sn]&&(Rc(e[sn]),e[sn]=null));try{cy(e),jT(n.bindingStartIndex),t!==null&&vC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&th(e,y,null)}else{let y=n.preOrderHooks;y!==null&&nh(e,y,0,null),Ay(e,0)}if(s||FF(e),DC(e),CC(e,0),n.contentQueries!==null&&eC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&th(e,y)}else{let y=n.contentHooks;y!==null&&nh(e,y,1),Ay(e,1)}VF(n,e);let p=n.components;p!==null&&AC(e,p,0);let m=n.viewQuery;if(m!==null&&qy(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&th(e,y)}else{let y=n.viewHooks;y!==null&&nh(e,y,2),Ay(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Ud]){for(let y of e[Ud])y();e[Ud]=null}o||(IC(e),e[ie]&=-73)}catch(h){throw o||Us(e),h}finally{l!==null&&(Sc(l,u),a&&RF(l)),Gd()}}function CC(n,e){for(let t=G0(n);t!==null;t=K0(t))for(let r=Yt;r<t.length;r++){let i=t[r];SC(i,e)}}function FF(n){for(let e=G0(n);e!==null;e=K0(e)){if(!(e[ie]&2))continue;let t=e[Wc];for(let r=0;r<t.length;r++){let i=t[r];uy(i)}}}function LF(n,e,t){Ae(18);let r=In(e,n);SC(r,t),Ae(19,r[xt])}function SC(n,e){$d(n)&&Gy(n,e)}function Gy(n,e){let r=n[ne],i=n[ie],o=n[sn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ac(o)),s||=!1,o&&(o.dirty=!1),n[ie]&=-9217,s)OF(r,n,r.template,n[xt]);else if(i&8192){let a=le(null);try{DC(n),CC(n,1);let u=r.components;u!==null&&AC(n,u,1),IC(n)}finally{le(a)}}}function AC(n,e,t){for(let r=0;r<e.length;r++)LF(n,e[r],t)}function VF(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ei(~i);else{let o=i,s=t[++r],a=t[++r];BT(s,o);let u=e[o];Ae(24,u),a(2,u),Ae(25,u)}}}finally{Ei(-1)}}function Dv(n,e){let t=gy()?64:1088;for(n[Yn].changeDetectionScheduler?.notify(e);n;){n[ie]|=t;let r=hi(n);if(js(n)&&!r)return n;n=r}return null}function RC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function jF(n,e,t,r=!0){let i=e[ne];if(UF(i,e,n,t),r){let s=Wy(t,n),a=e[Le],u=a.parentNode(n[yi]);u!==null&&J1(i,n[vn],a,e,u,s)}let o=e[Bc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ky(n,e){if(n.length<=Yt)return;let t=Yt+e,r=n[t];if(r){let i=r[ho];i!==null&&i!==n&&gv(i,r),e>0&&(n[t-1][yn]=r[yn]);let o=Vc(n,Yt+e);Y1(r[ne],r);let s=o[po];s!==null&&s.detachView(o[ne]),r[wt]=null,r[yn]=null,r[ie]&=-129}return r}function UF(n,e,t,r){let i=Yt+r,o=t.length;r>0&&(t[i-1][yn]=e),r<o-Yt?(e[yn]=t[i],Kg(t,Yt+r,e)):(t.push(e),e[yn]=null),e[wt]=t;let s=e[ho];s!==null&&t!==s&&NC(s,e);let a=e[po];a!==null&&a.insertView(n),Hd(e),e[ie]|=128}function NC(n,e){let t=n[Wc],r=e[wt];if(Jn(r))n[ie]|=2;else{let i=r[wt][_n];e[_n]!==i&&(n[ie]|=2)}t===null?n[Wc]=[e]:t.push(e)}var wi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ne];return eu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[xt]}set context(e){this._lView[xt]=e}get destroyed(){return go(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[wt];if(On(e)){let t=e[zc],r=t?t.indexOf(this):-1;r>-1&&(Ky(e,r),Vc(t,r))}this._attachedToViewContainer=!1}gC(this._lView[ne],this._lView)}onDestroy(e){ly(this._lView,e)}markForCheck(){Dv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){Hd(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,TC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=js(this._lView),t=this._lView[ho];t!==null&&!e&&gv(t,this._lView),mC(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=js(this._lView),r=this._lView[ho];r!==null&&!t&&NC(r,this._lView),Hd(this._lView)}};var ou=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=BF;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=CF(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new wi(o)}}return n})();function BF(){return MC(pt(),_e())}function MC(n,e){return n.type&4?new ou(e,n,wh(n,e)):null}function xh(n,e,t,r,i){let o=n.data[e];if(o===null)o=$F(n,e,t,r,i),UT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=kT();o.injectorIndex=s===null?-1:s.injectorIndex}return Bs(o,!0),o}function $F(n,e,t,r,i){let o=py(),s=my(),a=s?o:o&&o.parent,u=n.data[e]=qF(n,a,t,e,r,i);return HF(n,u,o,s),u}function HF(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function qF(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return PT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var KK=new RegExp(`^(\\d+)*(${y1}|${g1})*(.*)`);var zF=()=>null;function d0(n,e){return zF(n,e)}var xC=class{},Ph=class{},Qy=class{resolveComponentFactory(e){throw new B(917,!1)}},su=class{static NULL=new Qy},Eo=class{},Or=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>WF()}return n})();function WF(){let n=_e(),e=pt(),t=In(e.index,n);return(Jn(t)?t:n)[Le]}var PC=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();var rh={},Yy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,rh,r);return i!==rh||t===rh?i:this.parentInjector.get(e,t,r)}};function hh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Vg(i,a);else if(o==2){let u=a,l=e[++s];r=Vg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function U(n,e=0){let t=_e();if(t===null)return K(n,e);let r=pt();return $0(r,t,It(n),e)}function kC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}QF(n,e,t,a,o,u,l)}o!==null&&r!==null&&GF(t,r,o)}function GF(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function KF(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function QF(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&Zn(y)&&(u=!0,KF(n,t,m)),Uy(ch(t,e),n,y.type)}tL(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=hC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=qs(t.mergedAttrs,y.hostAttrs),JF(n,t,e,p,y),eL(p,y,i),s!==null&&s.has(y)){let[P,A]=s.get(y);t.directiveToIndex.set(y.type,[p,P+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}YF(n,t,o)}function YF(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))h0(0,e,i,r),h0(1,e,i,r),p0(e,r,!1);else{let o=t.get(i);f0(0,e,o,r),f0(1,e,o,r),p0(e,r,!0)}}}function h0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),OC(e,o)}}function f0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),OC(e,s)}}function OC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function p0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||dv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function JF(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=di(i.type,!0)),s=new _o(o,Zn(i),U,null);n.blueprint[r]=s,t[r]=s,ZF(n,e,r,hC(n,t,i.hostVars,Un),i)}function ZF(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;XF(s)!=a&&s.push(a),s.push(t,r,o)}}function XF(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function eL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Zn(e)&&(t[""]=n)}}function tL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Tv(n,e,t,r,i,o,s,a){let u=e[ne],l=u.consts,h=yo(l,s),p=xh(u,n,t,r,h);return o&&kC(u,e,p,yo(l,a),i),p.mergedAttrs=qs(p.mergedAttrs,p.attrs),p.attrs!==null&&hh(p,p.attrs,!1),p.mergedAttrs!==null&&hh(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Cv(n,e){P0(n,e),iy(e)&&n.queries.elementEnd(e)}function nL(n,e,t,r,i,o){let s=e.consts,a=yo(s,i),u=xh(e,n,t,r,a);if(u.mergedAttrs=qs(u.mergedAttrs,u.attrs),o!=null){let l=yo(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&hh(u,u.attrs,!1),u.mergedAttrs!==null&&hh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Sv(n){return LC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function FC(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function LC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function rL(n,e,t){return n[e]=t}function Io(n,e,t){if(t===Un)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function VC(n,e,t,r){let i=Io(n,e,t);return Io(n,e+1,r)||i}function My(n,e,t){return function r(i){let o=vi(n)?In(n.index,e):e;Dv(o,5);let s=e[xt],a=m0(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=m0(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function m0(n,e,t,r){let i=le(null);try{return Ae(6,e,t),t(r)!==!1}catch(o){return wF(n,o),!1}finally{Ae(7,e,t),le(i)}}function iL(n,e,t,r,i,o,s,a){let u=Vs(n),l=!1,h=null;if(!r&&u&&(h=sL(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Fn(n,t),m=r?r(p):p;_1(t,m,o,a);let y=i.listen(m,o,a);if(!oL(o)){let C=r?P=>r(En(P[n.index])):n.index;jC(C,e,t,o,a,y,!1)}}return l}function oL(n){return n.startsWith("animation")||n.startsWith("transition")}function sL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Fs],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function jC(n,e,t,r,i,o,s){let a=e.firstCreatePass?NT(e):null,u=RT(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function g0(n,e,t,r,i,o){let s=e[t],a=e[ne],l=a.data[t].outputs[r],p=s[l].subscribe(o);jC(n.index,a,e,i,o,p,!0)}var Jy=Symbol("BINDING");var fh=class extends su{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=mi(e);return new Ws(t,this.ngModule)}};function aL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ah.SignalBased)!==0};return i&&(o.transform=i),o})}function cL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function uL(n,e,t){let r=e instanceof qe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Yy(t,r):t}function lL(n){let e=n.get(Eo,null);if(e===null)throw new B(407,!1);let t=n.get(PC,null),r=n.get(Mr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function dL(n,e){let t=UC(n);return cC(e,t,t==="svg"?DT:t==="math"?TT:null)}function UC(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ws=class extends Ph{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=aL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=cL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=L1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ae(22);let a=le(null);try{let u=this.componentDef,l=hL(r,u,s,o),h=uL(u,i||this.ngModule,e),p=lL(h),m=p.rendererFactory.createRenderer(null,u),y=r?lF(m,r,u.encapsulation,h):dL(u,m),C=s?.some(y0)||o?.some(O=>typeof O!="function"&&O.bindings.some(y0)),P=fv(null,l,null,512|dC(u),null,null,p,m,h,null,X0(y,h,!0));P[ft]=y,Wd(P);let A=null;try{let O=Tv(ft,P,2,"#host",()=>l.directiveRegistry,!0,0);lC(m,y,O),zs(y,P),Nh(l,P,O),cv(l,O,P),Cv(l,O),t!==void 0&&pL(O,this.ngContentSelectors,t),A=In(O.index,P),P[xt]=A[xt],bv(l,P,null)}catch(O){throw A!==null&&$y(A),$y(P),O}finally{Ae(23),Gd()}return new ph(this.componentType,P,!!C)}finally{le(a)}}};function hL(n,e,t,r){let i=n?["ng-version","20.3.4"]:V1(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Jy].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Jy].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Zg(p);u.push(m)}return hv(0,null,fL(o,s),1,a,u,null,null,null,[i],null)}function fL(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function y0(n){let e=n[Jy].kind;return e==="input"||e==="twoWay"}var ph=class extends xC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Bd(t[ne],ft),this.location=wh(this._tNode,t),this.instance=In(this._tNode.index,t)[xt],this.hostView=this.changeDetectorRef=new wi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=wv(r,i[ne],i,e,t);this.previousInputValues.set(e,t);let s=In(r.index,i);Dv(s,1)}get injector(){return new vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function pL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Do=(()=>{class n{static __NG_ELEMENT_ID__=mL}return n})();function mL(){let n=pt();return yL(n,_e())}var gL=Do,BC=class extends gL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wh(this._hostTNode,this._hostLView)}get injector(){return new vo(this._hostTNode,this._hostLView)}get parentInjector(){let e=iv(this._hostTNode,this._hostLView);if(F0(e)){let t=sh(e,this._hostLView),r=oh(e),i=t[ne].data[r+8];return new vo(i,t)}else return new vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=v0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=d0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,l0(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!zO(e),l;if(u)l=t;else{let A=t||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let h=u?e:new Ws(mi(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let O=(u?p:this.parentInjector).get(qe,null);O&&(o=O)}let m=mi(h.componentType??{}),y=d0(this._lContainer,m?.id??null),C=y?.firstChild??null,P=h.create(p,i,C,o,s,a);return this.insertImpl(P.hostView,l,l0(this._hostTNode,y)),P}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(CT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[wt],l=new BC(u,u[vn],u[wt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return jF(s,i,o,r),e.attachToViewContainerRef(),Kg(xy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=v0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ky(this._lContainer,t);r&&(Vc(xy(this._lContainer),t),gC(r[ne],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ky(this._lContainer,t);return r&&Vc(xy(this._lContainer),t)!=null?new wi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function v0(n){return n[zc]}function xy(n){return n[zc]||(n[zc]=[])}function yL(n,e){let t,r=e[n.index];return On(r)?t=r:(t=RC(r,e,null,n),e[n.index]=t,pv(e,t)),_L(t,e,n,r),new BC(t,n,e)}function vL(n,e){let t=n[Le],r=t.createComment(""),i=Fn(e,n),o=t.parentNode(i);return dh(t,o,r,t.nextSibling(i),!1),r}var _L=wL,EL=()=>!1;function IL(n,e,t){return EL(n,e,t)}function wL(n,e,t,r){if(n[yi])return;let i;t.type&8?i=En(r):i=vL(e,t),n[yi]=i}var _0=new Set;function au(n){_0.has(n)||(_0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var wo=class{},kh=class{};var mh=class extends wo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new fh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Jg(e);this._bootstrapComponents=sC(o.bootstrap),this._r3Injector=wy(e,t,[{provide:wo,useValue:this},{provide:su,useValue:this.componentFactoryResolver},...r],Nr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},gh=class extends kh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new mh(this.moduleType,e,[])}};var tu=class extends wo{injector;componentFactoryResolver=new fh(this);instance=null;constructor(e){super();let t=new ao([...e.providers,{provide:wo,useValue:this},{provide:su,useValue:this.componentFactoryResolver}],e.parent||Uc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cu(n,e,t=null){return new tu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var bL=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Xg(!1,t.type),i=r.length>0?cu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(K(qe))})}return n})();function Ze(n){return Ks(()=>{let e=$C(n),t=Z(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ov.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(bL).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Pr.Emulated,styles:n.styles||on,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&au("NgStandalone"),HC(t);let r=n.dependencies;return t.directiveDefs=E0(r,DL),t.pipeDefs=E0(r,yT),t.id=SL(t),t})}function DL(n){return mi(n)||Zg(n)}function Bn(n){return Ks(()=>({type:n.type,bootstrap:n.bootstrap||on,declarations:n.declarations||on,imports:n.imports||on,exports:n.exports||on,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function TL(n,e){if(n==null)return fi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Ah.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function CL(n){if(n==null)return fi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ne(n){return Ks(()=>{let e=$C(n);return HC(e),e})}function Oh(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function $C(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||fi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||on,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:TL(n.inputs,e),outputs:CL(n.outputs),debugInfo:null}}function HC(n){n.features?.forEach(e=>e(n))}function E0(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function SL(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function AL(n){return Object.getPrototypeOf(n.prototype).constructor}function bt(n){let e=AL(n.type),t=!0,r=[n];for(;e;){let i;if(Zn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Py(n.inputs),s.declaredInputs=Py(n.declaredInputs),s.outputs=Py(n.outputs);let a=i.hostBindings;a&&PL(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&ML(n,u),l&&xL(n,l),RL(n,i),uT(n.outputs,i.outputs),Zn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===bt&&(t=!1)}}e=Object.getPrototypeOf(e)}NL(r)}function RL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function NL(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qs(i.hostAttrs,t=qs(t,i.hostAttrs))}}function Py(n){return n===fi?{}:n===on?[]:n}function ML(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function xL(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function PL(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function kL(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=qs(n.mergedAttrs,n.attrs);let h=n.tView=hv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Bs(n,!1);let u=FL(t,e,n,r);Qd()&&yv(t,e,u,n),zs(u,e);let l=RC(u,e,u,n);e[r+ft]=l,pv(e,l),IL(l,n,e)}function OL(n,e,t,r,i,o,s,a,u,l,h){let p=t+ft,m;return e.firstCreatePass?(m=xh(e,p,4,s||null,a||null),qd()&&kC(e,n,m,yo(e.consts,l),_v),P0(e,m)):m=e.data[p],kL(m,n,e,t,r,i,o,u),Vs(m)&&Nh(e,n,m),l!=null&&Mh(n,m,h),m}function We(n,e,t,r,i,o,s,a){let u=_e(),l=Bt(),h=yo(l.consts,o);return OL(u,l,n,e,t,r,i,h,void 0,s,a),We}var FL=LL;function LL(n,e,t,r){return Qc(!0),e[Le].createComment("")}var Fh=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Fh||{}),To=new q(""),qC=!1,Zy=class extends et{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,wT()&&(this.destroyRef=k(Ln,{optional:!0})??void 0,this.pendingTasks=k(Xn,{optional:!0})??void 0)}emit(e){let t=le(null);try{super.next(e)}finally{le(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof He&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ze=Zy;function zC(n){let e,t;function r(){n=Jc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function I0(n){return queueMicrotask(()=>n()),()=>{n=Jc}}var Av="isAngularZone",yh=Av+"_ID",VL=0,Re=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ze(!1);onMicrotaskEmpty=new ze(!1);onStable=new ze(!1);onError=new ze(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=qC}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,BL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Av)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,jL,Jc,Jc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},jL={};function Rv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function UL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){zC(()=>{n.callbackScheduled=!1,Xy(n),n.isCheckStableRunning=!0,Rv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Xy(n)}function BL(n){let e=()=>{UL(n)},t=VL++;n._inner=n._inner.fork({name:"angular",properties:{[Av]:!0,[yh]:t,[yh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if($L(u))return r.invokeTask(o,s,a,u);try{return w0(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),b0(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return w0(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!HL(u)&&e(),b0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Xy(n),Rv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Xy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function w0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function b0(n){n._nesting--,Rv(n)}var vh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ze;onMicrotaskEmpty=new ze;onStable=new ze;onError=new ze;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function $L(n){return WC(n,"__ignore_ng_zone__")}function HL(n){return WC(n,"__scheduler_tick__")}function WC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Nv=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),GC=[0,1,2,3],KC=(()=>{class n{ngZone=k(Re);scheduler=k(Mr);errorHandler=k(xn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){k(To,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ae(16),this.executing=!0;for(let r of GC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ae(17)}register(t){let{view:r}=t;r!==void 0?((r[mo]??=[]).push(t),Us(r),r[ie]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Fh.AFTER_NEXT_RENDER,t):t()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),_h=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[mo];e&&(this.view[mo]=e.filter(t=>t!==this))}};function Lh(n,e){let t=e?.injector??k(ht);return au("NgAfterNextRender"),zL(n,t,e,!0)}function qL(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function zL(n,e,t,r){let i=e.get(Nv);i.impl??=e.get(KC);let o=e.get(To,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Ln):null,a=e.get(Yd,null,{optional:!0}),u=new _h(i.impl,qL(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var Mv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var xv=new q("");function Di(n){return!!n&&typeof n.then=="function"}function Pv(n){return!!n&&typeof n.subscribe=="function"}var QC=new q("");var kv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=k(QC,{optional:!0})??[];injector=k(ht);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Qe(this.injector,i);if(Di(o))t.push(o);else if(Pv(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vh=new q("");function YC(){ag(()=>{let n="";throw new B(600,n)})}function JC(n){return n.isBoundToModule}var WL=10;var Fr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=k(Jt);afterRenderManager=k(Nv);zonelessEnabled=k(Yc);rootEffectScheduler=k(Sy);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new et;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=k(Xn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(te(t=>!t))}constructor(){k(To,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=k(qe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ht.NULL){return this._injector.get(Re).run(()=>{Ae(10);let s=t instanceof Ph;if(!this._injector.get(kv).done){let C="";throw new B(405,C)}let u;s?u=t:u=this._injector.get(su).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=JC(u)?void 0:this._injector.get(wo),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(xv,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Xc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Ae(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ae(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Fh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let t=le(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,le(t),this.afterTick.next(),Ae(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Eo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<WL;)Ae(14),this.synchronizeOnce(),Ae(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Gc(i))continue;let o=r&&!this.zonelessEnabled?0:1;TC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Gc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Xc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Vh,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Xc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Co(n,e,t,r){let i=_e(),o=Kc();if(Io(i,o,e)){let s=Bt(),a=Kd();_F(a,i,n,e,t,r)}return Co}var tQ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function we(n,e,t){let r=_e(),i=Kc();if(Io(r,i,e)){let o=Bt(),s=Kd();_C(s,r,n,e,r[Le],t)}return we}function D0(n,e,t,r,i){wv(e,n,t,i?"class":"style",r)}function N(n,e,t,r){let i=_e(),o=i[ne],s=n+ft,a=o.firstCreatePass?Tv(s,i,2,e,_v,qd(),t,r):o.data[s];if(Ev(a,i,n,e,ZC),Vs(a)){let u=i[ne];Nh(u,i,a),cv(u,a,i)}return r!=null&&Mh(i,a),N}function M(){let n=Bt(),e=pt(),t=Iv(e);return n.firstCreatePass&&Cv(n,t),hy(t)&&fy(),dy(),t.classesWithoutHost!=null&&JO(t)&&D0(n,t,_e(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ZO(t)&&D0(n,t,_e(),t.stylesWithoutHost,!1),M}function $t(n,e,t,r){return N(n,e,t,r),M(),$t}function Ve(n,e,t,r){let i=_e(),o=i[ne],s=n+ft,a=o.firstCreatePass?nL(s,o,2,e,t,r):o.data[s];return Ev(a,i,n,e,ZC),r!=null&&Mh(i,a),Ve}function je(){let n=pt(),e=Iv(n);return hy(e)&&fy(),dy(),je}var ZC=(n,e,t,r,i)=>(Qc(!0),cC(e[Le],r,KT()));function jh(n,e,t){let r=_e(),i=r[ne],o=n+ft,s=i.firstCreatePass?Tv(o,r,8,"ng-container",_v,qd(),e,t):i.data[o];if(Ev(s,r,n,"ng-container",GL),Vs(s)){let a=r[ne];Nh(a,r,s),cv(a,s,r)}return t!=null&&Mh(r,s),jh}function Uh(){let n=Bt(),e=pt(),t=Iv(e);return n.firstCreatePass&&Cv(n,t),Uh}var GL=(n,e,t,r,i)=>(Qc(!0),B1(e[Le],""));function Ht(){return _e()}var Xd=void 0;function KL(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var QL=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xd,"{1} 'at' {0}",Xd],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",KL],ky={};function uu(n){let e=YL(n),t=T0(e);if(t)return t;let r=e.split("-")[0];if(t=T0(r),t)return t;if(r==="en")return QL;throw new B(701,!1)}function T0(n){return n in ky||(ky[n]=xr.ng&&xr.ng.common&&xr.ng.common.locales&&xr.ng.common.locales[n]),ky[n]}var Ti=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Ti||{});function YL(n){return n.toLowerCase().replace(/_/g,"-")}var lu="en-US",JL="USD";var ZL=lu;function XC(n){typeof n=="string"&&(ZL=n.toLowerCase().replace(/_/g,"-"))}function ce(n,e,t){let r=_e(),i=Bt(),o=pt();return eS(i,r,r[Le],o,n,e,t),ce}function eS(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=My(r,e,o),iL(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=My(r,e,o),g0(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=My(r,e,o),g0(r,e,p,i,i,u)}}function ke(n=1){return GT(n)}function Ov(n){let e=FT();return sy(e,ft+n)}function eh(n,e){return n<<17|e<<2}function bo(n){return n>>17&32767}function XL(n){return(n&2)==2}function eV(n,e){return n&131071|e<<17}function ev(n){return n|2}function Gs(n){return(n&131068)>>2}function Oy(n,e){return n&-131069|e<<2}function tV(n){return(n&1)===1}function tv(n){return n|1}function nV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=bo(s),u=Gs(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Os(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=bo(n[a+1]);n[r+1]=eh(m,a),m!==0&&(n[m+1]=Oy(n[m+1],r)),n[a+1]=eV(n[a+1],r)}else n[r+1]=eh(a,0),a!==0&&(n[a+1]=Oy(n[a+1],r)),a=r;else n[r+1]=eh(u,0),a===0?a=r:n[u+1]=Oy(n[u+1],r),u=r;l&&(n[r+1]=ev(n[r+1])),C0(n,h,r,!0),C0(n,h,r,!1),rV(e,h,n,r,o),s=eh(a,u),o?e.classBindings=s:e.styleBindings=s}function rV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Os(o,e)>=0&&(t[r+1]=tv(t[r+1]))}function C0(n,e,t,r){let i=n[t+1],o=e===null,s=r?bo(i):Gs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];iV(u,e)&&(a=!0,n[s+1]=r?tv(l):ev(l)),s=r?bo(l):Gs(l)}a&&(n[t+1]=r?ev(i):tv(i))}function iV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Os(n,e)>=0:!1}function Ci(n,e){return oV(n,e,null,!0),Ci}function oV(n,e,t,r){let i=_e(),o=Bt(),s=vy(2);if(o.firstUpdatePass&&aV(o,n,s,r),e!==Un&&Io(i,s,e)){let a=o.data[_i()];hV(o,a,i,i[Le],n,i[s+1]=fV(e,t),r,s)}}function sV(n,e){return e>=n.expandoStartIndex}function aV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[_i()],s=sV(n,t);pV(o,r)&&e===null&&!s&&(e=!1),e=cV(i,o,e,r),nV(i,o,e,t,s,r)}}function cV(n,e,t,r){let i=HT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Fy(null,n,e,t,r),t=nu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Fy(i,n,e,t,r),o===null){let u=uV(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Fy(null,n,e,u[1],r),u=nu(u,e.attrs,r),lV(n,e,r,u))}else o=dV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function uV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Gs(r)!==0)return n[bo(r)]}function lV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[bo(i)]=r}function dV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=nu(r,s,t)}return nu(r,e.attrs,t)}function Fy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=nu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function nu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),gT(n,s,t?!0:e[++o]))}return n===void 0?null:n}function hV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=tV(l)?S0(u,e,t,i,Gs(l),s):void 0;if(!Eh(h)){Eh(o)||XL(l)&&(o=S0(u,null,t,i,a,s));let p=oy(_i(),t);uF(r,s,p,i,o)}}function S0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Un&&(m=p?on:void 0);let y=p?jd(m,r):h===r?m:void 0;if(l&&!Eh(y)&&(y=jd(u,r)),Eh(y)&&(a=y,s))return a;let C=n[i+1];i=s?bo(C):Gs(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=jd(u,r))}return a}function Eh(n){return n!==void 0}function fV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Nr(Ch(n)))),n}function pV(n,e){return(n.flags&(e?8:16))!==0}function x(n,e=""){let t=_e(),r=Bt(),i=n+ft,o=r.firstCreatePass?xh(r,i,1,e,null):r.data[i],s=mV(r,t,o,e,n);t[i]=s,Qd()&&yv(r,t,s,o),Bs(o,!1)}var mV=(n,e,t,r,i)=>(Qc(!0),j1(e[Le],r));function tS(n,e,t,r=""){return Io(n,Kc(),t)?e+uo(t)+r:Un}function gV(n,e,t,r,i,o=""){let s=VT(),a=VC(n,s,t,i);return vy(2),a?e+uo(t)+r+uo(i)+o:Un}function Ie(n){return qt("",n),Ie}function qt(n,e,t){let r=_e(),i=tS(r,n,e,t);return i!==Un&&nS(r,_i(),i),qt}function So(n,e,t,r,i){let o=_e(),s=gV(o,n,e,t,r,i);return s!==Un&&nS(o,_i(),s),So}function nS(n,e,t){let r=oy(e,n);U1(n[Le],r,t)}function Zt(n,e,t){Dy(e)&&(e=e());let r=_e(),i=Kc();if(Io(r,i,e)){let o=Bt(),s=Kd();_C(s,r,n,e,r[Le],t)}return Zt}function cn(n,e){let t=Dy(n);return t&&n.set(e),t}function Xt(n,e){let t=_e(),r=Bt(),i=pt();return eS(r,t,t[Le],i,n,e),Xt}function Fv(n,e,t=""){return tS(_e(),n,e,t)}function yV(n,e,t){let r=Bt();if(r.firstCreatePass){let i=Zn(n);nv(t,r.data,r.blueprint,i,!0),nv(e,r.data,r.blueprint,i,!1)}}function nv(n,e,t,r,i){if(n=It(n),Array.isArray(n))for(let o=0;o<n.length;o++)nv(n[o],e,t,r,i);else{let o=Bt(),s=_e(),a=pt(),u=so(n)?n:It(n.provide),l=ty(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(so(n)||!n.multi){let y=new _o(l,i,U,null),C=Vy(u,e,i?h:h+m,p);C===-1?(Uy(ch(a,s),o,u),Ly(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[C]=y,s[C]=y)}else{let y=Vy(u,e,h+m,p),C=Vy(u,e,h,h+m),P=y>=0&&t[y],A=C>=0&&t[C];if(i&&!A||!i&&!P){Uy(ch(a,s),o,u);let O=EV(i?_V:vV,t.length,i,r,l,n);!i&&A&&(t[C].providerFactory=O),Ly(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else{let O=rS(t[i?C:y],l,!i&&r);Ly(o,n,y>-1?y:C,O)}!i&&r&&A&&t[C].componentProviders++}}}function Ly(n,e,t,r){let i=so(e),o=IT(e);if(i||o){let u=(o?It(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function rS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Vy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function vV(n,e,t,r,i){return rv(this.multi,[])}function _V(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=uh(r,r[ne],this.providerFactory.index,i);s=u.slice(0,a),rv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],rv(o,s);return s}function rv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function EV(n,e,t,r,i,o){let s=new _o(n,t,U,null);return s.multi=[],s.index=e,s.componentProviders=0,rS(s,i,r&&!t),s}function un(n,e=[]){return t=>{t.providersResolver=(r,i)=>yV(r,i?i(n):n,e)}}function IV(n,e){let t=n[e];return t===Un?void 0:t}function wV(n,e,t,r,i,o,s){let a=e+t;return VC(n,a,i,o)?rL(n,a+2,s?r.call(s,i,o):r(i,o)):IV(n,a+2)}function rr(n,e){let t=Bt(),r,i=n+ft;t.firstCreatePass?(r=bV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=di(r.type,!0)),s,a=Ut(U);try{let u=ah(!1),l=o();return ah(u),ay(t,_e(),i,l),l}finally{Ut(a)}}function bV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function ir(n,e,t,r){let i=n+ft,o=_e(),s=sy(o,i);return DV(o,i)?wV(o,LT(),e,s.transform,t,r,s):s.transform(t,r)}function DV(n,e){return n[ne].data[e].pure}function Lv(n,e){return MC(n,e)}var Ih=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Vv=(()=>{class n{compileModuleSync(t){return new gh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Jg(t),o=sC(i.declarations).reduce((s,a)=>{let u=mi(a);return u&&s.push(new Ws(u)),s},[]);return new Ih(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var TV=(()=>{class n{zone=k(Re);changeDetectionScheduler=k(Mr);applicationRef=k(Fr);applicationErrorHandler=k(Jt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iS=new q("",{factory:()=>!1});function jv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Re(Z(V({},Bv()),{scheduleInRootZone:t})),[{provide:Re,useFactory:n},{provide:pi,multi:!0,useFactory:()=>{let r=k(TV,{optional:!0});return()=>r.initialize()}},{provide:pi,multi:!0,useFactory:()=>{let r=k(CV);return()=>{r.initialize()}}},e===!0?{provide:Ty,useValue:!0}:[],{provide:Cy,useValue:t??qC},{provide:Jt,useFactory:()=>{let r=k(Re),i=k(qe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(xn),o.handleError(s))})}}}]}function Uv(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=jv({ngZoneFactory:()=>{let i=Bv(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&au("NgZone_CoalesceEvent"),new Re(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Pn([{provide:iS,useValue:!0},{provide:Yc,useValue:!1},r])}function Bv(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var CV=(()=>{class n{subscription=new He;initialized=!1;zone=k(Re);pendingTasks=k(Xn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oS=(()=>{class n{applicationErrorHandler=k(Jt);appRef=k(Fr);taskService=k(Xn);ngZone=k(Re);zonelessEnabled=k(Yc);tracing=k(To,{optional:!0});disableScheduling=k(Ty,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new He;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(Cy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?I0:zC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,I0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SV(){return typeof $localize<"u"&&$localize.locale||lu}var Qs=new q("",{providedIn:"root",factory:()=>k(Qs,{optional:!0,skipSelf:!0})||SV()}),$v=new q("",{providedIn:"root",factory:()=>JL});function ct(n){return sT(n)}function Ao(n,e){return nd(n,e?.equal)}var sS=class{[Rt];constructor(e){this[Rt]=e}destroy(){this[Rt].destroy()}};var lS=Symbol("InputSignalNode#UNSET"),HV=Z(V({},rd),{transformFn:void 0,applyValueToInputSignal(n,e){Es(n,e)}});function dS(n,e){let t=Object.create(HV);t.value=n,t.transformFn=e?.transform;function r(){if(ys(t),t.value===lS){let i=null;throw new B(-950,i)}return t.value}return r[Rt]=t,r}var $h=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ru(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},qV=new q("");qV.__NG_ELEMENT_ID__=n=>{let e=pt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new B(204,!1)};function aS(n,e){return dS(n,e)}function zV(n){return dS(lS,n)}var hS=(aS.required=zV,aS);var Hv=new q(""),WV=new q("");function du(n){return!n.moduleRef}function GV(n){let e=du(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Re);return t.run(()=>{du(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Jt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),du(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Hv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Hv);s.add(o),n.moduleRef.onDestroy(()=>{Xc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return QV(r,t,()=>{let o=e.get(Xn),s=o.add(),a=e.get(kv);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Qs,lu);if(XC(u||lu),!e.get(WV,!0))return du(n)?e.get(Fr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(du(n)){let h=e.get(Fr);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return KV?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var KV;function QV(n,e,t){try{let r=t();return Di(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Bh=null;function YV(n=[],e){return ht.create({name:e,providers:[{provide:jc,useValue:"platform"},{provide:Hv,useValue:new Set([()=>Bh=null])},...n]})}function JV(n=[]){if(Bh)return Bh;let e=YV(n);return Bh=e,YC(),ZV(e),e}function ZV(n){let e=n.get(Dh,null);Qe(n,()=>{e?.forEach(t=>t())})}function Kv(){return!1}var $n=(()=>{class n{static __NG_ELEMENT_ID__=XV}return n})();function XV(n){return e2(pt(),_e(),(n&16)===16)}function e2(n,e,t){if(vi(n)&&!t){let r=In(n.index,e);return new wi(r,r)}else if(n.type&175){let r=e[_n];return new wi(r,e)}return null}var qv=class{constructor(){}supports(e){return Sv(e)}create(e){return new zv(e)}},t2=(n,e)=>e,zv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||t2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<cS(r,i,o)?t:r,a=cS(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Sv(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,FC(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Wv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Hh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Gv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Hh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Gv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function uS(){return new Qv([new qv])}var Qv=(()=>{class n{factories;static \u0275prov=z({token:n,providedIn:"root",factory:uS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=k(n,{optional:!0,skipSelf:!0});return n.create(t,r||uS())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new B(901,!1)}}return n})();function fS(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ae(8);try{let o=i?.injector??JV(r),s=[jv({}),{provide:Mr,useExisting:oS},YT,...t||[]],a=new tu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return GV({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ae(9)}}function Ro(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var gS=null;function bn(){return gS}function Yv(n){gS??=n}var hu=class{},Jv=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>k(yS),providedIn:"platform"})}return n})();var yS=(()=>{class n extends Jv{_location;_history;_doc=k(at);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bn().getBaseHref(this._doc)}onPopState(t){let r=bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function vS(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function pS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Si(n){return n&&n[0]!=="?"?`?${n}`:n}var Ys=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>k(ES),providedIn:"root"})}return n})(),_S=new q(""),ES=(()=>{class n extends Ys{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return vS(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Si(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Si(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Si(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(K(Jv),K(_S,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Js=(()=>{class n{_subject=new et;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=i2(pS(mS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Si(r))}normalize(t){return n.stripTrailingSlash(r2(this._basePath,mS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Si(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Si(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Si;static joinWithSlash=vS;static stripTrailingSlash=pS;static \u0275fac=function(r){return new(r||n)(K(Ys))};static \u0275prov=z({token:n,factory:()=>n2(),providedIn:"root"})}return n})();function n2(){return new Js(K(Ys))}function r2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function mS(n){return n.replace(/\/index.html$/,"")}function i2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var TS={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Gh=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(Gh||{});var ln={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function No(n,e){let t=uu(n),r=t[Ti.NumberSymbols][e];if(typeof r>"u"){if(e===ln.CurrencyDecimal)return t[Ti.NumberSymbols][ln.Decimal];if(e===ln.CurrencyGroup)return t[Ti.NumberSymbols][ln.Group]}return r}function e_(n,e){return uu(n)[Ti.NumberFormats][e]}function o2(n){return uu(n)[Ti.Currencies]}function CS(n,e,t="en"){let r=o2(t)[n]||TS[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var s2=2;function SS(n){let e,t=TS[n];return t&&(e=t[2]),typeof e=="number"?e:s2}var a2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,IS=22,qh=".",fu="0",c2=";",u2=",",Zv="#",wS="\xA4";function AS(n,e,t,r,i,o,s=!1){let a="",u=!1;if(!isFinite(n))a=No(t,ln.Infinity);else{let l=d2(n);s&&(l=l2(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let W=o.match(a2);if(W===null)throw new B(2306,!1);let Q=W[1],X=W[3],xe=W[5];Q!=null&&(h=Xv(Q)),X!=null&&(p=Xv(X)),xe!=null?m=Xv(xe):X!=null&&p>m&&(m=p)}h2(l,p,m);let y=l.digits,C=l.integerLen,P=l.exponent,A=[];for(u=y.every(W=>!W);C<h;C++)y.unshift(0);for(;C<0;C++)y.unshift(0);C>0?A=y.splice(C,y.length):(A=y,y=[0]);let O=[];for(y.length>=e.lgSize&&O.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)O.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&O.unshift(y.join("")),a=O.join(No(t,r)),A.length&&(a+=No(t,i)+A.join("")),P&&(a+=No(t,ln.Exponential)+"+"+P)}return n<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function RS(n,e,t,r,i){let o=e_(e,Gh.Currency),s=MS(o,No(e,ln.MinusSign));return s.minFrac=SS(r),s.maxFrac=s.minFrac,AS(n,s,e,ln.CurrencyGroup,ln.CurrencyDecimal,i).replace(wS,t).replace(wS,"").trim()}function NS(n,e,t){let r=e_(e,Gh.Decimal),i=MS(r,No(e,ln.MinusSign));return AS(n,i,e,ln.Group,ln.Decimal,t)}function MS(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(c2),i=r[0],o=r[1],s=i.indexOf(qh)!==-1?i.split(qh):[i.substring(0,i.lastIndexOf(fu)+1),i.substring(i.lastIndexOf(fu)+1)],a=s[0],u=s[1]||"";t.posPre=a.substring(0,a.indexOf(Zv));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===fu?t.minFrac=t.maxFrac=h+1:p===Zv?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(u2);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(Zv);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function l2(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function d2(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(qh))>-1&&(e=e.replace(qh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===fu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===fu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>IS&&(r=r.splice(0,IS-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function h2(n,e,t){if(e>t)throw new B(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,m,y,C){return m=m+p,C[y]=m<10?m:m-10,u&&(C[y]===0&&y>=l?C.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function Xv(n){let e=parseInt(n);if(isNaN(e))throw new B(2305,!1);return e}var zh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Dn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),bS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);bS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(U(Do),U(ou),U(Qv))};static \u0275dir=Ne({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function bS(n,e){n.context.$implicit=e.item}var Hn=(()=>{class n{_viewContainer;_context=new Wh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){DS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){DS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(U(Do),U(ou))};static \u0275dir=Ne({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Wh=class{$implicit=null;ngIf=null};function DS(n,e){if(n&&!n.createEmbeddedView)throw new B(2020,!1)}function xS(n,e){return new B(2100,!1)}var t_=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!PS(t))return null;i||=this._locale;try{let o=kS(t);return NS(o,i,r)}catch(o){throw xS(n,o.message)}}static \u0275fac=function(r){return new(r||n)(U(Qs,16))};static \u0275pipe=Oh({name:"number",type:n,pure:!0})}return n})();var n_=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!PS(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=CS(a,i==="symbol"?"wide":"narrow",s):a=i);try{let u=kS(t);return RS(u,s,a,r,o)}catch(u){throw xS(n,u.message)}}static \u0275fac=function(r){return new(r||n)(U(Qs,16),U($v,16))};static \u0275pipe=Oh({name:"currency",type:n,pure:!0})}return n})();function PS(n){return!(n==null||n===""||n!==n)}function kS(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new B(2309,!1);return n}var Pt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=gn({})}return n})();function pu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Mo=class{};var OS="browser";var Qh=new q(""),a_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(K(Qh),K(Re))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),mu=class{_doc;constructor(e){this._doc=e}manager},r_="ng-app-id";function FS(n){for(let e of n)e.remove()}function LS(n,e){let t=e.createElement("style");return t.textContent=n,t}function f2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${r_}="${e}"],link[${r_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(r_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function o_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var c_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,f2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,LS);r?.forEach(i=>this.addUsage(i,this.external,o_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(FS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])FS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,LS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,o_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(K(at),K(bh),K(Th,8),K(bi))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),i_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},u_=/%COMP%/g;var jS="%COMP%",p2=`_nghost-${jS}`,m2=`_ngcontent-${jS}`,g2=!0,y2=new q("",{providedIn:"root",factory:()=>g2});function v2(n){return m2.replace(u_,n)}function _2(n){return p2.replace(u_,n)}function US(n,e){return e.map(t=>t.replace(u_,n))}var l_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new gu(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Kh?i.applyToHost(t):i instanceof yu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Pr.Emulated:o=new Kh(u,l,r,this.appId,h,s,a,p,m);break;case Pr.ShadowDom:return new s_(u,l,t,r,s,a,this.nonce,p,m);default:o=new yu(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(K(a_),K(c_),K(bh),K(y2),K(at),K(bi),K(Re),K(Th),K(To,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),gu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(i_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(VS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(VS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=i_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=i_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(tr.DashCase|tr.Important)?e.style.setProperty(t,r,i&tr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&tr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=bn().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function VS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var s_=class extends gu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=US(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=o_(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yu=class extends gu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?US(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&iu.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kh=class extends yu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=v2(h),this.hostAttr=_2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Yh=class n extends hu{supportsDOMEvents=!0;static makeCurrent(){Yv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=E2();return t==null?null:I2(t)}resetBaseElement(){vu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pu(document.cookie,e)}},vu=null;function E2(){return vu=vu||document.head.querySelector("base"),vu?vu.getAttribute("href"):null}function I2(n){return new URL(n,document.baseURI).pathname}var w2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),$S=(()=>{class n extends mu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(K(at))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),BS=["alt","control","meta","shift"],b2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},HS=(()=>{class n extends mu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),BS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=b2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),BS.forEach(s=>{if(s!==i){let a=D2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(K(at))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function d_(n,e,t){let r=V({rootComponent:n,platformRef:t?.platformRef},T2(e));return fS(r)}function T2(n){return{appProviders:[...N2,...n?.providers??[]],platformProviders:R2}}function C2(){Yh.makeCurrent()}function S2(){return new xn}function A2(){return sv(document),document}var R2=[{provide:bi,useValue:OS},{provide:Dh,useValue:C2,multi:!0},{provide:at,useFactory:A2}];var N2=[{provide:jc,useValue:"root"},{provide:xn,useFactory:S2},{provide:Qh,useClass:$S,multi:!0,deps:[at]},{provide:Qh,useClass:HS,multi:!0,deps:[at]},l_,c_,a_,{provide:Eo,useExisting:l_},{provide:Mo,useClass:w2},[]];var ea=class{},_u=class{},or=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Zh=class{encodeKey(e){return qS(e)}encodeValue(e){return qS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function M2(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var x2=/%(\d[a-f0-9])/gi,P2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qS(n){return encodeURIComponent(n).replace(x2,(e,t)=>P2[t]??e)}function Jh(n){return`${n}`}var Vr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Zh,e.fromString){if(e.fromObject)throw new B(2805,!1);this.map=M2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Jh):[Jh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Jh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Jh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Xh=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function k2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WS(n){return typeof Blob<"u"&&n instanceof Blob}function GS(n){return typeof FormData<"u"&&n instanceof FormData}function O2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var KS="Content-Type",QS="Accept",YS="X-Request-URL",JS="text/plain",ZS="application/json",F2=`${ZS}, ${JS}, */*`,Zs=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(k2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new B(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new or,this.context??=new Xh,!this.params)this.params=new Vr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zS(this.body)||WS(this.body)||GS(this.body)||O2(this.body)?this.body:this.body instanceof Vr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||GS(this.body)?null:WS(this.body)?this.body.type||null:zS(this.body)?null:typeof this.body=="string"?JS:this.body instanceof Vr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?ZS:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,u=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,p=e.referrer||this.referrer,m=e.integrity||this.integrity,y=e.transferCache??this.transferCache,C=e.timeout??this.timeout,P=e.body!==void 0?e.body:this.body,A=e.withCredentials??this.withCredentials,O=e.reportProgress??this.reportProgress,W=e.headers||this.headers,Q=e.params||this.params,X=e.context??this.context;return e.setHeaders!==void 0&&(W=Object.keys(e.setHeaders).reduce((xe,fe)=>xe.set(fe,e.setHeaders[fe]),W)),e.setParams&&(Q=Object.keys(e.setParams).reduce((xe,fe)=>xe.set(fe,e.setParams[fe]),Q)),new n(t,r,P,{params:Q,headers:W,context:X,reportProgress:O,responseType:i,withCredentials:A,transferCache:y,keepalive:o,cache:a,priority:s,timeout:C,mode:u,redirect:l,credentials:h,referrer:p,integrity:m})}},Po=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Po||{}),ta=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new or,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},ef=class n extends ta{constructor(e={}){super(e)}type=Po.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Eu=class n extends ta{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Po.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Xs=class extends ta{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},L2=200,V2=204;function h_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var na=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Zs)o=t;else{let u;i.headers instanceof or?u=i.headers:u=new or(i.headers);let l;i.params&&(i.params instanceof Vr?l=i.params:l=new Vr({fromObject:i.params})),o=new Zs(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=ee(o).pipe(ui(u=>this.handler.handle(u)));if(t instanceof Zs||i.observe==="events")return s;let a=s.pipe(jt(u=>u instanceof Eu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(te(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new B(2806,!1);return u.body}));case"blob":return a.pipe(te(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new B(2807,!1);return u.body}));case"text":return a.pipe(te(u=>{if(u.body!==null&&typeof u.body!="string")throw new B(2808,!1);return u.body}));case"json":default:return a.pipe(te(u=>u.body))}case"response":return a;default:throw new B(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Vr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,h_(i,r))}post(t,r,i={}){return this.request("POST",t,h_(i,r))}put(t,r,i={}){return this.request("PUT",t,h_(i,r))}static \u0275fac=function(r){return new(r||n)(K(ea))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var j2=new q("");function U2(n,e){return e(n)}function B2(n,e,t){return(r,i)=>Qe(t,()=>e(r,o=>n(o,i)))}var XS=new q(""),eA=new q(""),tA=new q("",{providedIn:"root",factory:()=>!0});var tf=(()=>{class n extends ea{backend;injector;chain=null;pendingTasks=k(Ii);contributeToStability=k(tA);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(XS),...this.injector.get(eA,[])]));this.chain=r.reduceRight((i,o)=>B2(i,o,this.injector),U2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(no(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(K(_u),K(qe))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var $2=/^\)\]\}',?\n/,H2=RegExp(`^${YS}:`,"m");function q2(n){return"responseURL"in n&&n.responseURL?n.responseURL:H2.test(n.getAllResponseHeaders())?n.getResponseHeader(YS):null}var f_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new B(-2800,!1);let r=this.xhrFactory;return ee(null).pipe(Nt(()=>new re(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((A,O)=>s.setRequestHeader(A,O.join(","))),t.headers.has(QS)||s.setRequestHeader(QS,F2),!t.headers.has(KS)){let A=t.detectContentTypeHeader();A!==null&&s.setRequestHeader(KS,A)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let A=t.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let A=s.statusText||"OK",O=new or(s.getAllResponseHeaders()),W=q2(s)||t.url;return u=new ef({headers:O,status:s.status,statusText:A,url:W}),u},h=()=>{let{headers:A,status:O,statusText:W,url:Q}=l(),X=null;O!==V2&&(X=typeof s.response>"u"?s.responseText:s.response),O===0&&(O=X?L2:0);let xe=O>=200&&O<300;if(t.responseType==="json"&&typeof X=="string"){let fe=X;X=X.replace($2,"");try{X=X!==""?JSON.parse(X):null}catch(w){X=fe,xe&&(xe=!1,X={error:w,text:X})}}xe?(o.next(new Eu({body:X,headers:A,status:O,statusText:W,url:Q||void 0})),o.complete()):o.error(new Xs({error:X,headers:A,status:O,statusText:W,url:Q||void 0}))},p=A=>{let{url:O}=l(),W=new Xs({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});o.error(W)},m=p;t.timeout&&(m=A=>{let{url:O}=l(),W=new Xs({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:O||void 0});o.error(W)});let y=!1,C=A=>{y||(o.next(l()),y=!0);let O={type:Po.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(O.total=A.total),t.responseType==="text"&&s.responseText&&(O.partialText=s.responseText),o.next(O)},P=A=>{let O={type:Po.UploadProgress,loaded:A.loaded};A.lengthComputable&&(O.total=A.total),o.next(O)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",m),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",C),a!==null&&s.upload&&s.upload.addEventListener("progress",P)),s.send(a),o.next({type:Po.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",C),a!==null&&s.upload&&s.upload.removeEventListener("progress",P)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(K(Mo))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),nA=new q(""),z2="XSRF-TOKEN",W2=new q("",{providedIn:"root",factory:()=>z2}),G2="X-XSRF-TOKEN",K2=new q("",{providedIn:"root",factory:()=>G2}),Iu=class{},Q2=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=pu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(K(at),K(W2))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function Y2(n,e){let t=n.url.toLowerCase();if(!k(nA)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=k(Iu).getToken(),i=k(K2);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function p_(...n){let e=[na,f_,tf,{provide:ea,useExisting:tf},{provide:_u,useFactory:()=>k(j2,{optional:!0})??k(f_)},{provide:XS,useValue:Y2,multi:!0},{provide:nA,useValue:!0},{provide:Iu,useClass:Q2}];for(let t of n)e.push(...t.\u0275providers);return Pn(e)}var iA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(K(at))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ue="primary",Fu=Symbol("RouteTitle"),__=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Fo(n){return new __(n)}function hA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Z2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!sr(n[t],e[t]))return!1;return!0}function sr(n,e){let t=n?E_(n):void 0,r=e?E_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!fA(n[i],e[i]))return!1;return!0}function E_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function fA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function pA(n){return n.length>0?n[n.length-1]:null}function Br(n){return wg(n)?n:Di(n)?Fe(Promise.resolve(n)):ee(n)}var X2={exact:gA,subset:yA},mA={exact:ej,subset:tj,ignored:()=>!0};function oA(n,e,t){return X2[t.paths](n.root,e.root,t.matrixParams)&&mA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function ej(n,e){return sr(n,e)}function gA(n,e,t){if(!ko(n.segments,e.segments)||!of(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!gA(n.children[r],e.children[r],t))return!1;return!0}function tj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fA(n[t],e[t]))}function yA(n,e,t){return vA(n,e,e.segments,t)}function vA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ko(i,t)||e.hasChildren()||!of(i,t,r))}else if(n.segments.length===t.length){if(!ko(n.segments,t)||!of(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!yA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ko(n.segments,i)||!of(n.segments,i,r)||!n.children[ue]?!1:vA(n.children[ue],e,o,r)}}function of(n,e,t){return e.every((r,i)=>mA[t](n[i].parameters,r.parameters))}var cr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){return ij.serialize(this)}},be=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sf(this)}},Ai=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Fo(this.parameters),this._parameterMap}toString(){return EA(this)}};function nj(n,e){return ko(n,e)&&n.every((t,r)=>sr(t.parameters,e[r].parameters))}function ko(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function rj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ue&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(e(i,r)))}),t}var Lu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new Lo,providedIn:"root"})}return n})(),Lo=class{parse(e){let t=new w_(e);return new cr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${wu(e.root,!0)}`,r=aj(e.queryParams),i=typeof e.fragment=="string"?`#${oj(e.fragment)}`:"";return`${t}${r}${i}`}},ij=new Lo;function sf(n){return n.segments.map(e=>EA(e)).join("/")}function wu(n,e){if(!n.hasChildren())return sf(n);if(e){let t=n.children[ue]?wu(n.children[ue],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${wu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=rj(n,(r,i)=>i===ue?[wu(n.children[ue],!1)]:[`${i}:${wu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ue]!=null?`${sf(n)}/${t[0]}`:`${sf(n)}/(${t.join("//")})`}}function _A(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nf(n){return _A(n).replace(/%3B/gi,";")}function oj(n){return encodeURI(n)}function I_(n){return _A(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function af(n){return decodeURIComponent(n)}function sA(n){return af(n.replace(/\+/g,"%20"))}function EA(n){return`${I_(n.path)}${sj(n.parameters)}`}function sj(n){return Object.entries(n).map(([e,t])=>`;${I_(e)}=${I_(t)}`).join("")}function aj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${nf(t)}=${nf(i)}`).join("&"):`${nf(t)}=${nf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var cj=/^[^\/()?;#]+/;function m_(n){let e=n.match(cj);return e?e[0]:""}var uj=/^[^\/()?;=#]+/;function lj(n){let e=n.match(uj);return e?e[0]:""}var dj=/^[^=?&#]+/;function hj(n){let e=n.match(dj);return e?e[0]:""}var fj=/^[^&#]+/;function pj(n){let e=n.match(fj);return e?e[0]:""}var w_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new be(e,t)),r}parseSegment(){let e=m_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Ai(af(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=lj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=m_(this.remaining);i&&(r=i,this.capture(r))}e[af(t)]=af(r)}parseQueryParam(e){let t=hj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=pj(this.remaining);s&&(r=s,this.capture(r))}let i=sA(t),o=sA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=m_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ue]:new be([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function IA(n){return n.segments.length>0?new be([],{[ue]:n}):n}function wA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=wA(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new be(n.segments,e);return mj(t)}function mj(n){if(n.numberOfChildren===1&&n.children[ue]){let e=n.children[ue];return new be(n.segments.concat(e.segments),e.children)}return n}function Ri(n){return n instanceof cr}function bA(n,e,t=null,r=null){let i=DA(n);return TA(i,e,t,r)}function DA(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new be(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=IA(r);return e??i}function TA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return g_(i,i,i,t,r);let o=gj(e);if(o.toRoot())return g_(i,i,new be([],{}),t,r);let s=yj(o,i,n),a=s.processChildren?Du(s.segmentGroup,s.index,o.commands):SA(s.segmentGroup,s.index,o.commands);return g_(i,s.segmentGroup,a,t,r)}function cf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Su(n){return typeof n=="object"&&n!=null&&n.outlets}function g_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=CA(n,e,t);let a=IA(wA(s));return new cr(a,o,i)}function CA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=CA(o,e,t)}),new be(n.segments,r)}var uf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&cf(r[0]))throw new B(4003,!1);let i=r.find(Su);if(i&&i!==pA(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new uf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new uf(t,e,r)}var oa=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function yj(n,e,t){if(n.isAbsolute)return new oa(e,!0,0);if(!t)return new oa(e,!1,NaN);if(t.parent===null)return new oa(t,!0,0);let r=cf(n.commands[0])?0:1,i=t.segments.length-1+r;return vj(t,i,n.numberOfDoubleDots)}function vj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new oa(r,!1,i-o)}function _j(n){return Su(n[0])?n[0].outlets:{[ue]:n}}function SA(n,e,t){if(n??=new be([],{}),n.segments.length===0&&n.hasChildren())return Du(n,e,t);let r=Ej(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new be(n.segments.slice(0,r.pathIndex),{});return o.children[ue]=new be(n.segments.slice(r.pathIndex),n.children),Du(o,0,i)}else return r.match&&i.length===0?new be(n.segments,{}):r.match&&!n.hasChildren()?b_(n,e,t):r.match?Du(n,0,i):b_(n,e,t)}function Du(n,e,t){if(t.length===0)return new be(n.segments,{});{let r=_j(t),i={};if(Object.keys(r).some(o=>o!==ue)&&n.children[ue]&&n.numberOfChildren===1&&n.children[ue].segments.length===0){let o=Du(n.children[ue],e,t);return new be(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=SA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(n.segments,i)}}function Ej(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Su(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!cA(u,l,s))return o;r+=2}else{if(!cA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function b_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Su(o)){let u=Ij(o.outlets);return new be(r,u)}if(i===0&&cf(t[0])){let u=n.segments[e];r.push(new Ai(u.path,aA(t[0]))),i++;continue}let s=Su(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&cf(a)?(r.push(new Ai(s,aA(a))),i+=2):(r.push(new Ai(s,{})),i++)}return new be(r,{})}function Ij(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=b_(new be([],{}),0,r))}),e}function aA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function cA(n,e,t){return n==t.path&&sr(e,t.parameters)}var Tu="imperative",mt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(mt||{}),hn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Vo=class extends hn{type=mt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ur=class extends hn{urlAfterRedirects;type=mt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(zt||{}),Au=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Au||{}),ar=class extends hn{reason;code;type=mt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},jr=class extends hn{reason;code;type=mt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},aa=class extends hn{error;target;type=mt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ru=class extends hn{urlAfterRedirects;state;type=mt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lf=class extends hn{urlAfterRedirects;state;type=mt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},df=class extends hn{urlAfterRedirects;state;shouldActivate;type=mt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hf=class extends hn{urlAfterRedirects;state;type=mt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ff=class extends hn{urlAfterRedirects;state;type=mt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pf=class{route;type=mt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mf=class{route;type=mt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gf=class{snapshot;type=mt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yf=class{snapshot;type=mt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vf=class{snapshot;type=mt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_f=class{snapshot;type=mt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Nu=class{},ca=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function wj(n){return!(n instanceof Nu)&&!(n instanceof ca)}function bj(n,e){return n.providers&&!n._injector&&(n._injector=cu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qn(n){return n.outlet||ue}function Dj(n,e){let t=n.filter(r=>qn(r)===e);return t.push(...n.filter(r=>qn(r)!==e)),t}function da(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ef=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return da(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ha(this.rootInjector)}},ha=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ef(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(K(qe))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),If=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=D_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=D_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=T_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return T_(e,this._root).map(t=>t.value)}};function D_(n,e){if(n===e.value)return e;for(let t of e.children){let r=D_(n,t);if(r)return r}return null}function T_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=T_(n,t);if(r.length)return r.unshift(e),r}return[]}var dn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ia(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Mu=class extends If{snapshot;constructor(e,t){super(e),this.snapshot=t,P_(this,e)}toString(){return this.snapshot.toString()}};function AA(n){let e=Tj(n),t=new Et([new Ai("",{})]),r=new Et({}),i=new Et({}),o=new Et({}),s=new Et(""),a=new Ur(t,r,o,s,i,ue,n,e.root);return a.snapshot=e.root,new Mu(new dn(a,[]),e)}function Tj(n){let e={},t={},r={},o=new Oo([],e,r,"",t,ue,n,null,{});return new xu("",new dn(o,[]))}var Ur=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[Fu]))??ee(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>Fo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>Fo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&NA(i)&&(r.resolve[Fu]=i.title),r}var Oo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Fu]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},xu=class extends If{url;constructor(e,t){super(t),this.url=e,P_(this,t)}toString(){return RA(this._root)}};function P_(n,e){e.value._routerState=n,e.children.forEach(t=>P_(n,t))}function RA(n){let e=n.children.length>0?` { ${n.children.map(RA).join(", ")} } `:"";return`${n.value}${e}`}function y_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,sr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),sr(e.params,t.params)||n.paramsSubject.next(t.params),Z2(e.url,t.url)||n.urlSubject.next(t.url),sr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function C_(n,e){let t=sr(n.params,e.params)&&nj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||C_(n.parent,e.parent))}function NA(n){return typeof n.title=="string"||n.title===null}var MA=new q(""),Vu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ue;activateEvents=new ze;deactivateEvents=new ze;attachEvents=new ze;detachEvents=new ze;routerOutletData=hS(void 0);parentContexts=k(ha);location=k(Do);changeDetector=k($n);inputBinder=k(Cf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new S_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[jn]})}return n})(),S_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ur?this.route:e===ha?this.childContexts:e===MA?this.outletData:this.parent.get(e,t)}},Cf=new q("");var k_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ze({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&$t(0,"router-outlet")},dependencies:[Vu],encapsulation:2})}return n})();function O_(n){let e=n.children&&n.children.map(O_),t=e?Z(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=k_),t}function Cj(n,e,t){let r=Pu(n,e._root,t?t._root:void 0);return new Mu(r,e)}function Pu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Sj(n,e,t);return new dn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pu(n,a)),s}}let r=Aj(e.value),i=e.children.map(o=>Pu(n,o));return new dn(r,i)}}function Sj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pu(n,r,i);return Pu(n,r)})}function Aj(n){return new Ur(new Et(n.url),new Et(n.params),new Et(n.queryParams),new Et(n.fragment),new Et(n.data),n.outlet,n.component,n)}var ua=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},xA="ngNavigationCancelingError";function bf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ri(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PA(!1,zt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function PA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[xA]=!0,t.cancellationCode=e,t}function Rj(n){return kA(n)&&Ri(n.url)}function kA(n){return!!n&&n[xA]}var Nj=(n,e,t,r)=>te(i=>(new A_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),A_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),y_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ia(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ia(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ia(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ia(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _f(o.value.snapshot))}),e.children.length&&this.forwardEvent(new yf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(y_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),y_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Df=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},sa=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Mj(n,e,t){let r=n._root,i=e?e._root:null;return bu(r,i,t,[r.value])}function xj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function fa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Ug(n)?n:e.get(n):r}function bu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ia(e);return n.children.forEach(s=>{Pj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Cu(a,t.getContext(s),i)),i}function Pj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=kj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Df(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?bu(n,e,a?a.children:null,r,i):bu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sa(a.outlet.component,s))}else s&&Cu(e,a,i),i.canActivateChecks.push(new Df(r)),o.component?bu(n,null,a?a.children:null,r,i):bu(n,null,t,r,i);return i}function kj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ko(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ko(n.url,e.url)||!sr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!C_(n,e)||!sr(n.queryParams,e.queryParams);case"paramsChange":default:return!C_(n,e)}}function Cu(n,e,t){let r=ia(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Cu(s,e.children.getContext(o),t):Cu(s,null,t):Cu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new sa(e.outlet.component,i)):t.canDeactivateChecks.push(new sa(null,i)):t.canDeactivateChecks.push(new sa(null,i))}function ju(n){return typeof n=="function"}function Oj(n){return typeof n=="boolean"}function Fj(n){return n&&ju(n.canLoad)}function Lj(n){return n&&ju(n.canActivate)}function Vj(n){return n&&ju(n.canActivateChild)}function jj(n){return n&&ju(n.canDeactivate)}function Uj(n){return n&&ju(n.canMatch)}function OA(n){return n instanceof Cr||n?.name==="EmptyError"}var rf=Symbol("INITIAL_VALUE");function la(){return Nt(n=>Sd(n.map(e=>e.pipe(Sr(1),Nd(rf)))).pipe(te(e=>{for(let t of e)if(t!==!0){if(t===rf)return rf;if(t===!1||Bj(t))return t}return!0}),jt(e=>e!==rf),Sr(1)))}function Bj(n){return Ri(n)||n instanceof ua}function $j(n,e){return st(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ee(Z(V({},t),{guardsResult:!0})):Hj(s,r,i,n).pipe(st(a=>a&&Oj(a)?qj(r,o,n,e):ee(a)),te(a=>Z(V({},t),{guardsResult:a})))})}function Hj(n,e,t,r){return Fe(n).pipe(st(i=>Qj(i.component,i.route,t,e,r)),Ar(i=>i!==!0,!0))}function qj(n,e,t,r){return Fe(e).pipe(ui(i=>xs(Wj(i.route.parent,r),zj(i.route,r),Kj(n,i.path,t),Gj(n,i.route,t))),Ar(i=>i!==!0,!0))}function zj(n,e){return n!==null&&e&&e(new vf(n)),ee(!0)}function Wj(n,e){return n!==null&&e&&e(new gf(n)),ee(!0)}function Gj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(o=>xc(()=>{let s=da(e)??t,a=fa(o,s),u=Lj(a)?a.canActivate(e,n):Qe(s,()=>a(e,n));return Br(u).pipe(Ar())}));return ee(i).pipe(la())}function Kj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>xj(s)).filter(s=>s!==null).map(s=>xc(()=>{let a=s.guards.map(u=>{let l=da(s.node)??t,h=fa(u,l),p=Vj(h)?h.canActivateChild(r,n):Qe(l,()=>h(r,n));return Br(p).pipe(Ar())});return ee(a).pipe(la())}));return ee(o).pipe(la())}function Qj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let u=da(e)??i,l=fa(a,u),h=jj(l)?l.canDeactivate(n,e,t,r):Qe(u,()=>l(n,e,t,r));return Br(h).pipe(Ar())});return ee(s).pipe(la())}function Yj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let o=i.map(s=>{let a=fa(s,n),u=Fj(a)?a.canLoad(e,t):Qe(n,()=>a(e,t));return Br(u)});return ee(o).pipe(la(),FA(r))}function FA(n){return cd(dt(e=>{if(typeof e!="boolean")throw bf(n,e)}),te(e=>e===!0))}function Jj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let o=i.map(s=>{let a=fa(s,n),u=Uj(a)?a.canMatch(e,t):Qe(n,()=>a(e,t));return Br(u)});return ee(o).pipe(la(),FA(r))}var ku=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ou=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ra(n){return Ms(new ku(n))}function Zj(n){return Ms(new B(4e3,!1))}function Xj(n){return Ms(PA(!1,zt.GuardRejected))}var R_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[ue])return Zj(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,t,r,i,o){return eU(t,i,o).pipe(te(s=>{if(s instanceof cr)throw new Ou(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Ou(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new cr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function eU(n,e,t){if(typeof n=="string")return ee(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Br(Qe(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var N_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tU(n,e,t,r,i){let o=LA(n,e,t);return o.matched?(r=bj(e,r),Jj(r,e,t,i).pipe(te(s=>s===!0?o:V({},N_)))):ee(o)}function LA(n,e,t){if(e.path==="**")return nU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},N_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||hA)(t,n,e);if(!i)return V({},N_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function nU(n){return{matched:!0,parameters:n.length>0?pA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function uA(n,e,t,r){return t.length>0&&oU(n,t,r)?{segmentGroup:new be(e,iU(r,new be(t,n.children))),slicedSegments:[]}:t.length===0&&sU(n,t,r)?{segmentGroup:new be(n.segments,rU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new be(n.segments,n.children),slicedSegments:t}}function rU(n,e,t,r){let i={};for(let o of t)if(Sf(n,e,o)&&!r[qn(o)]){let s=new be([],{});i[qn(o)]=s}return V(V({},r),i)}function iU(n,e){let t={};t[ue]=e;for(let r of n)if(r.path===""&&qn(r)!==ue){let i=new be([],{});t[qn(r)]=i}return t}function oU(n,e,t){return t.some(r=>Sf(n,e,r)&&qn(r)!==ue)}function sU(n,e,t){return t.some(r=>Sf(n,e,r))}function Sf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function aU(n,e,t){return e.length===0&&!n.children[t]}var M_=class{};function cU(n,e,t,r,i,o,s="emptyOnly"){return new x_(n,e,t,r,i,s,o).recognize()}var uU=31,x_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new R_(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=uA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:t,rootSnapshot:r})=>{let i=new dn(r,t),o=new xu("",i),s=bA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Oo([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,t).pipe(te(r=>({children:r,rootSnapshot:t})),ci(r=>{if(r instanceof Ou)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ku?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(te(s=>s instanceof dn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Fe(o).pipe(ui(s=>{let a=r.children[s],u=Dj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Rd((s,a)=>(s.push(...a),s)),li(null),Dg(),st(s=>{if(s===null)return ra(r);let a=VA(s);return lU(a),ee(a)}))}processSegment(e,t,r,i,o,s,a){return Fe(t).pipe(ui(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(ci(l=>{if(l instanceof ku)return ee(null);throw l}))),Ar(u=>!!u),ci(u=>{if(OA(u))return aU(r,i,o)?ee(new M_):ra(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return qn(r)!==s&&(s===ue||!Sf(i,o,r))?ra(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ra(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=LA(t,i,o);if(!u)return ra(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uU&&(this.allowRedirects=!1));let y=new Oo(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,lA(i),qn(i),i.component??i._loadedComponent??null,i,dA(i)),C=wf(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(C.params),y.data=Object.freeze(C.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Nt(A=>this.applyRedirects.lineralizeSegments(i,A)),st(A=>this.processSegment(e,r,t,A.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=tU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Nt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Nt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new Oo(m,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,lA(r),qn(r),r.component??r._loadedComponent??null,r,dA(r)),P=wf(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(P.params),C.data=Object.freeze(P.data);let{segmentGroup:A,slicedSegments:O}=uA(t,m,y,l);if(O.length===0&&A.hasChildren())return this.processChildren(h,l,A,C).pipe(te(Q=>new dn(C,Q)));if(l.length===0&&O.length===0)return ee(new dn(C,[]));let W=qn(r)===o;return this.processSegment(h,l,A,O,W?ue:o,!0,C).pipe(te(Q=>new dn(C,Q instanceof dn?[Q]:[])))}))):ra(t)))}getChildConfig(e,t,r){return t.children?ee({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ee({routes:t._loadedRoutes,injector:t._loadedInjector}):Yj(e,t,r,this.urlSerializer).pipe(st(i=>i?this.configLoader.loadChildren(e,t).pipe(dt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Xj(t))):ee({routes:[],injector:e})}};function lU(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}function dU(n){let e=n.value.routeConfig;return e&&e.path===""}function VA(n){let e=[],t=new Set;for(let r of n){if(!dU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=VA(r.children);e.push(new dn(r.value,i))}return e.filter(r=>!t.has(r))}function lA(n){return n.data||{}}function dA(n){return n.resolve||{}}function hU(n,e,t,r,i,o){return st(s=>cU(n,e,t,r,s.extractedUrl,i,o).pipe(te(({state:a,tree:u})=>Z(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function fU(n,e){return st(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ee(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of jA(u))s.add(l);let a=0;return Fe(s).pipe(ui(u=>o.has(u)?pU(u,r,n,e):(u.data=wf(u,u.parent,n).resolve,ee(void 0))),dt(()=>a++),Ps(1),st(u=>a===s.size?ee(t):Kt))})}function jA(n){let e=n.children.map(t=>jA(t)).flat();return[n,...e]}function pU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!NA(i)&&(o[Fu]=i.title),xc(()=>(n.data=wf(n,n.parent,t).resolve,mU(o,n,e,r).pipe(te(s=>(n._resolvedData=s,n.data=V(V({},n.data),s),null)))))}function mU(n,e,t,r){let i=E_(n);if(i.length===0)return ee({});let o={};return Fe(i).pipe(st(s=>gU(n[s],e,t,r).pipe(Ar(),dt(a=>{if(a instanceof ua)throw bf(new Lo,a);o[s]=a}))),Ps(1),te(()=>o),ci(s=>OA(s)?Kt:Ms(s)))}function gU(n,e,t,r){let i=da(e)??r,o=fa(n,i),s=o.resolve?o.resolve(e,t):Qe(i,()=>o(e,t));return Br(s)}function v_(n){return Nt(e=>{let t=n(e);return t?Fe(t).pipe(te(()=>e)):ee(e)})}var F_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[Fu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>k(UA),providedIn:"root"})}return n})(),UA=(()=>{class n extends F_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(K(iA))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pa=new q("",{providedIn:"root",factory:()=>({})}),Uu=new q(""),BA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=k(Vv);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ee(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Br(Qe(t,()=>r.loadComponent())).pipe(te(HA),Nt(qA),dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),no(()=>{this.componentLoaders.delete(r)})),o=new Ss(i,()=>new et).pipe(Cs());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=$A(r,this.compiler,t,this.onLoadEndListener).pipe(no(()=>{this.childrenLoaders.delete(r)})),s=new Ss(o,()=>new et).pipe(Cs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $A(n,e,t,r){return Br(Qe(t,()=>n.loadChildren())).pipe(te(HA),Nt(qA),st(i=>i instanceof kh||Array.isArray(i)?ee(i):Fe(e.compileModuleAsync(i))),te(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Uu,[],{optional:!0,self:!0}).flat()),{routes:s.map(O_),injector:o}}))}function yU(n){return n&&typeof n=="object"&&"default"in n}function HA(n){return yU(n)?n.default:n}function qA(n){return ee(n)}var Af=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>k(vU),providedIn:"root"})}return n})(),vU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zA=new q("");var WA=new q(""),GA=(()=>{class n{currentNavigation=an(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new et;transitionAbortWithErrorSubject=new et;configLoader=k(BA);environmentInjector=k(qe);destroyRef=k(Ln);urlSerializer=k(Lu);rootContexts=k(ha);location=k(Js);inputBindingEnabled=k(Cf,{optional:!0})!==null;titleStrategy=k(F_);options=k(pa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=k(Af);createViewTransition=k(zA,{optional:!0});navigationErrorHandler=k(WA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ee(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new pf(i)),r=i=>this.events.next(new mf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ct(()=>{this.transitions?.next(Z(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Et(null),this.transitions.pipe(jt(r=>r!==null),Nt(r=>{let i=!1;return ee(r).pipe(Nt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",zt.SupersededByNewNavigation),Kt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Z(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new jr(o.id,this.urlSerializer.serialize(o.rawUrl),"",Au.IgnoredSameUrlNavigation)),o.resolve(!1),Kt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ee(o).pipe(Nt(u=>(this.events.next(new Vo(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Kt:Promise.resolve(u))),hU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),dt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Ru(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Vo(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let C=AA(this.rootComponentType).snapshot;return this.currentTransition=r=Z(V({},o),{targetSnapshot:C,urlAfterRedirects:l,extras:Z(V({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(P=>(P.finalUrl=l,P)),ee(r)}else return this.events.next(new jr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Au.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Kt}),dt(o=>{let s=new lf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),te(o=>(this.currentTransition=r=Z(V({},o),{guards:Mj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),$j(this.environmentInjector,o=>this.events.next(o)),dt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw bf(this.urlSerializer,o.guardsResult);let s=new df(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),jt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",zt.GuardRejected),!1)),v_(o=>{if(o.guards.canActivateChecks.length!==0)return ee(o).pipe(dt(s=>{let a=new hf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Nt(s=>{let a=!1;return ee(s).pipe(fU(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",zt.NoDataFromResolver)}}))}),dt(s=>{let a=new ff(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),v_(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=da(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(dt(h=>{a.component=h}),te(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Sd(s(o.targetSnapshot.root)).pipe(li(null),Sr(1))}),v_(()=>this.afterPreactivation()),Nt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Fe(a).pipe(te(()=>r)):ee(r)}),te(o=>{let s=Cj(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Z(V({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),dt(()=>{this.events.next(new Nu)}),Nj(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Sr(1),Md(new re(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(jt(()=>!i&&!r.targetRouterState),dt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",zt.Aborted)}))),dt({next:o=>{i=!0,this.lastSuccessfulNavigation=ct(this.currentNavigation),this.events.next(new ur(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Md(this.transitionAbortWithErrorSubject.pipe(dt(o=>{throw o}))),no(()=>{i||this.cancelNavigationTransition(r,"",zt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ci(o=>{if(this.destroyed)return r.resolve(!1),Kt;if(i=!0,kA(o))this.events.next(new ar(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Rj(o)?this.events.next(new ca(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new aa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Qe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ua){let{message:u,cancellationCode:l}=bf(this.urlSerializer,a);this.events.next(new ar(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new ca(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Kt}))}))}cancelNavigationTransition(t,r,i){let o=new ar(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ct(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _U(n){return n!==Tu}var KA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>k(EU),providedIn:"root"})}return n})(),Tf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},EU=(()=>{class n extends Tf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QA=(()=>{class n{urlSerializer=k(Lu);options=k(pa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=k(Js);urlHandlingStrategy=k(Af);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new cr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof cr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=AA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>k(IU),providedIn:"root"})}return n})(),IU=(()=>{class n extends QA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Vo?this.updateStateMemento():t instanceof jr?this.commitTransition(r):t instanceof Ru?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Nu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ar&&t.code!==zt.SupersededByNewNavigation&&t.code!==zt.Redirect?this.restoreHistory(r):t instanceof aa?this.restoreHistory(r,!0):t instanceof ur&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function L_(n,e){n.events.pipe(jt(t=>t instanceof ur||t instanceof ar||t instanceof aa||t instanceof jr),te(t=>t instanceof ur||t instanceof jr?0:(t instanceof ar?t.code===zt.Redirect||t.code===zt.SupersededByNewNavigation:!1)?2:1),jt(t=>t!==2),Sr(1)).subscribe(()=>{e()})}var wU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ut=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=k(Mv);stateManager=k(QA);options=k(pa,{optional:!0})||{};pendingTasks=k(Xn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=k(GA);urlSerializer=k(Lu);location=k(Js);urlHandlingStrategy=k(Af);injector=k(qe);_events=new et;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=k(KA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=k(Uu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!k(Cf,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new He;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ct(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ar&&r.code!==zt.Redirect&&r.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ur)this.navigated=!0;else if(r instanceof ca){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_U(i.source)},s);this.scheduleNavigation(a,Tu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}wj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Jt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ct(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(O_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=DA(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return TA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ri(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Tu,null,r)}navigate(t,r={skipLocationChange:!1}){return DU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},wU):r===!1?i=V({},bU):i=r,Ri(t))return oA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return oA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return L_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}var Rf=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=an(null);get href(){return ct(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new et;applicationErrorHandler=k(Jt);options=k(pa,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(k(new $h("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof ur&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ri(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ri(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(U(ut),U(Ur),ru("tabindex"),U(Or),U(nr),U(Ys))};static \u0275dir=Ne({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ce("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Co("href",i.reactiveHref(),lv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ro],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ro],replaceUrl:[2,"replaceUrl","replaceUrl",Ro],routerLink:"routerLink"},features:[jn]})}return n})();var CU=new q("");function V_(n,...e){return Pn([{provide:Uu,multi:!0,useValue:n},[],{provide:Ur,useFactory:SU,deps:[ut]},{provide:Vh,multi:!0,useFactory:AU},e.map(t=>t.\u0275providers)])}function SU(n){return n.routerState.root}function AU(){let n=k(ht);return e=>{let t=n.get(Fr);if(e!==t.components[0])return;let r=n.get(ut),i=n.get(RU);n.get(NU)===1&&r.initialNavigation(),n.get(MU,null,{optional:!0})?.setUpPreloading(),n.get(CU,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var RU=new q("",{factory:()=>new et}),NU=new q("",{providedIn:"root",factory:()=>1});var MU=new q("");var YA=()=>{};var XA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},xU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Nf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new U_;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},U_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},PU=function(n){let e=XA(n);return Nf.encodeByteArray(e,!0)},$u=function(n){return PU(n).replace(/\./g,"")},Mf=function(n){try{return Nf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var kU=()=>$_().__FIREBASE_DEFAULTS__,OU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Mf(n[1]);return e&&JSON.parse(e)},xf=()=>{try{return YA()||kU()||OU()||FU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eR=n=>{var e,t;return(t=(e=xf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},tR=n=>{let e=eR(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},H_=()=>{var n;return(n=xf())===null||n===void 0?void 0:n.config},nR=n=>{var e;return(e=xf())===null||e===void 0?void 0:e[`_${n}`]};var Uo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Bo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function q_(n){return T(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function rR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$u(JSON.stringify(t)),$u(JSON.stringify(s)),""].join(".")}var Bu={};function LU(){let n={prod:[],emulator:[]};for(let e of Object.keys(Bu))Bu[e]?n.emulator.push(e):n.prod.push(e);return n}function VU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var JA=!1;function z_(n,e){if(typeof window>"u"||typeof document>"u"||!Bo(window.location.host)||Bu[n]===e||Bu[n]||JA)return;Bu[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=LU().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{JA=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=VU(r),y=t("text"),C=document.getElementById(y)||document.createElement("span"),P=t("learnmore"),A=document.getElementById(P)||document.createElement("a"),O=t("preprendIcon"),W=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Q=m.element;a(Q),h(A,P);let X=l();u(W,O),Q.append(W,C,A,X),document.body.appendChild(Q)}o?(C.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function jU(){var n;let e=(n=xf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cR(){return!jU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hu(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var UU="FirebaseError",Tn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=UU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zn.prototype.create)}},zn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?BU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Tn(i,a,r)}};function BU(n,e){return n.replace($U,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var $U=/\{\$([^}]+)}/g;function $r(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(ZA(o)&&ZA(s)){if(!$r(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function ZA(n){return n!==null&&typeof n=="object"}function W_(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lR(n,e){let t=new B_(n,e);return t.subscribe.bind(t)}var B_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");HU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=j_),i.error===void 0&&(i.error=j_),i.complete===void 0&&(i.complete=j_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function HU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function j_(){}var eoe=14400*1e3;function kt(n){return n&&n._delegate?n._delegate:n}var Wt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var $o="[DEFAULT]";var G_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Uo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zU(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qU(n){return n===$o?void 0:n}function zU(n){return n.instantiationMode==="EAGER"}var Pf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new G_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var WU=[],pe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(pe||{}),GU={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},KU=pe.INFO,QU={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},YU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=QU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},lr=class{constructor(e){this.name=e,this._logLevel=KU,this._logHandler=YU,this._userLogHandler=null,WU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var JU=(n,e)=>e.some(t=>n instanceof t),dR,hR;function ZU(){return dR||(dR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XU(){return hR||(hR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fR=new WeakMap,Q_=new WeakMap,pR=new WeakMap,K_=new WeakMap,J_=new WeakMap;function eB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(dr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&fR.set(t,n)}).catch(()=>{}),J_.set(e,n),e}function tB(n){if(Q_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Q_.set(n,e)}var Y_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Q_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||pR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return dr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mR(n){Y_=n(Y_)}function nB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(kf(this),e,...t);return pR.set(r,e.sort?e.sort():[e]),dr(r)}:XU().includes(n)?function(...e){return n.apply(kf(this),e),dr(fR.get(this))}:function(...e){return dr(n.apply(kf(this),e))}}function rB(n){return typeof n=="function"?nB(n):(n instanceof IDBTransaction&&tB(n),JU(n,ZU())?new Proxy(n,Y_):n)}function dr(n){if(n instanceof IDBRequest)return eB(n);if(K_.has(n))return K_.get(n);let e=rB(n);return e!==n&&(K_.set(n,e),J_.set(e,n)),e}var kf=n=>J_.get(n);function yR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=dr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(dr(s.result),u.oldVersion,u.newVersion,dr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var iB=["get","getKey","getAll","getAllKeys","count"],oB=["put","add","delete","clear"],Z_=new Map;function gR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Z_.get(e))return Z_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=oB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iB.includes(t)))return;let o=function(s,...a){return T(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Z_.set(e,o),o}mR(n=>Z(V({},n),{get:(e,t,r)=>gR(e,t)||n.get(e,t,r),has:(e,t)=>!!gR(e,t)||n.has(e,t)}));var eE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function sB(n){let e=n.getComponent();return e?.type==="VERSION"}var tE="@firebase/app",vR="0.13.2";var Hr=new lr("@firebase/app"),aB="@firebase/app-compat",cB="@firebase/analytics-compat",uB="@firebase/analytics",lB="@firebase/app-check-compat",dB="@firebase/app-check",hB="@firebase/auth",fB="@firebase/auth-compat",pB="@firebase/database",mB="@firebase/data-connect",gB="@firebase/database-compat",yB="@firebase/functions",vB="@firebase/functions-compat",_B="@firebase/installations",EB="@firebase/installations-compat",IB="@firebase/messaging",wB="@firebase/messaging-compat",bB="@firebase/performance",DB="@firebase/performance-compat",TB="@firebase/remote-config",CB="@firebase/remote-config-compat",SB="@firebase/storage",AB="@firebase/storage-compat",RB="@firebase/firestore",NB="@firebase/ai",MB="@firebase/firestore-compat",xB="firebase",PB="11.10.0";var nE="[DEFAULT]",kB={[tE]:"fire-core",[aB]:"fire-core-compat",[uB]:"fire-analytics",[cB]:"fire-analytics-compat",[dB]:"fire-app-check",[lB]:"fire-app-check-compat",[hB]:"fire-auth",[fB]:"fire-auth-compat",[pB]:"fire-rtdb",[mB]:"fire-data-connect",[gB]:"fire-rtdb-compat",[yB]:"fire-fn",[vB]:"fire-fn-compat",[_B]:"fire-iid",[EB]:"fire-iid-compat",[IB]:"fire-fcm",[wB]:"fire-fcm-compat",[bB]:"fire-perf",[DB]:"fire-perf-compat",[TB]:"fire-rc",[CB]:"fire-rc-compat",[SB]:"fire-gcs",[AB]:"fire-gcs-compat",[RB]:"fire-fst",[MB]:"fire-fst-compat",[NB]:"fire-vertex","fire-js":"fire-js",[xB]:"fire-js-all"};var qu=new Map,OB=new Map,rE=new Map;function _R(n,e){try{n.container.addComponent(e)}catch(t){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wn(n){let e=n.name;if(rE.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;rE.set(e,n);for(let t of qu.values())_R(t,n);for(let t of OB.values())_R(t,n);return!0}function Of(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qr(n){return n==null?!1:n.settings!==void 0}var FB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new zn("app","Firebase",FB);var iE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}};var ma=PB;function aE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:nE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(t||(t=H_()),!t)throw Ni.create("no-options");let o=qu.get(i);if(o){if($r(t,o.options)&&$r(r,o.config))return o;throw Ni.create("duplicate-app",{appName:i})}let s=new Pf(i);for(let u of rE.values())s.addComponent(u);let a=new iE(t,r,s);return qu.set(i,a),a}function ga(n=nE){let e=qu.get(n);if(!e&&n===nE&&H_())return aE();if(!e)throw Ni.create("no-app",{appName:n});return e}function Ff(){return Array.from(qu.values())}function Xe(n,e,t){var r;let i=(r=kB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(a.join(" "));return}Wn(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var LB="firebase-heartbeat-database",VB=1,zu="firebase-heartbeat-store",X_=null;function bR(){return X_||(X_=yR(LB,VB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ni.create("idb-open",{originalErrorMessage:n.message})})),X_}function jB(n){return T(this,null,function*(){try{let t=(yield bR()).transaction(zu),r=yield t.objectStore(zu).get(DR(n));return yield t.done,r}catch(e){if(e instanceof Tn)Hr.warn(e.message);else{let t=Ni.create("idb-get",{originalErrorMessage:e?.message});Hr.warn(t.message)}}})}function ER(n,e){return T(this,null,function*(){try{let r=(yield bR()).transaction(zu,"readwrite");yield r.objectStore(zu).put(e,DR(n)),yield r.done}catch(t){if(t instanceof Tn)Hr.warn(t.message);else{let r=Ni.create("idb-set",{originalErrorMessage:t?.message});Hr.warn(r.message)}}})}function DR(n){return`${n.name}!${n.options.appId}`}var UB=1024,BB=30,oE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new sE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=IR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>BB){let s=HB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hr.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=IR(),{heartbeatsToSend:r,unsentEntries:i}=$B(this._heartbeatsCache.heartbeats),o=$u(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Hr.warn(t),""}})}};function IR(){return new Date().toISOString().substring(0,10)}function $B(n,e=UB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),wR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),wR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var sE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return Hu()?uR().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield jB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ER(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ER(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function wR(n){return $u(JSON.stringify({version:2,heartbeats:n})).length}function HB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function qB(n){Wn(new Wt("platform-logger",e=>new eE(e),"PRIVATE")),Wn(new Wt("heartbeat",e=>new oE(e),"PRIVATE")),Xe(tE,vR,n),Xe(tE,vR,"esm2017"),Xe("fire-js","")}qB("");var zB="firebase",WB="11.10.0";Xe(zB,WB,"app");function TR(n){n===void 0&&(n=k(ht));let e=n.get(Ii);return t=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var qo=new io("ANGULARFIRE2_VERSION");function Vf(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var va=(n,e)=>{let t=e?[e]:Ff(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ya=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ya||{}),CR=Kv()&&typeof Zone<"u"?ya.WARN:ya.SILENT;var Lf=class{zone;delegate;constructor(e,t=Eg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},zo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=k(Re);this.outsideAngular=t.runOutsideAngular(()=>new Lf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Lf(typeof Zone>"u"?void 0:Zone.current,_g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SR=!1;function GB(n,e){!SR&&(CR>ya.SILENT||Kv())&&(SR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),CR>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function KB(n){let e=k(Re,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ho(n){let e=k(Re,{optional:!0});return e?e.run(()=>n()):n()}var QB=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Qe(t,()=>Ho(()=>n.apply(void 0,r)))),Gt=(n,e,t)=>(t||=e?ya.WARN:ya.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=k(zo),s=k(Ii),a=k(qe)}catch{return GB(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ho(()=>s.add())),i[l]=QB(i[l],r,a));let u=KB(()=>n.apply(this,i));return e?u instanceof re?u.pipe(ai(o.outsideAngular),si(o.insideAngular),TR(a)):u instanceof Promise?Ho(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Qe(a,()=>Ho(()=>h(m))),m=>Qe(a,()=>Ho(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Ho(()=>u):u instanceof re?u.pipe(ai(o.outsideAngular),si(o.insideAngular)):Ho(()=>u)});var Wo=class{constructor(e){return e}},Wu=class{constructor(){return Ff()}};function YB(n){return n&&n.length===1?n[0]:new Wo(ga())}var cE=new q("angularfire2._apps"),JB={provide:Wo,useFactory:YB,deps:[[new kr,cE]]},ZB={provide:Wu,deps:[[new kr,cE]]};function XB(n){return(e,t)=>{let r=t.get(bi);Xe("angularfire",qo.full,"core"),Xe("angularfire",qo.full,"app"),Xe("angular",Lg.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Wo(i)}}function AR(n,...e){return Pn([JB,ZB,{provide:cE,useFactory:XB(n),multi:!0,deps:[Re,ht,zo,...e]}])}var RR=Gt(aE,!0);var e$=new Map,t$={activated:!1,tokenObservers:[]},n$={initialized:!1,enabled:!1};function Gn(n){return e$.get(n)||Object.assign({},t$)}function PR(){return n$}var r$="https://content-firebaseappcheck.googleapis.com/v1";var i$="exchangeDebugToken",NR={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},rse=1440*60*1e3;var dE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return T(this,null,function*(){this.stop();try{this.pending=new Uo,this.pending.promise.catch(t=>{}),yield o$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Uo,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function o$(n){return new Promise(e=>{setTimeout(e,n)})}var s$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Mi=new zn("appCheck","AppCheck",s$);function kR(n){if(!Gn(n).activated)throw Mi.create("use-before-activation",{appName:n.name})}function OR(r,i){return T(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Mi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Mi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Mi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Mi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function FR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${r$}/projects/${t}/apps/${r}:${i$}?key=${i}`,body:{debug_token:e}}}var a$="firebase-app-check-database",c$=1,hE="firebase-app-check-store";var jf=null;function u$(){return jf||(jf=new Promise((n,e)=>{try{let t=indexedDB.open(a$,c$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Mi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(hE,{keyPath:"compositeKey"})}}}catch(t){e(Mi.create("storage-open",{originalErrorMessage:t?.message}))}}),jf)}function l$(n,e){return d$(h$(n),e)}function d$(n,e){return T(this,null,function*(){let r=(yield u$()).transaction(hE,"readwrite"),o=r.objectStore(hE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Mi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function h$(n){return`${n.options.appId}-${n.name}`}var Gu=new lr("@firebase/app-check");function uE(n,e){return Hu()?l$(n,e).catch(t=>{Gu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function LR(){return PR().enabled}function VR(){return T(this,null,function*(){let n=PR();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var f$={error:"UNKNOWN_ERROR"};function p$(n){return Nf.encodeString(JSON.stringify(n),!1)}function fE(n,e=!1,t=!1){return T(this,null,function*(){let r=n.app;kR(r);let i=Gn(r),o=i.token,s;if(o&&!Ku(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ku(l)?o=l:yield uE(r,void 0))}if(!e&&o&&Ku(o))return{token:o.token};let a=!1;if(LR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=OR(FR(r,yield VR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield uE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Gu.warn(l.message):t&&Gu.error(l),lE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Gn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Gu.warn(l.message):t&&Gu.error(l),s=l}let u;return o?s?Ku(o)?u={token:o.token,internalError:s}:u=lE(s):(u={token:o.token},i.token=o,yield uE(r,o)):u=lE(s),a&&v$(r,u),u})}function m$(n){return T(this,null,function*(){let e=n.app;kR(e);let{provider:t}=Gn(e);if(LR()){let r=yield VR(),{token:i}=yield OR(FR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function g$(n,e,t,r){let{app:i}=n,o=Gn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ku(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),MR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>MR(n))}function jR(n,e){let t=Gn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function MR(n){let{app:e}=n,t=Gn(e),r=t.tokenRefresher;r||(r=y$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function y$(n){let{app:e}=n;return new dE(()=>T(null,null,function*(){let t=Gn(e),r;if(t.token?r=yield fE(n,!0):r=yield fE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Gn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},NR.RETRIAL_MIN_WAIT,NR.RETRIAL_MAX_WAIT)}function v$(n,e){let t=Gn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ku(n){return n.expireTimeMillis-Date.now()>0}function lE(n){return{token:p$(f$),error:n}}var pE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Gn(this.app);for(let t of e)jR(this.app,t.next);return Promise.resolve()}};function _$(n,e){return new pE(n,e)}function E$(n){return{getToken:e=>fE(n,e),getLimitedUseToken:()=>m$(n),addTokenListener:e=>g$(n,"INTERNAL",e),removeTokenListener:e=>jR(n.app,e)}}var I$="@firebase/app-check",w$="0.10.1";var b$="app-check",xR="app-check-internal";function D$(){Wn(new Wt(b$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return _$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(xR).initialize()})),Wn(new Wt(xR,n=>{let e=n.getProvider("app-check").getImmediate();return E$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Xe(I$,w$)}D$();var T$="app-check";var Uf=class{constructor(){return va(T$)}};var C$=["localhost","0.0.0.0","127.0.0.1"],gse=typeof window<"u"&&C$.includes(window.location.hostname);function GR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var KR=GR,QR=new zn("auth","Firebase",GR());var qf=new lr("@firebase/auth");function A$(n,...e){qf.logLevel<=pe.WARN&&qf.warn(`Auth (${ma}): ${n}`,...e)}function $f(n,...e){qf.logLevel<=pe.ERROR&&qf.error(`Auth (${ma}): ${n}`,...e)}function UR(n,...e){throw CE(n,...e)}function TE(n,...e){return CE(n,...e)}function YR(n,e,t){let r=Object.assign(Object.assign({},KR()),{[e]:t});return new zn("auth","Firebase",r).create(e,{appName:n.name})}function Hf(n){return YR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return QR.create(n,...e)}function De(n,e,...t){if(!n)throw CE(e,...t)}function Qu(n){let e="INTERNAL ASSERTION FAILED: "+n;throw $f(e),new Error(e)}function zf(n,e){n||Qu(e)}function R$(){return BR()==="http:"||BR()==="https:"}function BR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function N$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R$()||sR()||"connection"in navigator)?navigator.onLine:!0}function M$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Qo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,zf(t>e,"Short delay should be less than long delay!"),this.isMobile=iR()||aR()}get(){return N$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function x$(n,e){zf(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Wf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var P$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var k$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O$=new Qo(3e4,6e4);function JR(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Jf(o,s,a,u){return T(this,arguments,function*(n,e,t,r,i={}){return ZR(n,i,()=>T(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=W_(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return oR()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Bo(n.emulatorConfig.host)&&(y.credentials="include"),Wf.fetch()(yield XR(n,n.config.apiHost,t,p),y)}))})}function ZR(n,e,t){return T(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},P$),e);try{let i=new yE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Bf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Bf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Bf(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw YR(n,h,l);UR(n,h)}}catch(i){if(i instanceof Tn)throw i;UR(n,"network-request-failed",{message:String(i)})}})}function XR(n,e,t,r){return T(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?x$(n.config,i):`${n.config.apiScheme}://${i}`;return k$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var yE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(TE(this.auth,"network-request-failed")),O$.get())})}};function Bf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=TE(n,e,r);return i.customData._tokenResponse=t,i}function F$(n,e){return T(this,null,function*(){return Jf(n,"POST","/v1/accounts:delete",e)})}function Gf(n,e){return T(this,null,function*(){return Jf(n,"POST","/v1/accounts:lookup",e)})}function Yu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function SE(n,e=!1){return T(this,null,function*(){let t=kt(n),r=yield t.getIdToken(e),i=eN(r);De(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Yu(mE(i.auth_time)),issuedAtTime:Yu(mE(i.iat)),expirationTime:Yu(mE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function mE(n){return Number(n)*1e3}function eN(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return $f("JWT malformed, contained fewer than 3 sections"),null;try{let i=Mf(t);return i?JSON.parse(i):($f("Failed to decode base64 JWT payload"),null)}catch(i){return $f("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $R(n){let e=eN(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function vE(n,e,t=!1){return T(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Tn&&L$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function L$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var _E=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),t)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Zu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Kf(n){return T(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield vE(n,Gf(t,{idToken:r}));De(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tN(o.providerUserInfo):[],a=V$(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Zu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function AE(n){return T(this,null,function*(){let e=kt(n);yield Kf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function V$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tN(n){return n.map(e=>{var{providerId:t}=e,r=Ig(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function j$(n,e){return T(this,null,function*(){let t=yield ZR(n,{},()=>T(null,null,function*(){let r=W_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield XR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Bo(n.emulatorConfig.host)&&(u.credentials="include"),Wf.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function U$(n,e){return T(this,null,function*(){return Jf(n,"POST","/v2/accounts:revokeToken",JR(n,e))})}var Ju=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$R(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");let t=$R(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return T(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield j$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(De(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(De(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Qu("not implemented")}};function xi(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Go=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _E(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let t=yield vE(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return SE(this,e)}reload(){return AE(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Kf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(qr(this.auth.app))return Promise.reject(Hf(this.auth));let e=yield this.getIdToken();return yield vE(this,F$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,P=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:X,isAnonymous:xe,providerData:fe,stsTokenManager:w}=t;De(Q&&w,e,"internal-error");let v=Ju.fromJSON(this.name,w);De(typeof Q=="string",e,"internal-error"),xi(p,e.name),xi(m,e.name),De(typeof X=="boolean",e,"internal-error"),De(typeof xe=="boolean",e,"internal-error"),xi(y,e.name),xi(C,e.name),xi(P,e.name),xi(A,e.name),xi(O,e.name),xi(W,e.name);let E=new n({uid:Q,auth:e,email:m,emailVerified:X,displayName:p,isAnonymous:xe,photoURL:C,phoneNumber:y,tenantId:P,stsTokenManager:v,createdAt:O,lastLoginAt:W});return fe&&Array.isArray(fe)&&(E.providerData=fe.map(I=>Object.assign({},I))),A&&(E._redirectEventId=A),E}static _fromIdTokenResponse(e,t,r=!1){return T(this,null,function*(){let i=new Ju;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Kf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return T(this,null,function*(){let i=t.users[0];De(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?tN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ju;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Zu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var HR=new Map;function Ko(n){zf(n instanceof Function,"Expected a class definition");let e=HR.get(n);return e?(zf(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,HR.set(n,e),e)}var B$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(t,r){return T(this,null,function*(){this.storage[t]=r})}_get(t){return T(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return T(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),EE=B$;function gE(n,e,t){return`firebase:${n}:${e}:${t}`}var Qf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=gE(this.userKey,i.apiKey,o),this.fullPersistenceKey=gE("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Gf(this.auth,{idToken:e}).catch(()=>{});return t?Go._fromGetAccountInfoResponse(this.auth,t,e):null}return Go._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(this,null,function*(){if(!t.length)return new n(Ko(EE),e,r);let i=(yield Promise.all(t.map(l=>T(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ko(EE),s=gE(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Gf(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Go._fromGetAccountInfoResponse(e,m,h)}else p=Go._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>T(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function qR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G$(e))return"Blackberry";if(K$(e))return"Webos";if(H$(e))return"Safari";if((e.includes("chrome/")||q$(e))&&!e.includes("edge/"))return"Chrome";if(W$(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function $$(n=fn()){return/firefox\//i.test(n)}function H$(n=fn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q$(n=fn()){return/crios\//i.test(n)}function z$(n=fn()){return/iemobile/i.test(n)}function W$(n=fn()){return/android/i.test(n)}function G$(n=fn()){return/blackberry/i.test(n)}function K$(n=fn()){return/webos/i.test(n)}function nN(n,e=[]){let t;switch(n){case"Browser":t=qR(fn());break;case"Worker":t=`${qR(fn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ma}/${r}`}var IE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Q$(t){return T(this,arguments,function*(n,e={}){return Jf(n,"GET","/v2/passwordPolicy",JR(n,e))})}var Y$=6,wE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Y$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var bE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yf(this),this.idTokenSubscription=new Yf(this),this.beforeStateQueue=new IE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ko(t)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Qf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let t=yield Gf(this,{idToken:e}),r=yield Go._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var t;if(qr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield Kf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=M$()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(qr(this.app))return Promise.reject(Hf(this));let t=e?kt(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return T(this,null,function*(){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return qr(this.app)?Promise.reject(Hf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return qr(this.app)?Promise.reject(Hf(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(Ko(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield Q$(this),t=new wE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield U$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ko(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=yield Qf.create(this,[Ko(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return T(this,null,function*(){var e;if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&A$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function J$(n){return kt(n)}var Yf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lR(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Z$={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X$(n){Z$=n}function eH(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function tH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ko);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var Ase=eH("rcb"),Rse=new Qo(3e4,6e4);var Nse=new Qo(2e3,1e4);var Mse=600*1e3;var xse=new Qo(3e4,6e4);var Pse=new Qo(5e3,15e3);var kse=encodeURIComponent("fac");var zR="@firebase/auth",WR="1.10.8";var DE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function nH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rH(n){Wn(new Wt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;De(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nN(n)},l=new bE(r,i,o,u);return tH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Wn(new Wt("auth-internal",e=>{let t=J$(e.getProvider("auth").getImmediate());return(r=>new DE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xe(zR,WR,nH(n)),Xe(zR,WR,"esm2017")}var iH=300,Ose=nR("authIdTokenMaxAge")||iH;function oH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}X$({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=TE("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",oH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rH("Browser");var r4="auth";var Zf=class{constructor(){return va(r4)}};var rN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iN={};var zr,RE;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,b,S){for(var _=Array(arguments.length-2),br=2;br<arguments.length;br++)_[br-2]=arguments[br];return v.prototype[b].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)I[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)I[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],b=w.g[2];var S=w.g[3],_=v+(S^E&(b^S))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+I[1]+3905402710&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+I[2]+606105819&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+I[3]+3250441966&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(S^E&(b^S))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+I[5]+1200080426&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+I[6]+2821735955&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+I[7]+4249261313&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(S^E&(b^S))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+I[9]+2336552879&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+I[10]+4294925233&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+I[11]+2304563134&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(S^E&(b^S))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+I[13]+4254626195&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+I[14]+2792965006&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+I[15]+1236535329&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(b^S&(E^b))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+I[6]+3225465664&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+I[11]+643717713&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+I[0]+3921069994&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(E^b))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+I[10]+38016083&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+I[15]+3634488961&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+I[4]+3889429448&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(E^b))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+I[14]+3275163606&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+I[3]+4107603335&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+I[8]+1163531501&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(E^b))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+I[2]+4243563512&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+I[7]+1735328473&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+I[12]+2368359562&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(E^b^S)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+I[8]+2272392833&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+I[11]+1839030562&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+I[14]+4259657740&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^S)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+I[4]+1272893353&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+I[7]+4139469664&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+I[10]+3200236656&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^S)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+I[0]+3936430074&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+I[3]+3572445317&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+I[6]+76029189&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^S)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+I[12]+3873151461&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+I[15]+530742520&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+I[2]+3299628645&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(b^(E|~S))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+I[7]+1126891415&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+I[14]+2878612391&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+I[5]+4237533241&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~S))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+I[3]+2399980690&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+I[10]+4293915773&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+I[1]+2240044497&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~S))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+I[15]+4264355552&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+I[6]+2734768916&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+I[13]+1309151649&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~S))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+I[11]+3174756917&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+I[2]+718787259&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+b&4294967295,w.g[3]=w.g[3]+S&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=E;)i(this,w,S),S+=this.blockSize;if(typeof w=="string"){for(;S<v;)if(I[b++]=w.charCodeAt(S++),b==this.blockSize){i(this,I),b=0;break}}else for(;S<v;)if(I[b++]=w[S++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,b=w.length-1;0<=b;b--){var S=w[b]|0;I&&S==v||(E[b]=S,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return A(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return A(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,b=0;b<w.length;b+=8){var S=Math.min(8,w.length-b),_=parseInt(w.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),I=I.j(S).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-A(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(P(this))return"-"+A(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var b=X(E,v).g;E=O(E,b.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=b,C(E))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function P(w){return w.h==-1}n.l=function(w){return w=O(this,w),P(w)?-1:C(w)?0:1};function A(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return P(this)?A(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,b=0;b<=v;b++){var S=I+(this.i(b)&65535)+(w.i(b)&65535),_=(S>>>16)+(this.i(b)>>>16)+(w.i(b)>>>16);I=_>>>16,S&=65535,_&=65535,E[b]=_<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function O(w,v){return w.add(A(v))}n.j=function(w){if(C(this)||C(w))return p;if(P(this))return P(w)?A(this).j(A(w)):A(A(this).j(w));if(P(w))return A(this.j(A(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<w.g.length;b++){var S=this.i(I)>>>16,_=this.i(I)&65535,br=w.i(b)>>>16,ac=w.i(b)&65535;E[2*I+2*b]+=_*ac,W(E,2*I+2*b),E[2*I+2*b+1]+=S*ac,W(E,2*I+2*b+1),E[2*I+2*b+1]+=_*br,W(E,2*I+2*b+1),E[2*I+2*b+2]+=S*br,W(E,2*I+2*b+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function W(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function Q(w,v){this.g=w,this.h=v}function X(w,v){if(C(v))throw Error("division by zero");if(C(w))return new Q(p,p);if(P(w))return v=X(A(w),v),new Q(A(v.g),A(v.h));if(P(v))return v=X(w,A(v)),new Q(A(v.g),v.h);if(30<w.g.length){if(P(w)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=xe(E),I=xe(I);var b=fe(E,1),S=fe(I,1);for(I=fe(I,2),E=fe(E,2);!C(I);){var _=S.add(I);0>=_.l(w)&&(b=b.add(E),S=_),I=fe(I,1),E=fe(E,1)}return v=O(w,b.j(v)),new Q(b,v)}for(b=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=l(E),_=S.j(v);P(_)||0<_.l(w);)E-=I,S=l(E),_=S.j(v);C(S)&&(S=m),b=b.add(S),w=O(w,_)}return new Q(b,w)}n.A=function(w){return X(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function xe(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function fe(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,b=[],S=0;S<I;S++)b[S]=0<v?w.i(S+E)>>>v|w.i(S+E+1)<<32-v:w.i(S+E);return new s(b,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RE=iN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,zr=iN.Integer=s}).apply(typeof rN<"u"?rN:typeof self<"u"?self:typeof window<"u"?window:{});var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wr={};var NE,i4,_a,ME,Xu,ep,xE,PE,kE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xf=="object"&&Xf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,R){for(var j=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)j[Me-2]=arguments[Me];return d.prototype[D].apply(g,j)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function A(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,R=g.length||0;c.length=D+R;for(let j=0;j<R;j++)c[D+j]=g[j]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var xe=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function fe(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let R=0;R<E.length;R++)f=E[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function _(){var c=Mm;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class br{constructor(){this.h=this.g=null}add(d,f){let g=ac.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ac=new O(()=>new ek,c=>c.reset());class ek{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let cc,uc=!1,Mm=new br,Db=()=>{let c=a.Promise.resolve(void 0);cc=()=>{c.then(tk)}};var tk=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){S(f)}var d=ac;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}uc=!1};function ti(){this.s=this.s,this.C=this.C}ti.prototype.s=!1,ti.prototype.ma=function(){this.s||(this.s=!0,this.N())},ti.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Dt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var nk=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function lc(c,d){if(Dt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(xe){e:{try{X(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:rk[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&lc.aa.h.call(this)}}C(lc,Dt);var rk={2:"touch",3:"pen",4:"mouse"};lc.prototype.h=function(){lc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dc="closure_listenable_"+(1e6*Math.random()|0),ik=0;function ok(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++ik,this.da=this.fa=!1}function Nl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ml(c){this.src=c,this.g={},this.h=0}Ml.prototype.add=function(c,d,f,g,D){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var j=Pm(c,d,g,D);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new ok(d,this.src,R,!!g,D),d.fa=f,c.push(d)),d};function xm(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=D)&&Array.prototype.splice.call(g,D,1),R&&(Nl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Pm(c,d,f,g){for(var D=0;D<c.length;++D){var R=c[D];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return D}return-1}var km="closure_lm_"+(1e6*Math.random()|0),Om={};function Tb(c,d,f,g,D){if(g&&g.once)return Sb(c,d,f,g,D);if(Array.isArray(d)){for(var R=0;R<d.length;R++)Tb(c,d[R],f,g,D);return null}return f=jm(f),c&&c[dc]?c.K(d,f,l(g)?!!g.capture:!!g,D):Cb(c,d,f,!1,g,D)}function Cb(c,d,f,g,D,R){if(!d)throw Error("Invalid event type");var j=l(D)?!!D.capture:!!D,Me=Lm(c);if(Me||(c[km]=Me=new Ml(c)),f=Me.add(d,f,g,j,R),f.proxy)return f;if(g=sk(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)nk||(D=j),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(Rb(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function sk(){function c(f){return d.call(c.src,c.listener,f)}let d=ak;return c}function Sb(c,d,f,g,D){if(Array.isArray(d)){for(var R=0;R<d.length;R++)Sb(c,d[R],f,g,D);return null}return f=jm(f),c&&c[dc]?c.L(d,f,l(g)?!!g.capture:!!g,D):Cb(c,d,f,!0,g,D)}function Ab(c,d,f,g,D){if(Array.isArray(d))for(var R=0;R<d.length;R++)Ab(c,d[R],f,g,D);else g=l(g)?!!g.capture:!!g,f=jm(f),c&&c[dc]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=Pm(R,f,g,D),-1<f&&(Nl(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=Lm(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Pm(d,f,g,D)),(f=-1<c?d[c]:null)&&Fm(f))}function Fm(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[dc])xm(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Rb(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Lm(d))?(xm(f,c),f.h==0&&(f.src=null,d[km]=null)):Nl(c)}}}function Rb(c){return c in Om?Om[c]:Om[c]="on"+c}function ak(c,d){if(c.da)c=!0;else{d=new lc(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Fm(c),c=f.call(g,d)}return c}function Lm(c){return c=c[km],c instanceof Ml?c:null}var Vm="__closure_events_fn_"+(1e9*Math.random()>>>0);function jm(c){return typeof c=="function"?c:(c[Vm]||(c[Vm]=function(d){return c.handleEvent(d)}),c[Vm])}function Tt(){ti.call(this),this.i=new Ml(this),this.M=this,this.F=null}C(Tt,ti),Tt.prototype[dc]=!0,Tt.prototype.removeEventListener=function(c,d,f,g){Ab(this,c,d,f,g)};function Lt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Dt(d,c);else if(d instanceof Dt)d.target=d.target||c;else{var D=d;d=new Dt(g,c),I(d,D)}if(D=!0,f)for(var R=f.length-1;0<=R;R--){var j=d.g=f[R];D=xl(j,g,!0,d)&&D}if(j=d.g=c,D=xl(j,g,!0,d)&&D,D=xl(j,g,!1,d)&&D,f)for(R=0;R<f.length;R++)j=d.g=f[R],D=xl(j,g,!1,d)&&D}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Nl(f[g]);delete c.g[d],c.h--}}this.F=null},Tt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Tt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function xl(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,R=0;R<d.length;++R){var j=d[R];if(j&&!j.da&&j.capture==f){var Me=j.listener,_t=j.ha||j.src;j.fa&&xm(c.i,j),D=Me.call(_t,g)!==!1&&D}}return D&&!g.defaultPrevented}function Nb(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Mb(c){c.g=Nb(()=>{c.g=null,c.i&&(c.i=!1,Mb(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class ck extends ti{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Mb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hc(c){ti.call(this),this.h=c,this.g={}}C(hc,ti);var xb=[];function Pb(c){fe(c.g,function(d,f){this.g.hasOwnProperty(f)&&Fm(d)},c),c.g={}}hc.prototype.N=function(){hc.aa.N.call(this),Pb(this)},hc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Um=a.JSON.stringify,uk=a.JSON.parse,lk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Bm(){}Bm.prototype.h=null;function kb(c){return c.h||(c.h=c.i())}function Ob(){}var fc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $m(){Dt.call(this,"d")}C($m,Dt);function Hm(){Dt.call(this,"c")}C(Hm,Dt);var Ki={},Fb=null;function Pl(){return Fb=Fb||new Tt}Ki.La="serverreachability";function Lb(c){Dt.call(this,Ki.La,c)}C(Lb,Dt);function pc(c){let d=Pl();Lt(d,new Lb(d))}Ki.STAT_EVENT="statevent";function Vb(c,d){Dt.call(this,Ki.STAT_EVENT,c),this.stat=d}C(Vb,Dt);function Vt(c){let d=Pl();Lt(d,new Vb(d,c))}Ki.Ma="timingevent";function jb(c,d){Dt.call(this,Ki.Ma,c),this.size=d}C(jb,Dt);function mc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function gc(){this.g=!0}gc.prototype.xa=function(){this.g=!1};function dk(c,d,f,g,D,R){c.info(function(){if(c.g)if(R)for(var j="",Me=R.split("&"),_t=0;_t<Me.length;_t++){var Ee=Me[_t].split("=");if(1<Ee.length){var Ct=Ee[0];Ee=Ee[1];var St=Ct.split("_");j=2<=St.length&&St[1]=="type"?j+(Ct+"="+Ee+"&"):j+(Ct+"=redacted&")}}else j=null;else j=R;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+j})}function hk(c,d,f,g,D,R,j){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+R+" "+j})}function ds(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+pk(c,f)+(g?" "+g:"")})}function fk(c,d){c.info(function(){return"TIMEOUT: "+d})}gc.prototype.info=function(){};function pk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var R=D[0];if(R!="noop"&&R!="stop"&&R!="close")for(var j=1;j<D.length;j++)D[j]=""}}}}return Um(f)}catch{return d}}var kl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ub={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qm;function Ol(){}C(Ol,Bm),Ol.prototype.g=function(){return new XMLHttpRequest},Ol.prototype.i=function(){return{}},qm=new Ol;function ni(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new hc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bb}function Bb(){this.i=null,this.g="",this.h=!1}var $b={},zm={};function Wm(c,d,f){c.L=1,c.v=jl(Dr(d)),c.m=f,c.P=!0,Hb(c,null)}function Hb(c,d){c.F=Date.now(),Fl(c),c.A=Dr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),rD(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Bb,c.g=ID(c.j,f?d:null,!c.m),0<c.O&&(c.M=new ck(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(xb[0]=D.toString()),D=xb);for(var R=0;R<D.length;R++){var j=Tb(f,D[R],g||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),pc(),dk(c.i,c.u,c.A,c.l,c.R,c.m)}ni.prototype.ca=function(c){c=c.target;let d=this.M;d&&Tr(c)==3?d.j():this.Y(c)},ni.prototype.Y=function(c){try{if(c==this.g)e:{let St=Tr(this.g);var d=this.g.Ba();let ps=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||lD(this.g)))){this.J||St!=4||d==7||(d==8||0>=ps?pc(3):pc(2)),Gm(this);var f=this.g.Z();this.X=f;t:if(qb(this)){var g=lD(this.g);c="";var D=g.length,R=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qi(this),yc(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,hk(this.i,this.u,this.A,this.l,this.R,St,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,_t=this.g;if((Me=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Me)){var Ee=Me;break t}}Ee=null}if(f=Ee)ds(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Km(this,f);else{this.o=!1,this.s=3,Vt(12),Qi(this),yc(this);break e}}if(this.P){f=!0;let Nn;for(;!this.J&&this.C<j.length;)if(Nn=mk(this,j),Nn==zm){St==4&&(this.s=4,Vt(14),f=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==$b){this.s=4,Vt(15),ds(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else ds(this.i,this.l,Nn,null),Km(this,Nn);if(qb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||j.length!=0||this.h.h||(this.s=1,Vt(16),f=!1),this.o=this.o&&f,!f)ds(this.i,this.l,j,"[Invalid Chunked Response]"),Qi(this),yc(this);else if(0<j.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),eg(Ct),Ct.M=!0,Vt(11))}}else ds(this.i,this.l,j,null),Km(this,j);St==4&&Qi(this),this.o&&!this.J&&(St==4?yD(this.j,this):(this.o=!1,Fl(this)))}else xk(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Qi(this),yc(this)}}}catch{}finally{}};function qb(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mk(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?zm:(f=Number(d.substring(f,g)),isNaN(f)?$b:(g+=1,g+f>d.length?zm:(d=d.slice(g,g+f),c.C=g+f,d)))}ni.prototype.cancel=function(){this.J=!0,Qi(this)};function Fl(c){c.S=Date.now()+c.I,zb(c,c.I)}function zb(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mc(m(c.ba,c),d)}function Gm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ni.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(fk(this.i,this.A),this.L!=2&&(pc(),Vt(17)),Qi(this),this.s=2,yc(this)):zb(this,this.S-c)};function yc(c){c.j.G==0||c.J||yD(c.j,c)}function Qi(c){Gm(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Pb(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Km(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Qm(f.h,c))){if(!c.K&&Qm(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)ql(f),$l(f);else break e;Xm(f),Vt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=mc(m(f.Za,f),6e3));if(1>=Kb(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ji(f,11)}else if((c.K||f.g==c)&&ql(f),!W(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let Ee=D[d];if(f.T=Ee[0],Ee=Ee[1],f.G==2)if(Ee[0]=="c"){f.K=Ee[1],f.ia=Ee[2];let Ct=Ee[3];Ct!=null&&(f.la=Ct,f.j.info("VER="+f.la));let St=Ee[4];St!=null&&(f.Aa=St,f.j.info("SVER="+f.Aa));let ps=Ee[5];ps!=null&&typeof ps=="number"&&0<ps&&(g=1.5*ps,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Nn=c.g;if(Nn){let Wl=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wl){var R=g.h;R.g||Wl.indexOf("spdy")==-1&&Wl.indexOf("quic")==-1&&Wl.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Ym(R,R.h),R.h=null))}if(g.D){let tg=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;tg&&(g.ya=tg,Pe(g.I,g.D,tg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var j=c;if(g.qa=ED(g,g.J?g.ia:null,g.W),j.K){Qb(g.h,j);var Me=j,_t=g.L;_t&&(Me.I=_t),Me.B&&(Gm(Me),Fl(Me)),g.g=j}else mD(g);0<f.i.length&&Hl(f)}else Ee[0]!="stop"&&Ee[0]!="close"||Ji(f,7);else f.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Ji(f,7):Zm(f):Ee[0]!="noop"&&f.l&&f.l.ta(Ee),f.v=0)}}pc(4)}catch{}}var gk=class{constructor(c,d){this.g=c,this.map=d}};function Wb(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gb(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Kb(c){return c.h?1:c.g?c.g.size:0}function Qm(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ym(c,d){c.g?c.g.add(d):c.h=d}function Qb(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Wb.prototype.cancel=function(){if(this.i=Yb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Yb(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function yk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function vk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Jb(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=vk(c),g=yk(c),D=g.length,R=0;R<D;R++)d.call(void 0,g[R],f&&f[R],c)}var Zb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _k(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var R=c[f].substring(0,g);D=c[f].substring(g+1)}else R=c[f];d(R,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Yi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yi){this.h=c.h,Ll(this,c.j),this.o=c.o,this.g=c.g,Vl(this,c.s),this.l=c.l;var d=c.i,f=new Ec;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Xb(this,f),this.m=c.m}else c&&(d=String(c).match(Zb))?(this.h=!1,Ll(this,d[1]||"",!0),this.o=vc(d[2]||""),this.g=vc(d[3]||"",!0),Vl(this,d[4]),this.l=vc(d[5]||"",!0),Xb(this,d[6]||"",!0),this.m=vc(d[7]||"")):(this.h=!1,this.i=new Ec(null,this.h))}Yi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(_c(d,eD,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(_c(d,eD,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(_c(f,f.charAt(0)=="/"?wk:Ik,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",_c(f,Dk)),c.join("")};function Dr(c){return new Yi(c)}function Ll(c,d,f){c.j=f?vc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Vl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Xb(c,d,f){d instanceof Ec?(c.i=d,Tk(c.i,c.h)):(f||(d=_c(d,bk)),c.i=new Ec(d,c.h))}function Pe(c,d,f){c.i.set(d,f)}function jl(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function vc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _c(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Ek),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ek(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var eD=/[#\/\?@]/g,Ik=/[#\?:]/g,wk=/[#\?]/g,bk=/[#\?@]/g,Dk=/#/g;function Ec(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ri(c){c.g||(c.g=new Map,c.h=0,c.i&&_k(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ec.prototype,n.add=function(c,d){ri(this),this.i=null,c=hs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function tD(c,d){ri(c),d=hs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function nD(c,d){return ri(c),d=hs(c,d),c.g.has(d)}n.forEach=function(c,d){ri(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},n.na=function(){ri(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let R=0;R<D.length;R++)f.push(d[g])}return f},n.V=function(c){ri(this);let d=[];if(typeof c=="string")nD(this,c)&&(d=d.concat(this.g.get(hs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return ri(this),this.i=null,c=hs(this,c),nD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function rD(c,d,f){tD(c,d),0<f.length&&(c.i=null,c.g.set(hs(c,d),P(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),j=this.V(g);for(g=0;g<j.length;g++){var D=R;j[g]!==""&&(D+="="+encodeURIComponent(String(j[g]))),c.push(D)}}return this.i=c.join("&")};function hs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Tk(c,d){d&&!c.j&&(ri(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(tD(this,g),rD(this,D,f))},c)),c.j=d}function Ck(c,d){let f=new gc;if(a.Image){let g=new Image;g.onload=y(ii,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ii,f,"TestLoadImage: error",!1,d,g),g.onabort=y(ii,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ii,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function Sk(c,d){let f=new gc,g=new AbortController,D=setTimeout(()=>{g.abort(),ii(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(D),R.ok?ii(f,"TestPingServer: ok",!0,d):ii(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),ii(f,"TestPingServer: error",!1,d)})}function ii(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function Ak(){this.g=new lk}function Rk(c,d,f){let g=f||"";try{Jb(c,function(D,R){let j=D;l(D)&&(j=Um(D)),d.push(g+R+"="+encodeURIComponent(j))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Ic(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ic,Bm),Ic.prototype.g=function(){return new Ul(this.l,this.j)},Ic.prototype.i=(function(c){return function(){return c}})({});function Ul(c,d){Tt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ul,Tt),n=Ul.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,bc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,bc(this)),this.g&&(this.readyState=3,bc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iD(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function iD(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?wc(this):bc(this),this.readyState==3&&iD(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,wc(this))},n.Qa=function(c){this.g&&(this.response=c,wc(this))},n.ga=function(){this.g&&wc(this)};function wc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,bc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function bc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function oD(c){let d="";return fe(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Jm(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=oD(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Pe(c,d,f))}function $e(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C($e,Tt);var Nk=/^https?$/i,Mk=["POST","PUT"];n=$e.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qm.g(),this.v=this.o?kb(this.o):kb(qm),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){sD(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Mk,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,j]of f)this.g.setRequestHeader(R,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uD(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){sD(this,R)}};function sD(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,aD(c),Bl(c)}function aD(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),Bl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bl(this,!0)),$e.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cD(this):this.bb())},n.bb=function(){cD(this)};function cD(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Tr(c)!=4||c.Z()!=2)){if(c.u&&Tr(c)==4)Nb(c.Ea,0,c);else if(Lt(c,"readystatechange"),Tr(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=j===0){var D=String(c.D).match(Zb)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!Nk.test(D?D.toLowerCase():"")}f=g}if(f)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var R=2<Tr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",aD(c)}}finally{Bl(c)}}}}function Bl(c,d){if(c.g){uD(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Lt(c,"ready");try{f.onreadystatechange=g}catch{}}}function uD(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Tr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),uk(d)}};function lD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xk(c){let d={};c=(c.g&&2<=Tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(W(c[g]))continue;var f=b(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[D]||[];d[D]=R,R.push(f)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function dD(c){this.Aa=0,this.i=[],this.j=new gc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dc("baseRetryDelayMs",5e3,c),this.cb=Dc("retryDelaySeedMs",1e4,c),this.Wa=Dc("forwardChannelMaxRetries",2,c),this.wa=Dc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Wb(c&&c.concurrentRequestLimit),this.Da=new Ak,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=dD.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Vt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=ED(this,null,this.W),Hl(this)};function Zm(c){if(hD(c),c.G==3){var d=c.U++,f=Dr(c.I);if(Pe(f,"SID",c.K),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),Tc(c,f),d=new ni(c,c.j,d),d.L=2,d.v=jl(Dr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=ID(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fl(d)}_D(c)}function $l(c){c.g&&(eg(c),c.g.cancel(),c.g=null)}function hD(c){$l(c),c.u&&(a.clearTimeout(c.u),c.u=null),ql(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hl(c){if(!Gb(c.h)&&!c.s){c.s=!0;var d=c.Ga;cc||Db(),uc||(cc(),uc=!0),Mm.add(d,c),c.B=0}}function Pk(c,d){return Kb(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mc(m(c.Ga,c,d),vD(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new ni(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),I(R,this.S)):R=this.S),this.m!==null||this.O||(D.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=pD(this,D,d),f=Dr(this.I),Pe(f,"RID",c),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),Tc(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(oD(R)))+"&"+d:this.m&&Jm(f,this.m,R)),Ym(this.h,D),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",d),Pe(f,"SID","null"),D.T=!0,Wm(D,f,null)):Wm(D,f,d),this.G=2}}else this.G==3&&(c?fD(this,c):this.i.length==0||Gb(this.h)||fD(this))};function fD(c,d){var f;d?f=d.l:f=c.U++;let g=Dr(c.I);Pe(g,"SID",c.K),Pe(g,"RID",f),Pe(g,"AID",c.T),Tc(c,g),c.m&&c.o&&Jm(g,c.m,c.o),f=new ni(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=pD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ym(c.h,f),Wm(f,g,d)}function Tc(c,d){c.H&&fe(c.H,function(f,g){Pe(d,g,f)}),c.l&&Jb({},function(f,g){Pe(d,g,f)})}function pD(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let R=-1;for(;;){let j=["count="+f];R==-1?0<f?(R=D[0].g,j.push("ofs="+R)):R=0:j.push("ofs="+R);let Me=!0;for(let _t=0;_t<f;_t++){let Ee=D[_t].g,Ct=D[_t].map;if(Ee-=R,0>Ee)R=Math.max(0,D[_t].g-100),Me=!1;else try{Rk(Ct,j,"req"+Ee+"_")}catch{g&&g(Ct)}}if(Me){g=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function mD(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;cc||Db(),uc||(cc(),uc=!0),Mm.add(d,c),c.v=0}}function Xm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mc(m(c.Fa,c),vD(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,gD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mc(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),$l(this),gD(this))};function eg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function gD(c){c.g=new ni(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Dr(c.qa);Pe(d,"RID","rpc"),Pe(d,"SID",c.K),Pe(d,"AID",c.T),Pe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(d,"TO",c.ja),Pe(d,"TYPE","xmlhttp"),Tc(c,d),c.m&&c.o&&Jm(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=jl(Dr(d)),f.m=null,f.P=!0,Hb(f,c)}n.Za=function(){this.C!=null&&(this.C=null,$l(this),Xm(this),Vt(19))};function ql(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function yD(c,d){var f=null;if(c.g==d){ql(c),eg(c),c.g=null;var g=2}else if(Qm(c.h,d))f=d.D,Qb(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Pl(),Lt(g,new jb(g,f)),Hl(c)}else mD(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&Pk(c,d)||g==2&&Xm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:Ji(c,5);break;case 4:Ji(c,10);break;case 3:Ji(c,6);break;default:Ji(c,2)}}}function vD(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ji(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new Yi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ll(g,"https"),jl(g),D?Ck(g.toString(),f):Sk(g.toString(),f)}else Vt(2);c.G=0,c.l&&c.l.sa(d),_D(c),hD(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function _D(c){if(c.G=0,c.ka=[],c.l){let d=Yb(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ka,d),A(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function ED(c,d,f){var g=f instanceof Yi?Dr(f):new Yi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Vl(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var R=new Yi(null);g&&Ll(R,g),d&&(R.g=d),D&&Vl(R,D),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&Pe(g,f,d),Pe(g,"VER",c.la),Tc(c,g),g}function ID(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new $e(new Ic({eb:f})):new $e(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wD(){}n=wD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zl(){}zl.prototype.g=function(c,d){return new nn(c,d)};function nn(c,d){Tt.call(this),this.g=new dD(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new fs(this)}C(nn,Tt),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Zm(this.g)},nn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Um(c),c=f);d.i.push(new gk(d.Ya++,c)),d.G==3&&Hl(d)},nn.prototype.N=function(){this.g.l=null,delete this.j,Zm(this.g),delete this.g,nn.aa.N.call(this)};function bD(c){$m.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(bD,$m);function DD(){Hm.call(this),this.status=1}C(DD,Hm);function fs(c){this.g=c}C(fs,wD),fs.prototype.ua=function(){Lt(this.g,"a")},fs.prototype.ta=function(c){Lt(this.g,new bD(c))},fs.prototype.sa=function(c){Lt(this.g,new DD)},fs.prototype.ra=function(){Lt(this.g,"b")},zl.prototype.createWebChannel=zl.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,kE=Wr.createWebChannelTransport=function(){return new zl},PE=Wr.getStatEventTarget=function(){return Pl()},xE=Wr.Event=Ki,ep=Wr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kl.NO_ERROR=0,kl.TIMEOUT=8,kl.HTTP_ERROR=6,Xu=Wr.ErrorCode=kl,Ub.COMPLETE="complete",ME=Wr.EventType=Ub,Ob.EventType=fc,fc.OPEN="a",fc.CLOSE="b",fc.ERROR="c",fc.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,_a=Wr.WebChannel=Ob,i4=Wr.FetchXmlHttpFactory=Ic,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,NE=Wr.XhrIo=$e}).apply(typeof Xf<"u"?Xf:typeof self<"u"?self:typeof window<"u"?window:{});var oN="@firebase/firestore",sN="4.8.0";var gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");var $a="11.10.0";var es=new lr("@firebase/firestore");function Ea(){return es.logLevel}function H(n,...e){if(es.logLevel<=pe.DEBUG){let t=e.map(Iw);es.debug(`Firestore (${$a}): ${n}`,...t)}}function Gr(n,...e){if(es.logLevel<=pe.ERROR){let t=e.map(Iw);es.error(`Firestore (${$a}): ${n}`,...t)}}function Li(n,...e){if(es.logLevel<=pe.WARN){let t=e.map(Iw);es.warn(`Firestore (${$a}): ${n}`,...t)}}function Iw(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function J(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,QN(n,r,t)}function QN(n,e,t){let r=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Gr(r),new Error(r)}function Se(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||QN(e,i,r)}function oe(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends Tn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var hr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ap=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},jE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gt.UNAUTHENTICATED))}shutdown(){}},UE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},BE=class{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Se(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>T(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new ap(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new gt(e)}},$E=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},HE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new $E(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},cp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Se(this.o===void 0,3512);let r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Se(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new cp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function o4(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function YN(){return new TextEncoder}var ol=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=o4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function he(n,e){return n<e?-1:n>e?1:0}function zE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return he(r,i);{let o=YN(),s=s4(o.encode(aN(n,t)),o.encode(aN(e,t)));return s!==0?s:he(r,i)}}t+=r>65535?2:1}return he(n.length,e.length)}function aN(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function s4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return he(n[t],e[t]);return he(n.length,e.length)}function Aa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var cN="__name__",up=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&J(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&J(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return he(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):zE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zr.fromString(e.substring(4,e.length-2))}},Be=class n extends up{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},a4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mn=class n extends up{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return a4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cN}static keyField(){return new n([cN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Y=class n{constructor(e){this.path=e}static fromPath(e){return new n(Be.fromString(e))}static fromName(e){return new n(Be.fromString(e).popFirst(5))}static empty(){return new n(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Be(e.slice()))}};function JN(n,e,t){if(!t)throw new G(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function c4(n,e,t,r){if(e===!0&&r===!0)throw new G(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uN(n){if(!Y.isDocumentKey(n))throw new G(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lN(n){if(Y.isDocumentKey(n))throw new G(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ZN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ww(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":J(12329,{type:typeof n})}function An(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ww(n);throw new G(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function it(n,e){let t={typeString:n};return e&&(t.value=e),t}function ml(n,e){if(!ZN(n))throw new G(F.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new G(F.INVALID_ARGUMENT,t);return!0}var dN=-62135596800,hN=1e6,ot=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*hN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dN)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hN}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ml(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-dN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:it("string",ot._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};var ae=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ot(0,0))}static max(){return new n(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var sl=-1,WE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};WE.UNKNOWN_ID=-1;function u4(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new ot(t+1,0):new ot(t,r));return new ts(i,Y.empty(),e)}function l4(n){return new ts(n.readTime,n.key,sl)}var ts=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ae.min(),Y.empty(),sl)}static max(){return new n(ae.max(),Y.empty(),sl)}};function d4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Y.comparator(n.documentKey,e.documentKey),t!==0?t:he(n.largestBatchId,e.largestBatchId))}var h4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",GE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ha(n){return T(this,null,function*(){if(n.code!==F.FAILED_PRECONDITION||n.message!==h4)throw n;H("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function f4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qa(n){return n.name==="IndexedDbTransactionError"}var bw=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),Dw=-1;function qp(n){return n==null}function al(n){return n===0&&1/n==-1/0}function p4(n){return typeof n=="number"&&Number.isInteger(n)&&!al(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var XN="";function m4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fN(e)),e=g4(n.get(t),e);return fN(e)}function g4(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case XN:t+="";break;default:t+=o}}return t}function fN(n){return n+XN+""}var y4="remoteDocuments",eM="owner";var tM="mutationQueues";var nM="mutations";var rM="documentMutations",v4="remoteDocumentsV14";var iM="remoteDocumentGlobal";var oM="targets";var sM="targetDocuments";var aM="targetGlobal",cM="collectionParents";var uM="clientMetadata";var lM="bundles";var dM="namedQueries";var _4="indexConfiguration";var E4="indexState";var I4="indexEntries";var hM="documentOverlays";var w4="globals";var b4=[tM,nM,rM,y4,oM,eM,aM,sM,uM,iM,cM,lM,dM],jae=[...b4,hM],D4=[tM,nM,rM,v4,oM,eM,aM,sM,uM,iM,cM,lM,dM,hM],T4=D4,C4=[...T4,_4,E4,I4];var Uae=[...C4,w4];function pN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ge=class n{constructor(e,t){this.comparator=e,this.root=t||fr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Da(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Da(this.root,e,this.comparator,!1)}getReverseIterator(){return new Da(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Da(this.root,e,this.comparator,!0)}},Da=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}};fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new fr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class n{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lp(this.data.getIterator())}getIteratorFrom(e){return new lp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},lp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Sn=class n{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new n([])}unionWith(e){let t=new yt(mn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var dp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ft=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dp("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ft.EMPTY_BYTE_STRING=new Ft("");var S4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(n){if(Se(!!n,39018),typeof n=="string"){let e=0,t=S4.exec(n);if(Se(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qr(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}var pM="server_timestamp",mM="__type__",gM="__previous_value__",yM="__local_write_time__";function Tw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mM])===null||t===void 0?void 0:t.stringValue)===pM}function zp(n){let e=n.mapValue.fields[gM];return Tw(e)?zp(e):e}function cl(n){let e=Kr(n.mapValue.fields[yM].timestampValue);return new ot(e.seconds,e.nanos)}var KE=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},hp="(default)",fp=class n{constructor(e,t){this.projectId=e,this.database=t||hp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===hp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Cw="__type__",vM="__max__",tp={mapValue:{fields:{__type__:{stringValue:vM}}}},Sw="__vector__",Ra="value";function Vi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tw(n)?4:EM(n)?9007199254740991:_M(n)?10:11:J(28295,{value:n})}function yr(n,e){if(n===e)return!0;let t=Vi(n);if(t!==Vi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cl(n).isEqual(cl(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Kr(i.timestampValue),a=Kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Qr(i.bytesValue).isEqual(Qr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?al(s)===al(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Aa(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(pN(s)!==pN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!yr(s[u],a[u])))return!1;return!0})(n,e);default:return J(52216,{left:n})}}function ul(n,e){return(n.values||[]).find(t=>yr(t,e))!==void 0}function Na(n,e){if(n===e)return 0;let t=Vi(n),r=Vi(e);if(t!==r)return he(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return he(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return mN(n.timestampValue,e.timestampValue);case 4:return mN(cl(n),cl(e));case 5:return zE(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Qr(o),u=Qr(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=he(a[l],u[l]);if(h!==0)return h}return he(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=he(Oe(o.latitude),Oe(s.latitude));return a!==0?a:he(Oe(o.longitude),Oe(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return gN(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Ra])===null||a===void 0?void 0:a.arrayValue,C=(u=m[Ra])===null||u===void 0?void 0:u.arrayValue,P=he(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:gN(y,C)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===tp.mapValue&&s===tp.mapValue)return 0;if(o===tp.mapValue)return 1;if(s===tp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=zE(u[p],h[p]);if(m!==0)return m;let y=Na(a[u[p]],l[h[p]]);if(y!==0)return y}return he(u.length,h.length)})(n.mapValue,e.mapValue);default:throw J(23264,{le:t})}}function mN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return he(n,e);let t=Kr(n),r=Kr(e),i=he(t.seconds,r.seconds);return i!==0?i:he(t.nanos,r.nanos)}function gN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Na(t[i],r[i]);if(o)return o}return he(t.length,r.length)}function Ma(n){return QE(n)}function QE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Kr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Qr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Y.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=QE(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${QE(t.fields[s])}`;return i+"}"})(n.mapValue):J(61005,{value:n})}function ip(n){switch(Vi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=zp(n);return e?16+ip(e):16;case 5:return 2*n.stringValue.length;case 6:return Qr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+ip(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Hi(r.fields,(o,s)=>{i+=o.length+ip(s)}),i})(n.mapValue);default:throw J(13486,{value:n})}}function YE(n){return!!n&&"integerValue"in n}function Aw(n){return!!n&&"arrayValue"in n}function yN(n){return!!n&&"nullValue"in n}function vN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function op(n){return!!n&&"mapValue"in n}function _M(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Cw])===null||t===void 0?void 0:t.stringValue)===Sw}function tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Hi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vM}var $ae={mapValue:{fields:{[Cw]:{stringValue:Sw},[Ra]:{arrayValue:{}}}}};var pn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!op(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=mn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=tl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());op(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];op(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Hi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(tl(this.value))}};function IM(n){let e=[];return Hi(n.fields,(t,r)=>{let i=new mn([t]);if(op(r)){let o=IM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Sn(e)}var Kn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),pn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ae.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var xa=class{constructor(e,t){this.position=e,this.inclusive=t}};function _N(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),t.key):r=Na(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function EN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}var Pa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function A4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var pp=class{},lt=class n extends pp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ZE(e,t,r):t==="array-contains"?new tI(e,r):t==="in"?new nI(e,r):t==="not-in"?new rI(e,r):t==="array-contains-any"?new iI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new XE(e,r):new eI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Na(t,this.value)):t!==null&&Vi(this.value)===Vi(t)&&this.matchesComparison(Na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},vr=class n extends pp{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return wM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function wM(n){return n.op==="and"}function bM(n){return R4(n)&&wM(n)}function R4(n){for(let e of n.filters)if(e instanceof vr)return!1;return!0}function JE(n){if(n instanceof lt)return n.field.canonicalString()+n.op.toString()+Ma(n.value);if(bM(n))return n.filters.map(e=>JE(e)).join(",");{let e=n.filters.map(t=>JE(t)).join(",");return`${n.op}(${e})`}}function DM(n,e){return n instanceof lt?(function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)})(n,e):n instanceof vr?(function(r,i){return i instanceof vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&DM(s,i.filters[a]),!0):!1})(n,e):void J(19439)}function TM(n){return n instanceof lt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ma(t.value)}`})(n):n instanceof vr?(function(t){return t.op.toString()+" {"+t.getFilters().map(TM).join(" ,")+"}"})(n):"Filter"}var ZE=class extends lt{constructor(e,t,r){super(e,t,r),this.key=Y.fromName(r.referenceValue)}matches(e){let t=Y.comparator(e.key,this.key);return this.matchesComparison(t)}},XE=class extends lt{constructor(e,t){super(e,"in",t),this.keys=CM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},eI=class extends lt{constructor(e,t){super(e,"not-in",t),this.keys=CM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function CM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Y.fromName(r.referenceValue))}var tI=class extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Aw(t)&&ul(t.arrayValue,this.value)}},nI=class extends lt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ul(this.value.arrayValue,t)}},rI=class extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ul(this.value.arrayValue,t)}},iI=class extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Aw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ul(this.value.arrayValue,r))}};var oI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function IN(n,e=null,t=[],r=[],i=null,o=null,s=null){return new oI(n,e,t,r,i,o,s)}function Rw(n){let e=oe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>JE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),qp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ma(r)).join(",")),e.Pe=t}return e.Pe}function Nw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!A4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!EN(n.startAt,e.startAt)&&EN(n.endAt,e.endAt)}function sI(n){return Y.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ka=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function N4(n,e,t,r,i,o,s,a){return new ka(n,e,t,r,i,o,s,a)}function Wp(n){return new ka(n)}function wN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function M4(n){return n.collectionGroup!==null}function nl(n){let e=oe(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(mn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Pa(o,r))}),t.has(mn.keyField().canonicalString())||e.Te.push(new Pa(mn.keyField(),r))}return e.Te}function pr(n){let e=oe(n);return e.Ie||(e.Ie=x4(e,nl(n))),e.Ie}function x4(n,e){if(n.limitType==="F")return IN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Pa(i.field,o)});let t=n.endAt?new xa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xa(n.startAt.position,n.startAt.inclusive):null;return IN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function aI(n,e,t){return new ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gp(n,e){return Nw(pr(n),pr(e))&&n.limitType===e.limitType}function SM(n){return`${Rw(pr(n))}|lt:${n.limitType}`}function Ia(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>TM(i)).join(", ")}]`),qp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ma(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ma(i)).join(",")),`Target(${r})`})(pr(n))}; limitType=${n.limitType})`}function Kp(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of nl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=_N(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,nl(r),i)||r.endAt&&!(function(s,a,u){let l=_N(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,nl(r),i))})(n,e)}function P4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AM(n){return(e,t)=>{let r=!1;for(let i of nl(n)){let o=k4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function k4(n,e,t){let r=n.field.isKeyField()?Y.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Na(u,l):J(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:n.dir})}}var Yr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return fM(this.inner)}size(){return this.innerSize}};var O4=new Ge(Y.comparator);function Jr(){return O4}var RM=new Ge(Y.comparator);function el(...n){let e=RM;for(let t of n)e=e.insert(t.key,t);return e}function NM(n){let e=RM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yo(){return rl()}function MM(){return rl()}function rl(){return new Yr(n=>n.toString(),(n,e)=>n.isEqual(e))}var F4=new Ge(Y.comparator),L4=new yt(Y.comparator);function ge(...n){let e=L4;for(let t of n)e=e.add(t);return e}var V4=new yt(he);function j4(){return V4}function Mw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:al(e)?"-0":e}}function xM(n){return{integerValue:""+n}}function U4(n,e){return p4(e)?xM(e):Mw(n,e)}var Oa=class{constructor(){this._=void 0}};function B4(n,e,t){return n instanceof Fa?(function(i,o){let s={fields:{[mM]:{stringValue:pM},[yM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Tw(o)&&(o=zp(o)),o&&(s.fields[gM]=o),{mapValue:s}})(t,e):n instanceof ji?kM(n,e):n instanceof Ui?OM(n,e):(function(i,o){let s=PM(i,o),a=bN(s)+bN(i.Ee);return YE(s)&&YE(i.Ee)?xM(a):Mw(i.serializer,a)})(n,e)}function $4(n,e,t){return n instanceof ji?kM(n,e):n instanceof Ui?OM(n,e):t}function PM(n,e){return n instanceof La?(function(r){return YE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Fa=class extends Oa{},ji=class extends Oa{constructor(e){super(),this.elements=e}};function kM(n,e){let t=FM(e);for(let r of n.elements)t.some(i=>yr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ui=class extends Oa{constructor(e){super(),this.elements=e}};function OM(n,e){let t=FM(e);for(let r of n.elements)t=t.filter(i=>!yr(i,r));return{arrayValue:{values:t}}}var La=class extends Oa{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function bN(n){return Oe(n.integerValue||n.doubleValue)}function FM(n){return Aw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var mp=class{constructor(e,t){this.field=e,this.transform=t}};function H4(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof ji&&i instanceof ji||r instanceof Ui&&i instanceof Ui?Aa(r.elements,i.elements,yr):r instanceof La&&i instanceof La?yr(r.Ee,i.Ee):r instanceof Fa&&i instanceof Fa})(n.transform,e.transform)}var cI=class{constructor(e,t){this.version=e,this.transformResults=t}},mr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function sp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Va=class{};function LM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ll(n.key,mr.none()):new ns(n.key,n.data,mr.none());{let t=n.data,r=pn.empty(),i=new yt(mn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new _r(n.key,r,new Sn(i.toArray()),mr.none())}}function q4(n,e,t){n instanceof ns?(function(i,o,s){let a=i.value.clone(),u=TN(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof _r?(function(i,o,s){if(!sp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=TN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(VM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function il(n,e,t,r){return n instanceof ns?(function(o,s,a,u){if(!sp(o.precondition,s))return a;let l=o.value.clone(),h=CN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof _r?(function(o,s,a,u){if(!sp(o.precondition,s))return a;let l=CN(o.fieldTransforms,u,s),h=s.data;return h.setAll(VM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return sp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function z4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=PM(r.transform,i||null);o!=null&&(t===null&&(t=pn.empty()),t.set(r.field,o))}return t||null}function DN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Aa(r,i,(o,s)=>H4(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ns=class extends Va{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},_r=class extends Va{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function VM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function TN(n,e,t){let r=new Map;Se(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$4(s,a,t[i]))}return r}function CN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,B4(o,s,e))}return r}var ll=class extends Va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},uI=class extends Va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var lI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&q4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=il(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=il(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=MM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=LM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(t,r)=>DN(t,r))&&Aa(this.baseMutations,e.baseMutations,(t,r)=>DN(t,r))}},dI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Se(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return F4})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var hI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var nt,ve;function W4(n){switch(n){case F.OK:return J(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return J(15467,{code:n})}}function jM(n){if(n===void 0)return Gr("GRPC error has no .code"),F.UNKNOWN;switch(n){case nt.OK:return F.OK;case nt.CANCELLED:return F.CANCELLED;case nt.UNKNOWN:return F.UNKNOWN;case nt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case nt.INTERNAL:return F.INTERNAL;case nt.UNAVAILABLE:return F.UNAVAILABLE;case nt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case nt.NOT_FOUND:return F.NOT_FOUND;case nt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case nt.ABORTED:return F.ABORTED;case nt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case nt.DATA_LOSS:return F.DATA_LOSS;default:return J(39323,{code:n})}}(ve=nt||(nt={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var SN=null;var G4=new zr([4294967295,4294967295],0);function AN(n){let e=YN().encode(n),t=new RE;return t.update(e),new Uint8Array(t.digest())}function RN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zr([t,r],0),new zr([i,o],0)]}var pI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Jo(`Invalid padding: ${t}`);if(r<0)throw new Jo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=zr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(zr.fromNumber(r)));return i.compare(G4)===1&&(i=new zr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=AN(e),[r,i]=RN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=AN(e),[r,i]=RN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Jo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ae.min(),i,new Ge(he),Jr(),ge())}},dl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ge(),ge(),ge())}};var Ta=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},yp=class{constructor(e,t){this.targetId=e,this.De=t}},vp=class{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},_p=class{constructor(){this.ve=0,this.Ce=NN(),this.Fe=Ft.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ge(),t=ge(),r=ge();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:J(38017,{changeType:o})}}),new dl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=NN()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},mI=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Jr(),this.je=np(),this.Je=np(),this.He=new Ge(he)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(sI(o))if(r===0){let s=new Y(o.path);this.Xe(t,s,Kn.newNoDocument(s,ae.min()))}else Se(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}SN?.ct((function(h,p,m,y,C){var P,A,O,W,Q,X;let xe={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},fe=p.unchangedNames;return fe&&(xe.bloomFilter={applied:C===0,hashCount:(P=fe?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(W=(O=(A=fe?.bits)===null||A===void 0?void 0:A.bitmap)===null||O===void 0?void 0:O.length)!==null&&W!==void 0?W:0,padding:(X=(Q=fe?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&X!==void 0?X:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),xe})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Qr(r).toUint8Array()}catch(u){if(u instanceof dp)return Li("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new pI(s,i,o)}catch(u){return Li(u instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&sI(a.target)){let u=new Y(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Kn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ge();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new gp(e,t,this.He,this.ze,r);return this.ze=Jr(),this.je=np(),this.Je=np(),this.He=new Ge(he),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new _p,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new yt(he),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new yt(he),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||H("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new _p),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function np(){return new Ge(Y.comparator)}function NN(){return new Ge(Y.comparator)}var K4={asc:"ASCENDING",desc:"DESCENDING"},Q4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y4={and:"AND",or:"OR"},gI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function yI(n,e){return n.useProto3Json||qp(e)?e:{value:e}}function Ep(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function J4(n,e){return Ep(n,e.toTimestamp())}function gr(n){return Se(!!n,49232),ae.fromTimestamp((function(t){let r=Kr(t);return new ot(r.seconds,r.nanos)})(n))}function xw(n,e){return vI(n,e).canonicalString()}function vI(n,e){let t=(function(i){return new Be(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function BM(n){let e=Be.fromString(n);return Se(WM(e),10190,{key:e.toString()}),e}function _I(n,e){return xw(n.databaseId,e.path)}function OE(n,e){let t=BM(e);if(t.get(1)!==n.databaseId.projectId)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Y(HM(t))}function $M(n,e){return xw(n.databaseId,e)}function Z4(n){let e=BM(n);return e.length===4?Be.emptyPath():HM(e)}function EI(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HM(n){return Se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function MN(n,e,t){return{name:_I(n,e),fields:t.value.mapValue.fields}}function X4(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:J(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Se(h===void 0||typeof h=="string",58123),Ft.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ft.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?F.UNKNOWN:jM(l.code);return new G(h,l.message||"")})(s);t=new vp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=OE(n,r.document.name),o=gr(r.document.updateTime),s=r.document.createTime?gr(r.document.createTime):ae.min(),a=new pn({mapValue:{fields:r.document.fields}}),u=Kn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ta(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=OE(n,r.document),o=r.readTime?gr(r.readTime):ae.min(),s=Kn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ta([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=OE(n,r.document),o=r.removedTargetIds||[];t=new Ta([],o,i,null)}else{if(!("filter"in e))return J(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new fI(i,o),a=r.targetId;t=new yp(a,s)}}return t}function e3(n,e){let t;if(e instanceof ns)t={update:MN(n,e.key,e.value)};else if(e instanceof ll)t={delete:_I(n,e.key)};else if(e instanceof _r)t={update:MN(n,e.key,e.data),updateMask:u3(e.fieldMask)};else{if(!(e instanceof uI))return J(16599,{Rt:e.type});t={verify:_I(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Fa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ji)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ui)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof La)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw J(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:J4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:J(27497)})(n,e.precondition)),t}function t3(n,e){return n&&n.length>0?(Se(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?gr(i.updateTime):gr(o);return s.isEqual(ae.min())&&(s=gr(o)),new cI(s,i.transformResults||[])})(t,e))):[]}function n3(n,e){return{documents:[$M(n,e.path)]}}function r3(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=$M(n,i);let o=(function(l){if(l.length!==0)return zM(vr.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:wa(m.field),direction:s3(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=yI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function i3(n){let e=Z4(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Se(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=qM(p);return m instanceof vr&&bM(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(C){return new Pa(ba(C.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,qp(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new xa(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new xa(y,m)})(t.endAt)),N4(e,i,s,o,a,"F",u,l)}function o3(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qM(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ba(t.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ba(t.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ba(t.unaryFilter.field);return lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ba(t.unaryFilter.field);return lt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}})(n):n.fieldFilter!==void 0?(function(t){return lt.create(ba(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return vr.create(t.compositeFilter.filters.map(r=>qM(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J(1026)}})(t.compositeFilter.op))})(n):J(30097,{filter:n})}function s3(n){return K4[n]}function a3(n){return Q4[n]}function c3(n){return Y4[n]}function wa(n){return{fieldPath:n.canonicalString()}}function ba(n){return mn.fromServerFormat(n.fieldPath)}function zM(n){return n instanceof lt?(function(t){if(t.op==="=="){if(vN(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NAN"}};if(yN(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vN(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NAN"}};if(yN(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(t.field),op:a3(t.op),value:t.value}}})(n):n instanceof vr?(function(t){let r=t.getFilters().map(i=>zM(i));return r.length===1?r[0]:{compositeFilter:{op:c3(t.op),filters:r}}})(n):J(54877,{filter:n})}function u3(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var hl=class n{constructor(e,t,r,i,o=ae.min(),s=ae.min(),a=Ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var II=class{constructor(e){this.gt=e}};function l3(n){let e=i3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?aI(e,e.limit,"L"):e}var Ip=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),al(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Kr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Qr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?EM(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):_M(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):J(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Ra,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Oe(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),Y.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Ip.Ut=new Ip;var wI=class{constructor(){this.Dn=new bI}addToCollectionParentIndex(e,t){return this.Dn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(ts.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},bI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yt(Be.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(Be.comparator)).toArray()}};var Hae=new Uint8Array(0);var xN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GM=41943040,Cn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(GM,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);var fl=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var PN="LruGarbageCollector",d3=1048576;function kN([n,e],[t,r]){let i=he(n,t);return i===0?he(e,r):i}var DI=class{constructor(e){this.Tr=e,this.buffer=new yt(kN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();kN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},TI=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){H(PN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>T(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){qa(t)?H(PN,"Ignoring IndexedDB error during garbage collection: ",t):yield Ha(t)}yield this.Rr(3e5)}))}},CI=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(bw.ue);let r=new DI(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(xN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xN):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ea()<=pe.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function h3(n,e){return new CI(n,e)}var SI=class{constructor(){this.changes=new Yr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var AI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var RI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&il(r.mutation,i,Sn.empty(),ot.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){let i=Yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=el();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Jr(),s=rl(),a=(function(){return rl()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof _r)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),il(h.mutation,l,h.mutation.getFieldMask(),ot.now())):s.set(l.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new AI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=rl(),i=new Ge((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Sn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=MM();h.forEach(m=>{if(!o.has(m)){let y=LM(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):M4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(Yo()),a=sl,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:NM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Y(t)).next(r=>{let i=el();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=el();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=(function(p,m){return new ka(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Kn.newInvalidDocument(h)))});let a=el();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&il(h.mutation,l,Sn.empty(),ot.now()),Kp(t,l)&&(a=a.insert(u,l))}),a})}};var NI=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return L.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}})(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:l3(i.bundledQuery),readTime:gr(i.readTime)}})(t)),L.resolve()}};var MI=class{constructor(){this.overlays=new Ge(Y.comparator),this.kr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Yo();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=Yo(),o=t.length+1,s=new Y(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ge((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Yo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new hI(t,r));let o=this.kr.get(t);o===void 0&&(o=ge(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var xI=class{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var pl=class{constructor(){this.qr=new yt(rt.Qr),this.$r=new yt(rt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new rt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new rt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new Y(new Be([])),r=new rt(t,e),i=new rt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new Y(new Be([])),r=new rt(t,e),i=new rt(t,e+1),o=ge();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new rt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},rt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Y.comparator(e.key,t.key)||he(e.Hr,t.Hr)}static Ur(e,t){return he(e.Hr,t.Hr)||Y.comparator(e.key,t.key)}};var PI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new yt(rt.Qr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new lI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Dw:this.er-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new rt(t,0),i=new rt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yt(he);return t.forEach(i=>{let o=new rt(i,0),s=new rt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),L.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new rt(new Y(o),0),a=new yt(he);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),L.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Se(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return L.forEach(t.mutations,i=>{let o=new rt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new rt(t,0),i=this.Yr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var kI=class{constructor(e){this.ni=e,this.docs=(function(){return new Ge(Y.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=Jr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Jr(),s=t.path,a=new Y(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||d4(l4(h),r)<=0||(i.has(h.key)||Kp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){J(9500)}ri(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new OI(this)}getSize(e){return L.resolve(this.size)}},OI=class extends SI{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var FI=class{constructor(e){this.persistence=e,this.ii=new Yr(t=>Rw(t),Nw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.si=0,this.oi=new pl,this.targetCount=0,this._i=fl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),L.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new fl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.hr(t),L.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.oi.containsKey(t))}};var wp=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new bw(0),this.ci=!1,this.ci=!0,this.li=new xI,this.referenceDelegate=e(this),this.hi=new FI(this),this.indexManager=new wI,this.remoteDocumentCache=(function(i){return new kI(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new II(t),this.Ti=new NI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new PI(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){H("MemoryPersistence","Starting transaction:",e);let i=new LI(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return L.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},LI=class extends GE{constructor(e){super(),this.currentSequenceNumber=e}},VI=class n{constructor(e){this.persistence=e,this.Ai=new pl,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw J(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.mi,r=>{let i=Y.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ae.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return L.or([()=>L.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},bp=class n{constructor(e,t){this.persistence=e,this.gi=new Yr(r=>m4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=h3(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return L.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ae.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ip(e.data.value)),t}Sr(e,t,r){return L.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var jI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ge(),i=ge();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var UI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var BI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return cR()?8:f4(fn())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new UI;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ea()<=pe.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Ia(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Ea()<=pe.DEBUG&&H("QueryEngine","Query:",Ia(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ea()<=pe.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Ia(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):L.resolve())}ps(e,t){if(wN(t))return L.resolve(null);let r=pr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=aI(t,null,"F"),r=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,aI(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return wN(t)||i.isEqual(ae.min())?L.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?L.resolve(null):(Ea()<=pe.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ia(t)),this.vs(e,s,t,u4(i,sl)).next(a=>a))})}bs(e,t){let r=new yt(AM(e));return t.forEach((i,o)=>{Kp(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ea()<=pe.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ia(t)),this.gs.getDocumentsMatchingQuery(e,t,ts.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Pw="LocalStore",f3=3e8,$I=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ge(he),this.Ms=new Yr(o=>Rw(o),Nw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function p3(n,e,t,r){return new $I(n,e,t,r)}function KM(n,e){return T(this,null,function*(){let t=oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function m3(n,e){let t=oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=L.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(P=>{let A=l.docVersions.get(C);Se(A!==null,48541),P.version.compareTo(A)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function QM(n){let e=oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function g3(n,e){let t=oe(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ft.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(P,A,O){return P.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=f3?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=Jr(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(y3(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ae.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function y3(n,e,t){let r=ge(),i=ge();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Jr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):H(Pw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function v3(n,e){let t=oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Dw),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _3(n,e){let t=oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new hl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function HI(n,e,t){return T(this,null,function*(){let r=oe(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!qa(s))throw s;H(Pw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function ON(n,e,t){let r=oe(n),i=ae.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=oe(u),m=p.Ms.get(h);return m!==void 0?L.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,pr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ae.min(),t?o:ge())).next(a=>(E3(r,P4(e),a),{documents:a,qs:o})))}function E3(n,e,t){let r=n.xs.get(e)||ae.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Dp=class{constructor(){this.activeTargetIds=j4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var qI=class{constructor(){this.Fo=new Dp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Dp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var zI=class{xo(e){}shutdown(){}};var FN="ConnectivityMonitor",Tp=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){H(FN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){H(FN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var rp=null;function WI(){return rp===null?rp=(function(){return 268435456+Math.round(2147483648*Math.random())})():rp++,"0x"+rp.toString(16)}var FE="RestConnection",I3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},GI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===hp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=WI(),a=this.Go(e,t.toUriEncodedString());H(FE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Bo(l);return this.jo(e,a,u,r,h).then(p=>(H(FE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Li(FE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$a})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=I3[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var KI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Ot="WebChannelConnection",QI=class extends GI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=WI();return new Promise((a,u)=>{let l=new NE;l.setWithCredentials(!0),l.listenOnce(ME.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xu.NO_ERROR:let p=l.getResponseJson();H(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Xu.TIMEOUT:H(Ot,`RPC '${e}' ${s} timed out`),u(new G(F.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:let m=l.getStatus();if(H(Ot,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let P=(function(O){let W=O.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(W)>=0?W:F.UNKNOWN})(C.status);u(new G(P,C.message))}else u(new G(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new G(F.UNAVAILABLE,"Connection failed."));break;default:J(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{H(Ot,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);H(Ot,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=WI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kE(),a=PE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");H(Ot,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,C=new KI({Ho:A=>{y?H(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(H(Ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),H(Ot,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Yo:()=>p.close()}),P=(A,O,W)=>{A.listen(O,Q=>{try{W(Q)}catch(X){setTimeout(()=>{throw X},0)}})};return P(p,_a.EventType.OPEN,()=>{y||(H(Ot,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),P(p,_a.EventType.CLOSE,()=>{y||(y=!0,H(Ot,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(p))}),P(p,_a.EventType.ERROR,A=>{y||(y=!0,Li(Ot,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),C.__(new G(F.UNAVAILABLE,"The operation could not be completed")))}),P(p,_a.EventType.MESSAGE,A=>{var O;if(!y){let W=A.data[0];Se(!!W,16349);let Q=W,X=Q?.error||((O=Q[0])===null||O===void 0?void 0:O.error);if(X){H(Ot,`RPC '${e}' stream ${i} received error:`,X);let xe=X.status,fe=(function(E){let I=nt[E];if(I!==void 0)return jM(I)})(xe),w=X.message;fe===void 0&&(fe=F.INTERNAL,w="Unknown error status: "+xe+" with message "+X.message),y=!0,C.__(new G(fe,w)),p.close()}else H(Ot,`RPC '${e}' stream ${i} received:`,W),C.a_(W)}}),P(a,xE.STAT_EVENT,A=>{A.stat===ep.PROXY?H(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===ep.NOPROXY&&H(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function LE(){return typeof document<"u"?document:null}function Qp(n){return new gI(n,!0)}var Cp=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var LN="PersistentStream",Sp=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Cp(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return T(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return T(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return T(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new G(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>T(this,null,function*(){this.state=0,this.start()}))}G_(e){return H(LN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(H(LN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},YI=class extends Sp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=X4(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?gr(s.readTime):ae.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=EI(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=sI(u)?{documents:n3(o,u)}:{query:r3(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=UM(o,s.resumeToken);let l=yI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=Ep(o,s.snapshotVersion.toTimestamp());let l=yI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=o3(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=EI(this.serializer),t.removeTarget=e,this.k_(t)}},JI=class extends Sp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=t3(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=EI(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>e3(this.serializer,r))};this.k_(t)}};var ZI=class{},XI=class extends ZI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,vI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(F.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,vI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(F.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},ew=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Gr(t),this._a=!1):H("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var rs="RemoteStore",tw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>T(this,null,function*(){os(this)&&(H(rs,"Restarting streams for network reachability change."),yield(function(u){return T(this,null,function*(){let l=oe(u);l.Ia.add(4),yield gl(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Yp(l)})})(this))}))}),this.Aa=new ew(r,i)}};function Yp(n){return T(this,null,function*(){if(os(n))for(let e of n.da)yield e(!0)})}function gl(n){return T(this,null,function*(){for(let e of n.da)yield e(!1)})}function YM(n,e){let t=oe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Lw(t)?Fw(t):za(t).x_()&&Ow(t,e))}function kw(n,e){let t=oe(n),r=za(t);t.Ta.delete(e),r.x_()&&JM(t,e),t.Ta.size===0&&(r.x_()?r.B_():os(t)&&t.Aa.set("Unknown"))}function Ow(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}za(n).H_(e)}function JM(n,e){n.Ra.$e(e),za(n).Y_(e)}function Fw(n){n.Ra=new mI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),za(n).start(),n.Aa.aa()}function Lw(n){return os(n)&&!za(n).M_()&&n.Ta.size>0}function os(n){return oe(n).Ia.size===0}function ZM(n){n.Ra=void 0}function w3(n){return T(this,null,function*(){n.Aa.set("Online")})}function b3(n){return T(this,null,function*(){n.Ta.forEach((e,t)=>{Ow(n,e)})})}function D3(n,e){return T(this,null,function*(){ZM(n),Lw(n)?(n.Aa.la(e),Fw(n)):n.Aa.set("Unknown")})}function T3(n,e,t){return T(this,null,function*(){if(n.Aa.set("Online"),e instanceof vp&&e.state===2&&e.cause)try{yield(function(i,o){return T(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){H(rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ap(n,r)}else if(e instanceof Ta?n.Ra.Ye(e):e instanceof yp?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ae.min()))try{let r=yield QM(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Ft.EMPTY_BYTE_STRING,h.snapshotVersion)),JM(o,u);let p=new hl(h.target,u,l,h.sequenceNumber);Ow(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){H(rs,"Failed to raise snapshot:",r),yield Ap(n,r)}})}function Ap(n,e,t){return T(this,null,function*(){if(!qa(e))throw e;n.Ia.add(1),yield gl(n),n.Aa.set("Offline"),t||(t=()=>QM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>T(null,null,function*(){H(rs,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Yp(n)}))})}function XM(n,e){return e().catch(t=>Ap(n,t,e))}function Jp(n){return T(this,null,function*(){let e=oe(n),t=Bi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Dw;for(;C3(e);)try{let i=yield v3(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,S3(e,i)}catch(i){yield Ap(e,i)}ex(e)&&tx(e)})}function C3(n){return os(n)&&n.Pa.length<10}function S3(n,e){n.Pa.push(e);let t=Bi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function ex(n){return os(n)&&!Bi(n).M_()&&n.Pa.length>0}function tx(n){Bi(n).start()}function A3(n){return T(this,null,function*(){Bi(n).na()})}function R3(n){return T(this,null,function*(){let e=Bi(n);for(let t of n.Pa)e.X_(t.mutations)})}function N3(n,e,t){return T(this,null,function*(){let r=n.Pa.shift(),i=dI.from(r,e,t);yield XM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jp(n)})}function M3(n,e){return T(this,null,function*(){e&&Bi(n).Z_&&(yield(function(r,i){return T(this,null,function*(){if((function(s){return W4(s)&&s!==F.ABORTED})(i.code)){let o=r.Pa.shift();Bi(r).N_(),yield XM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Jp(r)}})})(n,e)),ex(n)&&tx(n)})}function VN(n,e){return T(this,null,function*(){let t=oe(n);t.asyncQueue.verifyOperationInProgress(),H(rs,"RemoteStore received new credentials");let r=os(t);t.Ia.add(3),yield gl(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Yp(t)})}function x3(n,e){return T(this,null,function*(){let t=oe(n);e?(t.Ia.delete(2),yield Yp(t)):e||(t.Ia.add(2),yield gl(t),t.Aa.set("Unknown"))})}function za(n){return n.Va||(n.Va=(function(t,r,i){let o=oe(t);return o.ia(),new YI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:w3.bind(null,n),e_:b3.bind(null,n),n_:D3.bind(null,n),J_:T3.bind(null,n)}),n.da.push(e=>T(null,null,function*(){e?(n.Va.N_(),Lw(n)?Fw(n):n.Aa.set("Unknown")):(yield n.Va.stop(),ZM(n))}))),n.Va}function Bi(n){return n.ma||(n.ma=(function(t,r,i){let o=oe(t);return o.ia(),new JI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:A3.bind(null,n),n_:M3.bind(null,n),ea:R3.bind(null,n),ta:N3.bind(null,n)}),n.da.push(e=>T(null,null,function*(){e?(n.ma.N_(),yield Jp(n)):(yield n.ma.stop(),n.Pa.length>0&&(H(rs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var nw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Vw(n,e){if(Gr("AsyncQueue",`${e}: ${n}`),qa(n))return new G(F.UNAVAILABLE,`${e}: ${n}`);throw n}var Rp=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Y.comparator(t.key,r.key):(t,r)=>Y.comparator(t.key,r.key),this.keyedMap=el(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Np=class{constructor(){this.fa=new Ge(Y.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):J(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},ja=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Rp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var rw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},iw=class{constructor(){this.queries=jN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=oe(t),o=i.queries;i.queries=jN(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new G(F.ABORTED,"Firestore shutting down"))}};function jN(){return new Yr(n=>SM(n),Gp)}function nx(n,e){return T(this,null,function*(){let t=oe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new rw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Vw(s,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&jw(t)})}function rx(n,e){return T(this,null,function*(){let t=oe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function P3(n,e){let t=oe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&jw(t)}function k3(n,e,t){let r=oe(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function jw(n){n.Da.forEach(e=>{e.next()})}var ow,UN;(UN=ow||(ow={})).Fa="default",UN.Cache="cache";var Mp=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ow.Cache}};var xp=class{constructor(e){this.key=e}},Pp=class{constructor(e){this.key=e}},sw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ge(),this.mutatedKeys=ge(),this.Xa=AM(e),this.eu=new Rp(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Np,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Kp(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?C!==P&&(r.track({type:3,doc:y}),A=!0):this.iu(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(a=!0)),A&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,C){let P=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{At:A})}};return P(y)-P(C)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ja(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Np,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ge(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Pp(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new xp(r))}),t}uu(e){this.Ha=e.qs,this.Za=ge();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ja.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Uw="SyncEngine",aw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},cw=class{constructor(e){this.key=e,this.lu=!1}},uw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Yr(a=>SM(a),Gp),this.Tu=new Map,this.Iu=new Set,this.du=new Ge(Y.comparator),this.Eu=new Map,this.Au=new pl,this.Ru={},this.Vu=new Map,this.mu=fl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function O3(n,e,t=!0){return T(this,null,function*(){let r=ux(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield ix(r,e,t,!0),i})}function F3(n,e){return T(this,null,function*(){let t=ux(n);yield ix(t,e,!0,!1)})}function ix(n,e,t,r){return T(this,null,function*(){let i=yield _3(n.localStore,pr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield L3(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&YM(n.remoteStore,i),a})}function L3(n,e,t,r,i){return T(this,null,function*(){n.gu=(p,m,y)=>(function(P,A,O,W){return T(this,null,function*(){let Q=A.view.nu(O);Q.Ds&&(Q=yield ON(P.localStore,A.query,!1).then(({documents:w})=>A.view.nu(w,Q)));let X=W&&W.targetChanges.get(A.targetId),xe=W&&W.targetMismatches.get(A.targetId)!=null,fe=A.view.applyChanges(Q,P.isPrimaryClient,X,xe);return $N(P,A.targetId,fe._u),fe.snapshot})})(n,p,m,y);let o=yield ON(n.localStore,e,!0),s=new sw(e,o.qs),a=s.nu(o.documents),u=dl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);$N(n,t,l._u);let h=new aw(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function V3(n,e,t){return T(this,null,function*(){let r=oe(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Gp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield HI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&kw(r.remoteStore,i.targetId),lw(r,i.targetId)}).catch(Ha))):(lw(r,i.targetId),yield HI(r.localStore,i.targetId,!0))})}function j3(n,e){return T(this,null,function*(){let t=oe(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),kw(t.remoteStore,r.targetId))})}function U3(n,e,t){return T(this,null,function*(){let r=G3(n);try{let i=yield(function(s,a){let u=oe(s),l=ot.now(),h=a.reduce((y,C)=>y.add(C.key),ge()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Jr(),P=ge();return u.Os.getEntries(y,h).next(A=>{C=A,C.forEach((O,W)=>{W.isValidDocument()||(P=P.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(A=>{p=A;let O=[];for(let W of a){let Q=z4(W,p.get(W.key).overlayedDocument);Q!=null&&O.push(new _r(W.key,Q,IM(Q.value.mapValue),mr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(A=>{m=A;let O=A.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,A.batchId,O)})}).then(()=>({batchId:m.batchId,changes:NM(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ge(he)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield yl(r,i.changes),yield Jp(r.remoteStore)}catch(i){let o=Vw(i,"Failed to persist write");t.reject(o)}})}function ox(n,e){return T(this,null,function*(){let t=oe(n);try{let r=yield g3(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Se(s.lu,14607):i.removedDocuments.size>0&&(Se(s.lu,42227),s.lu=!1))}),yield yl(t,r,e)}catch(r){yield Ha(r)}})}function BN(n,e,t){let r=oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=oe(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&jw(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function B3(n,e,t){return T(this,null,function*(){let r=oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ge(Y.comparator);s=s.insert(o,Kn.newNoDocument(o,ae.min()));let a=ge().add(o),u=new gp(ae.min(),new Map,new Ge(he),s,a);yield ox(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Bw(r)}else yield HI(r.localStore,e,!1).then(()=>lw(r,e,t)).catch(Ha)})}function $3(n,e){return T(this,null,function*(){let t=oe(n),r=e.batch.batchId;try{let i=yield m3(t.localStore,e);ax(t,r,null),sx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield yl(t,i)}catch(i){yield Ha(i)}})}function H3(n,e,t){return T(this,null,function*(){let r=oe(n);try{let i=yield(function(s,a){let u=oe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Se(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);ax(r,e,t),sx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield yl(r,i)}catch(i){yield Ha(i)}})}function sx(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function ax(n,e,t){let r=oe(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function lw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||cx(n,r)})}function cx(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(kw(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Bw(n))}function $N(n,e,t){for(let r of t)r instanceof xp?(n.Au.addReference(r.key,e),q3(n,r)):r instanceof Pp?(H(Uw,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||cx(n,r.key)):J(19791,{yu:r})}function q3(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(H(Uw,"New document in limbo: "+t),n.Iu.add(r),Bw(n))}function Bw(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new Y(Be.fromString(e)),r=n.mu.next();n.Eu.set(r,new cw(t)),n.du=n.du.insert(t,r),YM(n.remoteStore,new hl(pr(Wp(t.path)),r,"TargetPurposeLimboResolution",bw.ue))}}function yl(n,e,t){return T(this,null,function*(){let r=oe(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=jI.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return T(this,null,function*(){let h=oe(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,m=>L.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>L.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!qa(p))throw p;H(Pw,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),C=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(C);h.Fs=h.Fs.insert(m,P)}}})})(r.localStore,o))})}function z3(n,e){return T(this,null,function*(){let t=oe(n);if(!t.currentUser.isEqual(e)){H(Uw,"User change. New user:",e.toKey());let r=yield KM(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new G(F.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yl(t,r.Bs)}})}function W3(n,e){let t=oe(n),r=t.Eu.get(e);if(r&&r.lu)return ge().add(r.key);{let i=ge(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function ux(n){let e=oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B3.bind(null,e),e.hu.J_=P3.bind(null,e.eventManager),e.hu.pu=k3.bind(null,e.eventManager),e}function G3(n){let e=oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H3.bind(null,e),e}var lx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return T(this,null,function*(){this.serializer=Qp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return p3(this.persistence,new BI,t.initialUser,this.serializer)}Du(t){return new wp(VI.Vi,this.serializer)}bu(t){return new qI}terminate(){return T(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),dw=class extends lx{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Se(this.persistence.referenceDelegate instanceof bp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new TI(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new wp(r=>bp.Vi(r,t),this.serializer)}};var K3=(()=>{class n{initialize(t,r){return T(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>BN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=z3.bind(null,this.syncEngine),yield x3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new iw})()}createDatastore(t){let r=Qp(t.databaseInfo.databaseId),i=(function(s){return new QI(s)})(t.databaseInfo);return(function(s,a,u,l){return new XI(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new tw(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>BN(this.syncEngine,r,0),(function(){return Tp.C()?new Tp:new zI})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new uw(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var t,r;yield(function(o){return T(this,null,function*(){let s=oe(o);H(rs,"RemoteStore shutting down."),s.Ia.add(5),yield gl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var kp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var $i="FirestoreClient",hw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=ol.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>T(this,null,function*(){H($i,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(H($i,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Vw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function VE(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),H($i,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>T(null,null,function*(){r.isEqual(i)||(yield KM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Li("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{H("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Li("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function HN(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Q3(n);H($i,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>VN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>VN(e.remoteStore,i)),n._onlineComponents=e})}function Q3(n){return T(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){H($i,"Using user provided OfflineComponentProvider");try{yield VE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Li("Error using user provided cache. Falling back to memory cache: "+t),yield VE(n,new lx)}}else H($i,"Using default OfflineComponentProvider"),yield VE(n,new dw(void 0));return n._offlineComponents})}function dx(n){return T(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(H($i,"Using user provided OnlineComponentProvider"),yield HN(n,n._uninitializedComponentsProvider._online)):(H($i,"Using default OnlineComponentProvider"),yield HN(n,new K3))),n._onlineComponents})}function Y3(n){return dx(n).then(e=>e.syncEngine)}function fw(n){return T(this,null,function*(){let e=yield dx(n),t=e.eventManager;return t.onListen=O3.bind(null,e.syncEngine),t.onUnlisten=V3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=F3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=j3.bind(null,e.syncEngine),t})}function J3(n,e,t={}){let r=new hr;return n.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return(function(o,s,a,u,l){let h=new kp({next:m=>{h.Ou(),s.enqueueAndForget(()=>rx(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new G(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new G(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Mp(Wp(a.path),h,{includeMetadataChanges:!0,ka:!0});return nx(o,p)})(yield fw(n),n.asyncQueue,e,t,r)})),r.promise}function hx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var qN=new Map;var fx="firestore.googleapis.com",zN=!0,Op=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fx,this.ssl=zN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:zN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d3)throw new G(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ua=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Op({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Op(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jE;switch(r.type){case"firstParty":return new HE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=qN.get(t);r&&(H("ComponentProvider","Removing Datastore"),qN.delete(t),r.terminate())})(this),Promise.resolve()}};function px(n,e,t,r={}){var i;n=An(n,Ua);let o=Bo(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(q_(`https://${u}`),z_("Firestore",!0)),s.host!==fx&&s.host!==u&&Li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!$r(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=gt.MOCK_USER;else{h=rR(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new G(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new gt(m)}n._authCredentials=new UE(new ap(h,p))}}var Fp=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},vt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ml(t,n._jsonSchema))return new n(e,r||null,new Y(Be.fromString(t.referencePath)))}};vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:it("string",vt._jsonSchemaVersion),referencePath:it("string")};var Pi=class n extends Fp{constructor(e,t,r){super(e,t,Wp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new Y(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function mx(n,e,...t){if(n=kt(n),JN("collection","path",e),n instanceof Ua){let r=Be.fromString(e,...t);return lN(r),new Pi(n,null,r)}{if(!(n instanceof vt||n instanceof Pi))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Be.fromString(e,...t));return lN(r),new Pi(n.firestore,null,r)}}function $w(n,e,...t){if(n=kt(n),arguments.length===1&&(e=ol.newId()),JN("doc","path",e),n instanceof Ua){let r=Be.fromString(e,...t);return uN(r),new vt(n,null,new Y(r))}{if(!(n instanceof vt||n instanceof Pi))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Be.fromString(e,...t));return uN(r),new vt(n.firestore,n instanceof Pi?n.converter:null,new Y(r))}}var WN="AsyncQueue",Lp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Cp(this,"async_queue_retry"),this.oc=()=>{let r=LE();r&&H(WN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=LE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=LE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new hr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return T(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!qa(e))throw e;H(WN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Gr("INTERNAL UNHANDLED ERROR: ",GN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=nw.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&J(47125,{hc:GN(this.tc)})}verifyOperationInProgress(){}Pc(){return T(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function GN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function KN(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Er=class extends Ua{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Lp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lp(e),this._firestoreClient=void 0,yield e}})}};function gx(n,e){let t=typeof n=="object"?n:ga(),r=typeof n=="string"?n:e||hp,i=Of(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=tR("firestore");o&&px(i,...o)}return i}function Hw(n){if(n._terminated)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Z3(n),n._firestoreClient}function Z3(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new KE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new hw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var ki=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ft.fromBase64String(e))}catch(t){throw new G(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ml(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ki._jsonSchemaVersion="firestore/bytes/1.0",ki._jsonSchema={type:it("string",ki._jsonSchemaVersion),bytes:it("string")};var Ba=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new G(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var is=class{constructor(e){this._methodName=e}};var Oi=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(ml(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:it("string",Oi._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};var Fi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ml(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new G(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:it("string",Fi._jsonSchemaVersion),vectorValues:it("object")};var X3=/^__.*__$/,pw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,t,this.fieldTransforms):new ns(e,this.data,t,this.fieldTransforms)}},Vp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _r(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function yx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ec:n})}}var jp=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Bp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(yx(this.Ec)&&X3.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},mw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qp(e)}Dc(e,t,r,i=!1){return new jp({Ec:e,methodName:t,bc:r,path:mn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function qw(n){let e=n._freezeSettings(),t=Qp(n._databaseId);return new mw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vx(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);zw("Data must be an object, but it was:",s,r);let a=Ex(r,s),u,l;if(o.merge)u=new Sn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=vw(e,p,t);if(!s.contains(m))throw new G(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);wx(h,m)||h.push(m)}u=new Sn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new pw(new pn(a),u,l)}var Up=class n extends is{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function _x(n,e,t){return new jp({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var gw=class n extends is{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=_x(this,e,!0),r=this.vc.map(o=>Wa(o,t)),i=new ji(r);return new mp(e.path,i)}isEqual(e){return e instanceof n&&$r(this.vc,e.vc)}},yw=class n extends is{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=_x(this,e,!0),r=this.vc.map(o=>Wa(o,t)),i=new Ui(r);return new mp(e.path,i)}isEqual(e){return e instanceof n&&$r(this.vc,e.vc)}};function eq(n,e,t,r){let i=n.Dc(1,e,t);zw("Data must be an object, but it was:",i,r);let o=[],s=pn.empty();Hi(r,(u,l)=>{let h=Ww(e,u,t);l=kt(l);let p=i.gc(h);if(l instanceof Up)o.push(h);else{let m=Wa(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Sn(o);return new Vp(s,a,i.fieldTransforms)}function tq(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[vw(e,r,t)],u=[i];if(o.length%2!=0)throw new G(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(vw(e,o[m])),u.push(o[m+1]);let l=[],h=pn.empty();for(let m=a.length-1;m>=0;--m)if(!wx(l,a[m])){let y=a[m],C=u[m];C=kt(C);let P=s.gc(y);if(C instanceof Up)l.push(y);else{let A=Wa(C,P);A!=null&&(l.push(y),h.set(y,A))}}let p=new Sn(l);return new Vp(h,p,s.fieldTransforms)}function Wa(n,e){if(Ix(n=kt(n)))return zw("Unsupported field value:",e,n),Ex(n,e);if(n instanceof is)return(function(r,i){if(!yx(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Wa(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ot.fromDate(r);return{timestampValue:Ep(i.serializer,o)}}if(r instanceof ot){let o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ep(i.serializer,o)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ki)return{bytesValue:UM(i.serializer,r._byteString)};if(r instanceof vt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fi)return(function(s,a){return{mapValue:{fields:{[Cw]:{stringValue:Sw},[Ra]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Mw(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${ww(r)}`)})(n,e)}function Ex(n,e){let t={};return fM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(n,(r,i)=>{let o=Wa(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Ix(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ot||n instanceof Oi||n instanceof ki||n instanceof vt||n instanceof is||n instanceof Fi)}function zw(n,e,t){if(!Ix(t)||!ZN(t)){let r=ww(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function vw(n,e,t){if((e=kt(e))instanceof Ba)return e._internalPath;if(typeof e=="string")return Ww(n,e);throw Bp("Field path arguments must be of type string or ",n,!1,void 0,t)}var nq=new RegExp("[~\\*/\\[\\]]");function Ww(n,e,t){if(e.search(nq)>=0)throw Bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ba(...e.split("."))._internalPath}catch{throw Bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G(F.INVALID_ARGUMENT,a+n+u)}function wx(n,e){return n.some(t=>t.isEqual(e))}var $p=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new _w(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(bx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},_w=class extends $p{data(){return super.data()}};function bx(n,e){return typeof e=="string"?Ww(n,e):e instanceof Ba?e._internalPath:e._delegate._internalPath}function rq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new G(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ew=class{convertValue(e,t="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Hi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ra].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new Fi(o)}convertGeoPoint(e){return new Oi(Oe(e.latitude),Oe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=zp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){let t=Kr(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Be.fromString(e);Se(WM(r),9688,{name:e});let i=new fp(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(t)||Gr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Dx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Zo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xo=class n extends $p{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(bx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xo._jsonSchema={type:it("string",Xo._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};var Ca=class extends Xo{data(e={}){return super.data(e)}},Sa=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Zo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ca(this._firestore,this._userDataWriter,r.key,r,new Zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new G(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:iq(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ol.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function iq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:n})}}function Tx(n){n=An(n,vt);let e=An(n.firestore,Er);return J3(Hw(e),n._key).then(t=>Nx(e,n,t))}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:it("string",Sa._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};var Hp=class extends Ew{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}};function Cx(n,e,t){n=An(n,vt);let r=An(n.firestore,Er),i=Dx(n.converter,e,t);return Zp(r,[vx(qw(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,mr.none())])}function Sx(n,e,t,...r){n=An(n,vt);let i=An(n.firestore,Er),o=qw(i),s;return s=typeof(e=kt(e))=="string"||e instanceof Ba?tq(o,"updateDoc",n._key,e,t,r):eq(o,"updateDoc",n._key,e),Zp(i,[s.toMutation(n._key,mr.exists(!0))])}function Ax(n){return Zp(An(n.firestore,Er),[new ll(n._key,mr.none())])}function Rx(n,e){let t=An(n.firestore,Er),r=$w(n),i=Dx(n.converter,e);return Zp(t,[vx(qw(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function Gw(n,...e){var t,r,i;n=kt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||KN(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(KN(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof vt)l=An(n.firestore,Er),h=Wp(n._key.path),u={next:p=>{e[s]&&e[s](Nx(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=An(n,Fp);l=An(p.firestore,Er),h=p._query;let m=new Hp(l);u={next:y=>{e[s]&&e[s](new Sa(l,m,p,y))},error:e[s+1],complete:e[s+2]},rq(n._query)}return(function(m,y,C,P){let A=new kp(P),O=new Mp(y,A,C);return m.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return nx(yield fw(m),O)})),()=>{A.Ou(),m.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return rx(yield fw(m),O)}))}})(Hw(l),h,a,u)}function Zp(n,e){return(function(r,i){let o=new hr;return r.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return U3(yield Y3(r),i,o)})),o.promise})(Hw(n),e)}function Nx(n,e,t){let r=t.docs.get(e._key),i=new Hp(n);return new Xo(n,i,e._key,r,new Zo(t.hasPendingWrites,t.fromCache),e.converter)}function Mx(...n){return new gw("arrayUnion",n)}function xx(...n){return new yw("arrayRemove",n)}(function(e,t=!0){(function(i){$a=i})(ma),Wn(new Wt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Er(new BE(r.getProvider("auth-internal")),new qE(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fp(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xe(oN,sN,e),Xe(oN,sN,"esm2017")})();var Xp=function(){return Xp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Xp.apply(this,arguments)};var aq={includeMetadataChanges:!1};function Kw(n,e){return e===void 0&&(e=aq),new re(function(t){var r=Gw(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Px(n){return Kw(n,{includeMetadataChanges:!0})}function kx(n,e){return e===void 0&&(e={}),Px(n).pipe(te(function(t){return Qw(t,e)}))}function Qw(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Xp(Xp({},r),(t={},t[e.idField]=n.id,t))}function Ox(n){return Kw(n,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function Fx(n,e){return e===void 0&&(e={}),Ox(n).pipe(te(function(t){return t.map(function(r){return Qw(r,e)})}))}var ss=class{constructor(e){return e}},Lx="firestore",Yw=class{constructor(){return va(Lx)}};var Jw=new q("angularfire2.firestore-instances");function cq(n,e){let t=Vf(Lx,n,e);return t&&new ss(t)}function uq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ss(r)}}var lq={provide:Yw,deps:[[new kr,Jw]]},dq={provide:ss,useFactory:cq,deps:[[new kr,Jw],Wo]};function Vx(n,...e){return Xe("angularfire",qo.full,"fst"),Pn([dq,lq,{provide:Jw,useFactory:uq(n),multi:!0,deps:[Re,ht,zo,Wu,[new kr,Zf],[new kr,Uf],...e]}])}var Zw=Gt(Fx,!0);var em=Gt(kx,!0);var Xw=Gt(Rx,!0,2);var Ga=Gt(mx,!0,2);var eb=Gt(Ax,!0,2);var Rn=Gt($w,!0,2);var tb=Gt(Tx,!0);var jx=Gt(gx,!0);var Ux=Gt(Cx,!0,2);var Ka=Gt(Sx,!0,2);var Bx={production:!1,djangoApiUrl:"http://localhost:8000/production/api",firebaseConfig:{apiKey:"AIzaSyDlwHecJQhPwG1TTxz41BsHZO8ty3UQhfI",authDomain:"vedois-notification-76623.firebaseapp.com",projectId:"vedois-notification-76623",storageBucket:"vedois-notification-76623.appspot.com",messagingSenderId:"345739138863",appId:"1:345739138863:web:f24acbdb175f80796ef3da",measurementId:"G-B9XHPXV1JV"}};var qi=class n{constructor(e){this.http=e}apiUrl=`${window.location.protocol}//${window.location.hostname}:8000/production/api`;getHeaders(){return new or({"Content-Type":"application/json"})}getStopReasons(){return this.http.get(`${this.apiUrl}/stop-reason/`,{headers:this.getHeaders()})}getMachines(){return this.http.get(`${this.apiUrl}/resource/`,{headers:this.getHeaders()})}getCompany(){return this.http.get(`${this.apiUrl}/company/`,{headers:this.getHeaders()})}static \u0275fac=function(t){return new(t||n)(K(na))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var en=class n{constructor(e){this.firestore=e}collectionName="companies";notificationRulesSubcollection="notification_rules";usersList="users";monthSystemUse="month_system_use";getNotificationRules(e){console.log("get itens from firestore for uid:",e);let t=Ga(this.firestore,`${this.collectionName}/${e}/${this.notificationRulesSubcollection}`);return Zw(t,{idField:"id"})}createNotificationRule(e,t){return T(this,null,function*(){let r=Ga(this.firestore,`${this.collectionName}/${e}/${this.notificationRulesSubcollection}`),i=Z(V({},t),{createdAt:new Date,updatedAt:new Date});return yield Xw(r,i)})}updateNotificationRule(e,t,r){return T(this,null,function*(){let i=Rn(this.firestore,`${this.collectionName}/${e}/${this.notificationRulesSubcollection}/${t}`),o=Z(V({},r),{updatedAt:new Date});return yield Ka(i,o)})}getCompany(e){let t=Rn(this.firestore,`${this.collectionName}/${e}`);return em(t,{idField:"id"})}carregarUsuariosComDados(e){return T(this,null,function*(){let t=[];for(let r of e){let i=yield tb(r);if(i.exists()){let o=i.data();t.push({id:r.id,name:o.name,email:o.email,activ:o.activ,token:o.token})}}return t})}getMonthSystemUse(e,t){let r=Ga(this.firestore,`${this.collectionName}/${e}/${this.monthSystemUse}`),i=Rn(r,t);return em(i)}deleteUser(e,t){return T(this,null,function*(){let r=Rn(this.firestore,`${this.usersList}/${t}`);yield eb(r);let i=Rn(this.firestore,`${this.collectionName}/${e}`),o=Rn(this.firestore,`${this.usersList}/${t}`);yield Ka(i,{users:xx(o)})})}upsertUserToCompany(e,t){return T(this,null,function*(){if(!t.id)throw new Error("O campo id do usu\xE1rio \xE9 obrigat\xF3rio.");try{let r=Rn(this.firestore,`${this.usersList}/${t.id}`),i=Rn(this.firestore,`${this.collectionName}/${e}`);(yield tb(r)).exists()?yield Ka(r,Z(V({},t),{updatedAt:new Date})):yield Ux(r,Z(V({},t),{createdAt:new Date,updatedAt:new Date})),yield Ka(i,{users:Mx(r)})}catch(r){throw console.error("Erro ao criar/atualizar usu\xE1rio ou adicionar refer\xEAncia \xE0 empresa:",r),r}})}getItems(){let e=Ga(this.firestore,this.collectionName);return Zw(e,{idField:"id"})}getItem(e){let t=Rn(this.firestore,`${this.collectionName}/${e}`);return em(t,{idField:"id"})}createItem(e){return T(this,null,function*(){let t=Ga(this.firestore,this.collectionName),r=Z(V({},e),{createdAt:new Date,updatedAt:new Date});return yield Xw(t,r)})}updateItem(e,t){return T(this,null,function*(){let r=Rn(this.firestore,`${this.collectionName}/${e}`),i=Z(V({},t),{updatedAt:new Date});return yield Ka(r,i)})}deleteItem(e,t){return T(this,null,function*(){let r=Rn(this.firestore,`${this.collectionName}/${e}/${this.notificationRulesSubcollection}/${t}/`);return yield eb(r)})}static \u0275fac=function(t){return new(t||n)(K(ss))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function fq(n,e){n&1&&(N(0,"div",9),x(1,"Carregando..."),M())}function pq(n,e){if(n&1&&(N(0,"div",10),x(1),M()),n&2){let t=ke();$(),Ie(t.error)}}function mq(n,e){if(n&1){let t=Ht();N(0,"tr")(1,"td"),x(2),M(),N(3,"td"),x(4),M(),N(5,"td"),x(6),rr(7,"currency"),M(),N(8,"td"),x(9),M(),N(10,"td")(11,"button",12),ce("click",function(){let i=Ye(t).$implicit,o=ke(2);return Je(o.editItem(i))}),x(12,"Editar"),M(),N(13,"button",13),ce("click",function(){let i=Ye(t).$implicit,o=ke(2);return Je(o.deleteItemConfirm(i))}),x(14,"Deletar"),M()()()}if(n&2){let t=e.$implicit;$(2),Ie(t.nome),$(2),Ie(t.descricao),$(2),Ie(ir(7,4,t.preco,"BRL")),$(3),Ie(t.categoria)}}function gq(n,e){if(n&1&&(N(0,"table")(1,"thead")(2,"tr")(3,"th"),x(4,"Nome"),M(),N(5,"th"),x(6,"Descri\xE7\xE3o"),M(),N(7,"th"),x(8,"Pre\xE7o"),M(),N(9,"th"),x(10,"Categoria"),M(),N(11,"th"),x(12,"A\xE7\xF5es"),M()()(),N(13,"tbody"),We(14,mq,15,7,"tr",11),M()()),n&2){let t=ke();$(14),we("ngForOf",t.items)}}function yq(n,e){n&1&&(N(0,"div",14),x(1," Nenhum item encontrado "),M())}var tm=class n{constructor(e,t){this.djangoService=e;this.firestoreService=t}items=[];loading=!1;error="";dataSource="django";ngOnInit(){this.loadItems()}setDataSource(e){this.dataSource=e,this.loadItems()}loadItems(){this.loading=!0,this.error="",this.dataSource==="django"||this.firestoreService.getItems().subscribe({next:e=>{this.items=e,this.loading=!1},error:e=>{this.error="Erro ao carregar itens do Firestore: "+e.message,this.loading=!1}})}showCreateForm(){console.log("Abrir formul\xE1rio de cria\xE7\xE3o")}editItem(e){console.log("Editar item:",e)}deleteItemConfirm(e){confirm(`Deseja realmente deletar "${e.nome}"?`)&&this.deleteItem(e)}deleteItem(e){e.id&&this.dataSource}static \u0275fac=function(t){return new(t||n)(U(qi),U(en))};static \u0275cmp=Ze({type:n,selectors:[["app-item-list"]],decls:15,vars:8,consts:[[1,"container"],[1,"source-selector"],[3,"click"],[1,"actions"],[1,"btn-primary",3,"click"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],[4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"loading"],[1,"error"],[4,"ngFor","ngForOf"],[1,"btn-edit",3,"click"],[1,"btn-delete",3,"click"],[1,"empty-state"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"h2"),x(2,"Gerenciamento de Itens"),M(),N(3,"div",1)(4,"button",2),ce("click",function(){return r.setDataSource("django")}),x(5," Django API "),M(),N(6,"button",2),ce("click",function(){return r.setDataSource("firestore")}),x(7," Firebase Firestore "),M()(),N(8,"div",3)(9,"button",4),ce("click",function(){return r.showCreateForm()}),x(10,"+ Novo Item"),M()(),We(11,fq,2,0,"div",5)(12,pq,2,1,"div",6)(13,gq,15,1,"table",7)(14,yq,2,0,"div",8),M()),t&2&&($(4),Ci("active",r.dataSource==="django"),$(2),Ci("active",r.dataSource==="firestore"),$(5),we("ngIf",r.loading),$(),we("ngIf",r.error),$(),we("ngIf",!r.loading&&r.items.length>0),$(),we("ngIf",!r.loading&&r.items.length===0))},dependencies:[Pt,Dn,Hn,n_],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.source-selector[_ngcontent-%COMP%]{margin:20px 0}.source-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin-right:10px;border:2px solid #007bff;background:#fff;cursor:pointer}.source-selector[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#007bff;color:#fff}.actions[_ngcontent-%COMP%]{margin:20px 0}.btn-primary[_ngcontent-%COMP%]{padding:10px 20px;background:#28a745;color:#fff;border:none;cursor:pointer}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:700}.btn-edit[_ngcontent-%COMP%]{padding:5px 10px;background:#007bff;color:#fff;border:none;cursor:pointer;margin-right:5px}.btn-delete[_ngcontent-%COMP%]{padding:5px 10px;background:#dc3545;color:#fff;border:none;cursor:pointer}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{padding:20px;text-align:center}.error[_ngcontent-%COMP%]{color:#dc3545}"]})};var Jx=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(U(Or),U(nr))};static \u0275dir=Ne({type:n})}return n})(),Tl=(()=>{class n extends Jx{static \u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})();static \u0275dir=Ne({type:n,features:[bt]})}return n})(),cs=new q(""),vq={provide:cs,useExisting:Mt(()=>Cl),multi:!0},Cl=(()=>{class n extends Tl{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&ce("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[un([vq]),bt]})}return n})(),_q={provide:cs,useExisting:Mt(()=>Wi),multi:!0};function Eq(){let n=bn()?bn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Iq=new q(""),Wi=(()=>{class n extends Jx{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Eq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(U(Or),U(nr),U(Iq,8))};static \u0275dir=Ne({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ce("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[un([_q]),bt]})}return n})();function sb(n){return n==null||ab(n)===0}function ab(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var ec=new q(""),hm=new q(""),wq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ir=class{static min(e){return Zx(e)}static max(e){return bq(e)}static required(e){return Xx(e)}static requiredTrue(e){return Dq(e)}static email(e){return Tq(e)}static minLength(e){return Cq(e)}static maxLength(e){return Sq(e)}static pattern(e){return Aq(e)}static nullValidator(e){return rm()}static compose(e){return oP(e)}static composeAsync(e){return sP(e)}};function Zx(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function bq(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Xx(n){return sb(n.value)?{required:!0}:null}function Dq(n){return n.value===!0?null:{required:!0}}function Tq(n){return sb(n.value)||wq.test(n.value)?null:{email:!0}}function Cq(n){return e=>{let t=e.value?.length??ab(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Sq(n){return e=>{let t=e.value?.length??ab(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Aq(n){if(!n)return rm;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(sb(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function rm(n){return null}function eP(n){return n!=null}function tP(n){return Di(n)?Fe(n):n}function nP(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function rP(n,e){return e.map(t=>t(n))}function Rq(n){return!n.validate}function iP(n){return n.map(e=>Rq(e)?e:t=>e.validate(t))}function oP(n){if(!n)return null;let e=n.filter(eP);return e.length==0?null:function(t){return nP(rP(t,e))}}function cb(n){return n!=null?oP(iP(n)):null}function sP(n){if(!n)return null;let e=n.filter(eP);return e.length==0?null:function(t){let r=rP(t,e).map(tP);return bg(r).pipe(te(nP))}}function ub(n){return n!=null?sP(iP(n)):null}function $x(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function aP(n){return n._rawValidators}function cP(n){return n._rawAsyncValidators}function rb(n){return n?Array.isArray(n)?n:[n]:[]}function im(n,e){return Array.isArray(n)?n.includes(e):n===e}function Hx(n,e){let t=rb(e);return rb(n).forEach(i=>{im(t,i)||t.push(i)}),t}function qx(n,e){return rb(e).filter(t=>!im(n,t))}var om=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ub(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Zr=class extends om{name;get formDirective(){return null}get path(){return null}},as=class extends om{_parent=null;name=null;valueAccessor=null},sm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Nq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Mue=Z(V({},Nq),{"[class.ng-submitted]":"isSubmitted"}),tc=(()=>{class n extends sm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(U(as,2))};static \u0275dir=Ne({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ci("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[bt]})}return n})(),nc=(()=>{class n extends sm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(U(Zr,10))};static \u0275dir=Ne({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ci("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[bt]})}return n})();var vl="VALID",nm="INVALID",Ya="PENDING",_l="DISABLED",zi=class{},am=class extends zi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Il=class extends zi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},wl=class extends zi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ja=class extends zi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},cm=class extends zi{source;constructor(e){super(),this.source=e}},Dl=class extends zi{source;constructor(e){super(),this.source=e}};function lb(n){return(fm(n)?n.validators:n)||null}function Mq(n){return Array.isArray(n)?cb(n):n||null}function db(n,e){return(fm(e)?e.asyncValidators:n)||null}function xq(n){return Array.isArray(n)?ub(n):n||null}function fm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function uP(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[t])throw new B(1001,"")}function lP(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new B(1002,"")})}var Za=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ct(this.statusReactive)}set status(e){ct(()=>this.statusReactive.set(e))}_status=Ao(()=>this.statusReactive());statusReactive=an(void 0);get valid(){return this.status===vl}get invalid(){return this.status===nm}get pending(){return this.status==Ya}get disabled(){return this.status===_l}get enabled(){return this.status!==_l}errors;get pristine(){return ct(this.pristineReactive)}set pristine(e){ct(()=>this.pristineReactive.set(e))}_pristine=Ao(()=>this.pristineReactive());pristineReactive=an(!0);get dirty(){return!this.pristine}get touched(){return ct(this.touchedReactive)}set touched(e){ct(()=>this.touchedReactive.set(e))}_touched=Ao(()=>this.touchedReactive());touchedReactive=an(!1);get untouched(){return!this.touched}_events=new et;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Hx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Hx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qx(e,this._rawAsyncValidators))}hasValidator(e){return im(this._rawValidators,e)}hasAsyncValidator(e){return im(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Z(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new wl(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new wl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Z(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Il(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Il(!0,r))}markAsPending(e={}){this.status=Ya;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ja(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Z(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_l,this.errors=null,this._forEachChild(i=>{i.disable(Z(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new am(this.value,r)),this._events.next(new Ja(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=vl,this._forEachChild(r=>{r.enable(Z(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Z(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vl||this.status===Ya)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new am(this.value,t)),this._events.next(new Ja(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Z(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_l:vl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ya,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=tP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ja(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?_l:this.errors?nm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ya)?Ya:this._anyControlsHaveStatus(nm)?nm:vl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Il(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new wl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Mq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xq(this._rawAsyncValidators)}},Xa=class extends Za{constructor(e,t,r){super(lb(t),db(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){lP(this,!0,e),Object.keys(e).forEach(r=>{uP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Dl(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ib=class extends Xa{};var Sl=new q("",{providedIn:"root",factory:()=>pm}),pm="always";function dP(n,e){return[...e.path,n]}function um(n,e,t=pm){hb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),kq(n,e),Fq(n,e),Oq(n,e),Pq(n,e)}function zx(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),dm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function lm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Pq(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function hb(n,e){let t=aP(n);e.validator!==null?n.setValidators($x(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=cP(n);e.asyncValidator!==null?n.setAsyncValidators($x(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();lm(e._rawValidators,i),lm(e._rawAsyncValidators,i)}function dm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=aP(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=cP(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return lm(e._rawValidators,r),lm(e._rawAsyncValidators,r),t}function kq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&hP(n,e)})}function Oq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&hP(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function hP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Fq(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function fP(n,e){n==null,hb(n,e)}function Lq(n,e){return dm(n,e)}function pP(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Vq(n){return Object.getPrototypeOf(n.constructor)===Tl}function mP(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function gP(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Wi?t=o:Vq(o)?r=o:i=o}),i||r||t||null}function jq(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Uq={provide:Zr,useExisting:Mt(()=>fb)},El=Promise.resolve(),fb=(()=>{class n extends Zr{callSetDisabledState;get submitted(){return ct(this.submittedReactive)}_submitted=Ao(()=>this.submittedReactive());submittedReactive=an(!1);_directives=new Set;form;ngSubmit=new ze;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Xa({},cb(t),ub(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){El.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),um(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){El.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){El.then(()=>{let r=this._findContainer(t.path),i=new Xa({});fP(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){El.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){El.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),mP(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new cm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(U(ec,10),U(hm,10),U(Sl,8))};static \u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[un([Uq]),bt]})}return n})();function Wx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Gx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var bl=class extends Za{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(lb(t),db(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Gx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Dl(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Wx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Wx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Gx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Bq=n=>n instanceof bl;var $q={provide:as,useExisting:Mt(()=>pb)},Kx=Promise.resolve(),pb=(()=>{class n extends as{_changeDetectorRef;callSetDisabledState;control=new bl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ze;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gP(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),pP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){um(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Kx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ro(r);Kx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?dP(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(U(Zr,9),U(ec,10),U(hm,10),U(cs,10),U($n,8),U(Sl,8))};static \u0275dir=Ne({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[un([$q]),bt,jn]})}return n})();var rc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),Hq={provide:cs,useExisting:Mt(()=>mb),multi:!0},mb=(()=>{class n extends Tl{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ce("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[un([Hq]),bt]})}return n})();var yP=new q("");var qq={provide:Zr,useExisting:Mt(()=>Al)},Al=(()=>{class n extends Zr{callSetDisabledState;get submitted(){return ct(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ao(()=>this._submittedReactive());_submittedReactive=an(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ze;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return um(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zx(t.control||null,t,!1),jq(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),mP(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new cm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(zx(r||null,t),Bq(i)&&(um(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);fP(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Lq(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hb(this.form,this),this._oldForm&&dm(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(U(ec,10),U(hm,10),U(Sl,8))};static \u0275dir=Ne({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[un([qq]),bt,jn]})}return n})();var zq={provide:as,useExisting:Mt(()=>Rl)},Rl=(()=>{class n extends as{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gP(this,o)}ngOnChanges(t){this._added||this._setUpControl(),pP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return dP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(U(Zr,13),U(ec,10),U(hm,10),U(cs,10),U(yP,8))};static \u0275dir=Ne({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[un([zq]),bt,jn]})}return n})();var Wq={provide:cs,useExisting:Mt(()=>mm),multi:!0};function vP(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Gq(n){return n.split(":")[0]}var mm=(()=>{class n extends Tl{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=k(Fr).injector;destroyRef=k(Ln);cdr=k($n);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Lh({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=vP(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Gq(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ce("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[un([Wq]),bt]})}return n})(),_P=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(vP(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(U(nr),U(Or),U(mm,9))};static \u0275dir=Ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Kq={provide:cs,useExisting:Mt(()=>EP),multi:!0};function Qx(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Qq(n){return n.split(":")[0]}var EP=(()=>{class n extends Tl{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Qq(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ce("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[un([Kq]),bt]})}return n})(),IP=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Qx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Qx(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(U(nr),U(Or),U(EP,9))};static \u0275dir=Ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function Yq(n){return typeof n=="number"?n:parseFloat(n)}var wP=(()=>{class n{_validator=rm;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):rm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,features:[jn]})}return n})();var Jq={provide:ec,useExisting:Mt(()=>gb),multi:!0},gb=(()=>{class n extends wP{min;inputName="min";normalizeInput=t=>Yq(t);createValidator=t=>Zx(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Co("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[un([Jq]),bt]})}return n})(),Zq={provide:ec,useExisting:Mt(()=>yb),multi:!0};var yb=(()=>{class n extends wP{required;inputName="required";normalizeInput=Ro;createValidator=t=>Xx;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wn(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Co("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[un([Zq]),bt]})}return n})();var bP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=gn({})}return n})(),ob=class extends Za{constructor(e,t,r){super(lb(t),db(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){lP(this,!1,e),e.forEach((r,i)=>{uP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Dl(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Yx(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var gm=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return Yx(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Xa(i,o)}record(t,r=null){let i=this._reduceControls(t);return new ib(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Yx(r)?o=r:(o.validators=r,o.asyncValidators=i),new bl(t,Z(V({},o),{nonNullable:!0}))):new bl(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new ob(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof bl)return t;if(t instanceof Za)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var DP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Sl,useValue:t.callSetDisabledState??pm}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=gn({imports:[bP]})}return n})(),ym=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:yP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Sl,useValue:t.callSetDisabledState??pm}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=gn({imports:[bP]})}return n})();var vm=class n{constructor(e,t){this.http=e;this.router=t}apiUrl=`${window.location.protocol}//${window.location.hostname}:8000/login/`;login(e){return this.http.get(this.apiUrl+`?username=${e.username}&password=${e.password}`)}logout(){localStorage.removeItem("token"),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(K(na),K(ut))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function ez(n,e){if(n&1&&(N(0,"div",7),x(1),M()),n&2){let t=ke();$(),Ie(t.error)}}var _m=class n{constructor(e,t,r,i){this.fb=e;this.authService=t;this.router=r;this.djangoApi=i;this.loginForm=this.fb.group({username:["",Ir.required],password:["",Ir.required]})}loginForm;error="";onSubmit(){this.loginForm.valid&&this.authService.login(this.loginForm.value).subscribe({next:e=>{if(e.response!="ok"){alert(e.message);return}console.log(e),console.log(e.token),localStorage.setItem("token",e.token),localStorage.setItem("username",e.data.username),this.djangoApi.getCompany().subscribe({next:t=>{if(t.length>0){var r=t[0];console.log(r),localStorage.setItem("uid_server",r.uid_server),this.router.navigate(["/dashboard"])}else this.error="Nenhuma empresa encontrada"},error:()=>{this.error="Erro ao buscar empresa"}})},error:()=>{this.error="Usu\xE1rio ou senha inv\xE1lidos"}})}static \u0275fac=function(t){return new(t||n)(U(gm),U(vm),U(ut),U(qi))};static \u0275cmp=Ze({type:n,selectors:[["app-login"]],decls:12,vars:2,consts:[[1,"max-w-sm","mx-auto","mt-20","bg-white","p-8","rounded-lg","shadow-lg","flex","flex-col","gap-4",3,"ngSubmit","formGroup"],[1,"text-2xl","font-bold","text-center","mb-4","text-gray-800"],[1,"text-gray-700"],["formControlName","username","type","text",1,"border","border-gray-300","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["formControlName","password","type","password",1,"border","border-gray-300","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["type","submit",1,"bg-blue-600","text-white","font-semibold","py-2","rounded","hover:bg-blue-700","transition"],["class","text-red-500 text-center mt-2",4,"ngIf"],[1,"text-red-500","text-center","mt-2"]],template:function(t,r){t&1&&(N(0,"form",0),ce("ngSubmit",function(){return r.onSubmit()}),N(1,"h2",1),x(2,"Login"),M(),N(3,"label",2),x(4,"Usu\xE1rio:"),M(),$t(5,"input",3),N(6,"label",2),x(7,"Senha:"),M(),$t(8,"input",4),N(9,"button",5),x(10,"Entrar"),M(),We(11,ez,2,1,"div",6),M()),t&2&&(we("formGroup",r.loginForm),$(11),we("ngIf",r.error))},dependencies:[ym,rc,Wi,tc,nc,Al,Rl,Pt,Hn],encapsulation:2})};var wr=class n{constructor(e){this.router=e}canActivate(){return!0}static \u0275fac=function(t){return new(t||n)(K(ut))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var tz=Math.pow(10,8)*24*60*60*1e3,Bue=-tz,Em=6048e5,TP=864e5;var nz=3600;var CP=nz*24,$ue=CP*7,rz=CP*365.2425,iz=rz/12,Hue=iz*3,_b=Symbol.for("constructDateFrom");function tn(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&_b in n?n[_b](e):n instanceof Date?new n.constructor(e):new Date(e)}function Ke(n,e){return tn(e||n,n)}var oz={};function Gi(){return oz}function Xr(n,e){let t=Gi(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Ke(n,e?.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function us(n,e){return Xr(n,Z(V({},e),{weekStartsOn:1}))}function Im(n,e){let t=Ke(n,e?.in),r=t.getFullYear(),i=tn(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let o=us(i),s=tn(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);let a=us(s);return t.getTime()>=o.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Eb(n){let e=Ke(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function SP(n,...e){let t=tn.bind(null,n||e.find(r=>typeof r=="object"));return e.map(t)}function Ib(n,e){let t=Ke(n,e?.in);return t.setHours(0,0,0,0),t}function AP(n,e,t){let[r,i]=SP(t?.in,n,e),o=Ib(r),s=Ib(i),a=+o-Eb(o),u=+s-Eb(s);return Math.round((a-u)/TP)}function RP(n,e){let t=Im(n,e),r=tn(e?.in||n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),us(r)}function NP(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function MP(n){return!(!NP(n)&&typeof n!="number"||isNaN(+Ke(n)))}function xP(n,e){let t=Ke(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}var sz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PP=(n,e,t)=>{let r,i=sz[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function wm(n){return(e={})=>{let t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}var az={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kP={date:wm({formats:az,defaultWidth:"full"}),time:wm({formats:cz,defaultWidth:"full"}),dateTime:wm({formats:uz,defaultWidth:"full"})};var lz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},OP=(n,e,t,r)=>lz[n];function ic(n){return(e,t)=>{let r=t?.context?String(t.context):"standalone",i;if(r==="formatting"&&n.formattingValues){let s=n.defaultFormattingWidth||n.defaultWidth,a=t?.width?String(t.width):s;i=n.formattingValues[a]||n.formattingValues[s]}else{let s=n.defaultWidth,a=t?.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[s]}let o=n.argumentCallback?n.argumentCallback(e):e;return i[o]}}var dz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yz=(n,e)=>{let t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},FP={ordinalNumber:yz,era:ic({values:dz,defaultWidth:"wide"}),quarter:ic({values:hz,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ic({values:fz,defaultWidth:"wide"}),day:ic({values:pz,defaultWidth:"wide"}),dayPeriod:ic({values:mz,defaultWidth:"wide",formattingValues:gz,defaultFormattingWidth:"wide"})};function oc(n){return(e,t={})=>{let r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;let s=o[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(a)?_z(a,p=>p.test(s)):vz(a,p=>p.test(s)),l;l=n.valueCallback?n.valueCallback(u):u,l=t.valueCallback?t.valueCallback(l):l;let h=e.slice(s.length);return{value:l,rest:h}}}function vz(n,e){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function _z(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function LP(n){return(e,t={})=>{let r=e.match(n.matchPattern);if(!r)return null;let i=r[0],o=e.match(n.parsePattern);if(!o)return null;let s=n.valueCallback?n.valueCallback(o[0]):o[0];s=t.valueCallback?t.valueCallback(s):s;let a=e.slice(i.length);return{value:s,rest:a}}}var Ez=/^(\d+)(th|st|nd|rd)?/i,Iz=/\d+/i,wz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bz={any:[/^b/i,/^(a|c)/i]},Dz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Tz={any:[/1/i,/2/i,/3/i,/4/i]},Cz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Az={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VP={ordinalNumber:LP({matchPattern:Ez,parsePattern:Iz,valueCallback:n=>parseInt(n,10)}),era:oc({matchPatterns:wz,defaultMatchWidth:"wide",parsePatterns:bz,defaultParseWidth:"any"}),quarter:oc({matchPatterns:Dz,defaultMatchWidth:"wide",parsePatterns:Tz,defaultParseWidth:"any",valueCallback:n=>n+1}),month:oc({matchPatterns:Cz,defaultMatchWidth:"wide",parsePatterns:Sz,defaultParseWidth:"any"}),day:oc({matchPatterns:Az,defaultMatchWidth:"wide",parsePatterns:Rz,defaultParseWidth:"any"}),dayPeriod:oc({matchPatterns:Nz,defaultMatchWidth:"any",parsePatterns:Mz,defaultParseWidth:"any"})};var wb={code:"en-US",formatDistance:PP,formatLong:kP,formatRelative:OP,localize:FP,match:VP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jP(n,e){let t=Ke(n,e?.in);return AP(t,xP(t))+1}function UP(n,e){let t=Ke(n,e?.in),r=+us(t)-+RP(t);return Math.round(r/Em)+1}function bm(n,e){let t=Ke(n,e?.in),r=t.getFullYear(),i=Gi(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=tn(e?.in||n,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);let a=Xr(s,e),u=tn(e?.in||n,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);let l=Xr(u,e);return+t>=+a?r+1:+t>=+l?r:r-1}function BP(n,e){let t=Gi(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=bm(n,e),o=tn(e?.in||n,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Xr(o,e)}function $P(n,e){let t=Ke(n,e?.in),r=+Xr(t,e)-+BP(t,e);return Math.round(r/Em)+1}function Te(n,e){let t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}var ei={y(n,e){let t=n.getFullYear(),r=t>0?t:1-t;return Te(e==="yy"?r%100:r,e.length)},M(n,e){let t=n.getMonth();return e==="M"?String(t+1):Te(t+1,2)},d(n,e){return Te(n.getDate(),e.length)},a(n,e){let t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Te(n.getHours()%12||12,e.length)},H(n,e){return Te(n.getHours(),e.length)},m(n,e){return Te(n.getMinutes(),e.length)},s(n,e){return Te(n.getSeconds(),e.length)},S(n,e){let t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Te(i,e.length)}};var sc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bb={G:function(n,e,t){let r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){let r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return ei.y(n,e)},Y:function(n,e,t,r){let i=bm(n,r),o=i>0?i:1-i;if(e==="YY"){let s=o%100;return Te(s,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Te(o,e.length)},R:function(n,e){let t=Im(n);return Te(t,e.length)},u:function(n,e){let t=n.getFullYear();return Te(t,e.length)},Q:function(n,e,t){let r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Te(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){let r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Te(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){let r=n.getMonth();switch(e){case"M":case"MM":return ei.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){let r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Te(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){let i=$P(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Te(i,e.length)},I:function(n,e,t){let r=UP(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Te(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ei.d(n,e)},D:function(n,e,t){let r=jP(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Te(r,e.length)},E:function(n,e,t){let r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){let i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Te(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){let i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Te(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){let r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Te(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){let i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){let r=n.getHours(),i;switch(r===12?i=sc.noon:r===0?i=sc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){let r=n.getHours(),i;switch(r>=17?i=sc.evening:r>=12?i=sc.afternoon:r>=4?i=sc.morning:i=sc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ei.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ei.H(n,e)},K:function(n,e,t){let r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Te(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Te(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ei.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ei.s(n,e)},S:function(n,e){return ei.S(n,e)},X:function(n,e,t){let r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return qP(r);case"XXXX":case"XX":return ls(r);case"XXXXX":case"XXX":default:return ls(r,":")}},x:function(n,e,t){let r=n.getTimezoneOffset();switch(e){case"x":return qP(r);case"xxxx":case"xx":return ls(r);case"xxxxx":case"xxx":default:return ls(r,":")}},O:function(n,e,t){let r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+HP(r,":");case"OOOO":default:return"GMT"+ls(r,":")}},z:function(n,e,t){let r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+HP(r,":");case"zzzz":default:return"GMT"+ls(r,":")}},t:function(n,e,t){let r=Math.trunc(+n/1e3);return Te(r,e.length)},T:function(n,e,t){return Te(+n,e.length)}};function HP(n,e=""){let t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),o=r%60;return o===0?t+String(i):t+String(i)+e+Te(o,2)}function qP(n,e){return n%60===0?(n>0?"-":"+")+Te(Math.abs(n)/60,2):ls(n,e)}function ls(n,e=""){let t=n>0?"-":"+",r=Math.abs(n),i=Te(Math.trunc(r/60),2),o=Te(r%60,2);return t+i+e+o}var zP=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},WP=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xz=(n,e)=>{let t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return zP(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",zP(r,e)).replace("{{time}}",WP(i,e))},GP={p:WP,P:xz};var Pz=/^D+$/,kz=/^Y+$/,Oz=["D","DD","YY","YYYY"];function KP(n){return Pz.test(n)}function QP(n){return kz.test(n)}function YP(n,e,t){let r=Fz(n,e,t);if(console.warn(r),Oz.includes(n))throw new RangeError(r)}function Fz(n,e,t){let r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Lz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jz=/^'([^]*?)'?$/,Uz=/''/g,Bz=/[a-zA-Z]/;function JP(n,e,t){let r=Gi(),i=t?.locale??r.locale??wb,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Ke(n,t?.in);if(!MP(a))throw new RangeError("Invalid time value");let u=e.match(Vz).map(h=>{let p=h[0];if(p==="p"||p==="P"){let m=GP[p];return m(h,i.formatLong)}return h}).join("").match(Lz).map(h=>{if(h==="''")return{isToken:!1,value:"'"};let p=h[0];if(p==="'")return{isToken:!1,value:$z(h)};if(bb[p])return{isToken:!0,value:h};if(p.match(Bz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(u=i.localize.preprocessor(a,u));let l={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return u.map(h=>{if(!h.isToken)return h.value;let p=h.value;(!t?.useAdditionalWeekYearTokens&&QP(p)||!t?.useAdditionalDayOfYearTokens&&KP(p))&&YP(p,e,String(n));let m=bb[p[0]];return m(a,p,i.localize,l)}).join("")}function $z(n){let e=n.match(jz);return e?e[1].replace(Uz,"'"):n}var Dm=class n{constructor(e){this.firestoreService=e}user=localStorage.getItem("username")||"--";licencaMensagens={total:0,utilizado:0,restante:0};licencaUsuarios={total:0,utilizado:0,restante:0};ngOnInit(){var e=localStorage.getItem("uid_server");let t=JP(new Date,"yyyy-MM");this.firestoreService.getCompany(e).subscribe(r=>{this.licencaMensagens.total=r.notification_per_month||0,this.firestoreService.getMonthSystemUse(e,t).subscribe(i=>{this.licencaMensagens.utilizado=i?.notification_count||0,this.licencaMensagens.restante=this.licencaMensagens.total-this.licencaMensagens.utilizado}),this.licencaUsuarios.utilizado=r.users.length||0,this.licencaUsuarios.total=r.total_users_available||0,this.licencaUsuarios.restante=this.licencaUsuarios.total-this.licencaUsuarios.utilizado})}getPorcentagemUsoMensagens(){return this.licencaMensagens.total===0?0:Math.min(100,Math.round(this.licencaMensagens.utilizado/this.licencaMensagens.total*100))}getPorcentagemUsoUsuarios(){return this.licencaUsuarios.total===0?0:Math.min(100,Math.round(this.licencaUsuarios.utilizado/this.licencaUsuarios.total*100))}logout(){localStorage.removeItem("token")}static \u0275fac=function(t){return new(t||n)(U(en))};static \u0275cmp=Ze({type:n,selectors:[["app-dashboard"]],decls:63,vars:28,consts:[[1,"flex","min-h-screen","bg-gray-100"],[1,"flex-1","p-10"],[1,"flex","items-center","gap-4","mb-8"],[1,"bg-white","rounded-full","w-16","h-16","flex","items-center","justify-center","shadow"],[1,"text-2xl","font-bold","text-blue-700"],[1,"text-xl","font-semibold","text-gray-800"],[1,"bg-white","p-6","rounded-lg","shadow","text-center","mb-6"],[1,"text-lg","font-bold","text-gray-700"],[1,"grid","grid-cols-4","gap-4","mt-4"],[1,"block","text-gray-500"],[1,"text-xl","font-bold","text-blue-700"],[1,"text-xl","font-bold","text-green-700"],[1,"text-xl","font-bold","text-red-700"],[1,"text-xl","font-bold","text-purple-700"]],template:function(t,r){t&1&&(Ve(0,"div",0)(1,"main",1)(2,"div",2)(3,"div",3)(4,"span",4),x(5),je()(),Ve(6,"div")(7,"h3",5),x(8),je()()(),Ve(9,"div",6)(10,"h4",7),x(11,"Licen\xE7a de Mensagens"),je(),Ve(12,"div",8)(13,"div")(14,"span",9),x(15,"Total (Mensal)"),je(),Ve(16,"span",10),x(17),rr(18,"number"),je()(),Ve(19,"div")(20,"span",9),x(21,"Utilizado"),je(),Ve(22,"span",11),x(23),rr(24,"number"),je()(),Ve(25,"div")(26,"span",9),x(27,"Restante"),je(),Ve(28,"span",12),x(29),rr(30,"number"),je()(),Ve(31,"div")(32,"span",9),x(33,"Porcentagem de Uso"),je(),Ve(34,"span",13),x(35),je()()()(),Ve(36,"div",6)(37,"h4",7),x(38,"Licen\xE7a de Usu\xE1rio"),je(),Ve(39,"div",8)(40,"div")(41,"span",9),x(42,"Total"),je(),Ve(43,"span",10),x(44),rr(45,"number"),je()(),Ve(46,"div")(47,"span",9),x(48,"Utilizado"),je(),Ve(49,"span",11),x(50),rr(51,"number"),je()(),Ve(52,"div")(53,"span",9),x(54,"Restante"),je(),Ve(55,"span",12),x(56),rr(57,"number"),je()(),Ve(58,"div")(59,"span",9),x(60,"Porcentagem de Uso"),je(),Ve(61,"span",13),x(62),je()()()()()()),t&2&&($(5),Ie(r.user[0]),$(3),Ie(r.user),$(9),Ie(ir(18,10,r.licencaMensagens.total,"1.0-0")),$(6),Ie(ir(24,13,r.licencaMensagens.utilizado,"1.0-0")),$(6),Ie(ir(30,16,r.licencaMensagens.restante,"1.0-0")),$(6),qt(" ",r.getPorcentagemUsoMensagens(),"% "),$(9),Ie(ir(45,19,r.licencaUsuarios.total,"1.0-0")),$(6),Ie(ir(51,22,r.licencaUsuarios.utilizado,"1.0-0")),$(6),Ie(ir(57,25,r.licencaUsuarios.restante,"1.0-0")),$(6),qt(" ",r.getPorcentagemUsoUsuarios(),"% "))},dependencies:[t_],encapsulation:2})};function Hz(n,e){if(n&1){let t=Ht();N(0,"li",5)(1,"span",6),x(2),M(),N(3,"div",7)(4,"strong",8),x(5),M(),N(6,"p",9),x(7),M()(),N(8,"button",10),ce("click",function(){let i=Ye(t).$implicit,o=ke();return Je(o.abrirCadastro(i.link))}),x(9," Abrir "),M()()}if(n&2){let t=e.$implicit;$(2),Ie(t.icone),$(3),Ie(t.nome),$(2),Ie(t.descricao)}}var Tm=class n{constructor(e){this.router=e}cadastros=[{nome:"Cadastro de Usu\xE1rios",descricao:"Gerencie os usu\xE1rios do sistema.",icone:"person",link:"/user-list"},{nome:"Cadastros de Regras de Notifica\xE7\xE3o",descricao:"Configure regras para notifica\xE7\xF5es autom\xE1ticas.",icone:"notifications",link:"/notification-rules-list"}];abrirCadastro(e){console.log(e),this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)(U(ut))};static \u0275cmp=Ze({type:n,selectors:[["app-register-list"]],decls:6,vars:1,consts:[[1,"min-h-screen","w-full","bg-white","flex","flex-col","items-center","justify-start","p-8"],[1,"w-full","max-w-3xl","flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","mb-8","text-blue-700","w-full","text-left"],[1,"w-full","max-w-3xl"],["class","flex items-center py-6 border-b last:border-b-0",4,"ngFor","ngForOf"],[1,"flex","items-center","py-6","border-b","last:border-b-0"],[1,"material-icons","text-blue-600","text-4xl","mr-6"],[1,"flex-1"],[1,"block","text-xl","text-gray-800"],[1,"text-gray-500","text-base"],[1,"ml-6","bg-blue-600","hover:bg-blue-700","text-white","px-6","py-3","rounded","transition",3,"click"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),x(3,"Lista de Cadastros"),M()(),N(4,"ul",3),We(5,Hz,10,3,"li",4),M()()),t&2&&($(5),we("ngForOf",r.cadastros))},dependencies:[Pt,Dn],encapsulation:2})};function qz(n,e){if(n&1){let t=Ht();jh(0),N(1,"button",7),ce("click",function(){Ye(t);let i=ke();return Je(i.adicionarUsuario())}),x(2," Adicionar Usu\xE1rio "),M(),Uh()}}function zz(n,e){n&1&&(N(0,"div",8)(1,"button",9),x(2," Adicionar Usu\xE1rio "),M(),N(3,"span",10),x(4,"N\xE3o h\xE1 mais licen\xE7as para usu\xE1rio"),M()())}function Wz(n,e){if(n&1){let t=Ht();N(0,"li",11)(1,"div",12)(2,"strong",13),x(3),M(),N(4,"p",14),x(5),M(),N(6,"p",14),x(7),M()(),N(8,"button",15),ce("click",function(){let i=Ye(t).$implicit,o=ke();return Je(o.editarUsuario(i))}),x(9," Editar "),M(),N(10,"button",16),ce("click",function(){let i=Ye(t).$implicit,o=ke();return Je(o.excluirUsuario(i))}),x(11," Excluir "),M()()}if(n&2){let t=e.$implicit;$(3),Ie(t.name),$(2),Ie(t.email),$(2),Ie(t.id)}}var Cm=class n{constructor(e,t,r){this.firestoreService=e;this.cdr=t;this.router=r}usuarios=[];licencaUsuarios={total:0,utilizado:0,restante:0};ngOnInit(){return T(this,null,function*(){let e=localStorage.getItem("uid_server");this.firestoreService.getCompany(e).subscribe(t=>{this.licencaUsuarios.utilizado=t.users.length||0,this.licencaUsuarios.total=t.total_users_available||0,this.licencaUsuarios.restante=this.licencaUsuarios.total-this.licencaUsuarios.utilizado,this.firestoreService.carregarUsuariosComDados(t.users).then(r=>{this.usuarios=r,this.cdr.markForCheck()})})})}editarUsuario(e){this.router.navigate(["user-form"],{state:{user:e}})}excluirUsuario(e){if(confirm(`Tem certeza que deseja excluir o usu\xE1rio ${e.name}?`)){let t=localStorage.getItem("uid_server");this.firestoreService.deleteUser(t,e.id).then(()=>{this.usuarios=this.usuarios.filter(r=>r.id!==e.id),this.cdr.markForCheck(),alert(`Usu\xE1rio ${e.name} exclu\xEDdo com sucesso!`)})}}adicionarUsuario(){this.router.navigate(["user-form"])}static \u0275fac=function(t){return new(t||n)(U(en),U($n),U(ut))};static \u0275cmp=Ze({type:n,selectors:[["app-user-list"]],decls:9,vars:3,consts:[["semLicenca",""],[1,"min-h-screen","w-full","bg-white","flex","flex-col","items-center","justify-start","p-8"],[1,"w-full","max-w-3xl","flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-blue-700"],[4,"ngIf","ngIfElse"],[1,"w-full","max-w-3xl"],["class","flex items-center py-6 border-b last:border-b-0",4,"ngFor","ngForOf"],[1,"bg-green-600","hover:bg-green-700","text-white","px-6","py-3","rounded","transition",3,"click"],[1,"flex","flex-col","items-start"],["disabled","",1,"bg-gray-400","text-white","px-6","py-3","rounded","transition","cursor-not-allowed"],[1,"mt-2","text-red-600","font-semibold"],[1,"flex","items-center","py-6","border-b","last:border-b-0"],[1,"flex-1"],[1,"block","text-xl","text-gray-800"],[1,"text-gray-500","text-base"],[1,"ml-4","bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded","transition",3,"click"],[1,"ml-2","bg-red-600","hover:bg-red-700","text-white","px-4","py-2","rounded","transition",3,"click"]],template:function(t,r){if(t&1&&(N(0,"div",1)(1,"div",2)(2,"h2",3),x(3,"Usu\xE1rios Cadastrados"),M(),We(4,qz,3,0,"ng-container",4)(5,zz,5,0,"ng-template",null,0,Lv),M(),N(7,"ul",5),We(8,Wz,12,3,"li",6),M()()),t&2){let i=Ov(6);$(4),we("ngIf",r.licencaUsuarios.restante>0)("ngIfElse",i),$(4),we("ngForOf",r.usuarios)}},dependencies:[Pt,Dn,Hn],encapsulation:2})};function Gz(n,e){if(n&1){let t=Ht();N(0,"li",6)(1,"div",7)(2,"strong",8),x(3),M(),N(4,"p",9),x(5),M(),N(6,"p",9),x(7),M()(),N(8,"button",10),ce("click",function(){let i=Ye(t).$implicit,o=ke();return Je(o.duplicateRegra(i))}),x(9," Duplicar "),M(),N(10,"button",11),ce("click",function(){let i=Ye(t).$implicit,o=ke();return Je(o.editarRegra(i))}),x(11," Editar "),M(),N(12,"button",12),ce("click",function(){let i=Ye(t).$implicit,o=ke();return Je(o.excluirRegra(i))}),x(13," Excluir "),M()()}if(n&2){let t=e.$implicit;$(3),Ie(t.identification),$(2),qt("Quantidade de M\xE1quinas/Motivos: ",(t.reason__codes==null?null:t.reason__codes.length)||0),$(2),qt("Quantidade de Usu\xE1rios: ",(t.users==null?null:t.users.length)||0)}}var Sm=class n{constructor(e,t){this.router=e;this.firestoreService=t}regras=[];ngOnInit(){let e=localStorage.getItem("uid_server");console.log(e),e&&this.firestoreService.getNotificationRules(e).subscribe({next:t=>{this.regras=t},error:()=>{alert("Erro ao carregar regras de notifica\xE7\xE3o")}})}editarRegra(e){this.router.navigate(["notification-rule-form"],{state:{regra:e}})}excluirRegra(e){this.firestoreService.deleteItem(localStorage.getItem("uid_server"),e.id).then(()=>{this.regras=this.regras.filter(t=>t.id!==e.id),console.log("Regra exclu\xEDda com sucesso")},t=>{alert("Erro ao excluir regra:"+t)})}duplicateRegra(e){e.id="",this.router.navigate(["notification-rule-form"],{state:{regra:e}})}adicionarRegra(){this.router.navigate(["notification-rule-form"])}static \u0275fac=function(t){return new(t||n)(U(ut),U(en))};static \u0275cmp=Ze({type:n,selectors:[["app-notification-rules"]],decls:8,vars:1,consts:[[1,"min-h-screen","w-full","bg-white","flex","flex-col","items-center","justify-start","p-8"],[1,"w-full","max-w-3xl","flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-blue-700","w-full","text-left"],[1,"bg-green-600","hover:bg-green-700","text-white","px-6","py-3","rounded","transition",3,"click"],[1,"w-full","max-w-3xl"],["class","flex items-center py-6 border-b last:border-b-0",4,"ngFor","ngForOf"],[1,"flex","items-center","py-6","border-b","last:border-b-0"],[1,"flex-1"],[1,"block","text-xl","text-gray-800"],[1,"text-gray-500","text-base"],[1,"ml-4","bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded","transition",3,"click"],[1,"ml-4","bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded","transition",3,"click"],[1,"ml-2","bg-red-600","hover:bg-red-700","text-white","px-4","py-2","rounded","transition",3,"click"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),x(3,"Regras de Notifica\xE7\xE3o"),M(),N(4,"button",3),ce("click",function(){return r.adicionarRegra()}),x(5," Adicionar Regra "),M()(),N(6,"ul",4),We(7,Gz,14,3,"li",5),M()()),t&2&&($(7),we("ngForOf",r.regras))},dependencies:[Pt,Dn],encapsulation:2})};function Kz(n,e){if(n&1&&(N(0,"option",40),x(1),M()),n&2){let t=e.$implicit;we("value",t.code),$(),So("[",t.code,"] - ",t.description)}}function Qz(n,e){if(n&1&&(N(0,"option",40),x(1),M()),n&2){let t=e.$implicit;we("value",t.code),$(),So("[",t.code,"] - ",t.description)}}function Yz(n,e){if(n&1&&(N(0,"div",41),x(1),M()),n&2){let t=ke();$(),Ie(t.mensagemErro)}}function Jz(n,e){if(n&1){let t=Ht();N(0,"li",42)(1,"div",43)(2,"span",44),x(3),M(),N(4,"span",45),x(5,"/"),M(),N(6,"span",44),x(7),M()(),N(8,"button",46),ce("click",function(){let i=Ye(t).$implicit,o=ke();return Je(o.removerPar(i))}),x(9," Remover "),M()()}if(n&2){let t=e.$implicit;$(3),So("[",t.machineCode,"] - ",t.machineDescription),$(4),So("[",t.stopReasonCode,"] - ",t.stopReasonDescription)}}function Zz(n,e){if(n&1){let t=Ht();N(0,"li",47)(1,"input",48),Xt("ngModelChange",function(i){let o=Ye(t).$implicit;return cn(o.selecionado,i)||(o.selecionado=i),Je(i)}),ce("change",function(){let i=Ye(t).$implicit,o=ke();return Je(o.atualizarUsuariosSelecionados(i))}),M(),N(2,"span",49),x(3),M(),N(4,"span",50),x(5),M()()}if(n&2){let t=e.$implicit;$(),we("name",Fv("usuario_",t.id))("value",t.id),Zt("ngModel",t.selecionado),$(2),Ie(t.name),$(2),qt("[",t.email,"]")}}var Am=class n{constructor(e,t,r){this.djangoApi=e;this.firestoreService=t;this.cdr=r}regra={id:"",identification:"",activ:!0,init:!0,end:!0,notify_after:0,notify_every:0,type:"stop",priority:"high",reason__codes:[],users:[]};stopReasons=[];machines=[];users=[];selectedStopReason="";selectedMachine="";usuariosSelecionados=[];paresStopResource=[];mensagemErro="";ngOnInit(){this.djangoApi.getStopReasons().subscribe(e=>{this.stopReasons=[{code:"",description:"Sem motivo"},...e],this.djangoApi.getMachines().subscribe(t=>{this.machines=t;let r=localStorage.getItem("uid_server");this.firestoreService.getCompany(r).subscribe(i=>{this.firestoreService.carregarUsuariosComDados(i.users).then(o=>{this.users=o,this.cdr.markForCheck();let s=history.state.regra;s?(this.regra=s,this.usuariosSelecionados=s.users||[],this.users.forEach(a=>{a.selecionado=this.usuariosSelecionados.includes(a.id)}),this.paresStopResource=(s.reason__codes||[]).map(a=>{let[u,l]=a.split("--"),h=this.machines.find(m=>m.code===u),p=this.stopReasons.find(m=>m.code===l);return{machineCode:u,stopReasonCode:l,machineDescription:h?.description||"",stopReasonDescription:p?.description||""}})):this.regra={id:"",identification:"",activ:!0,init:!0,end:!0,notify_after:0,notify_every:0,type:"stop",priority:"high",reason__codes:[],users:[]}})})})})}adicionarPar(){let e=this.stopReasons.find(i=>i.code===this.selectedStopReason),t=this.machines.find(i=>i.code===this.selectedMachine);if(!e||!t){this.mensagemErro="Raz\xE3o de parada ou m\xE1quina inv\xE1lida.";return}if(this.paresStopResource.some(i=>i.stopReasonCode===e.code&&i.machineCode===t.code)){this.mensagemErro="Esta combina\xE7\xE3o j\xE1 foi adicionada.";return}this.paresStopResource.push({stopReasonCode:e.code,stopReasonDescription:e.description,machineCode:t.code,machineDescription:t.description}),this.mensagemErro="",this.cdr.markForCheck()}removerPar(e){this.paresStopResource=this.paresStopResource.filter(t=>t!==e)}atualizarUsuariosSelecionados(e){e.selecionado?this.usuariosSelecionados.push(e.id):this.usuariosSelecionados=this.usuariosSelecionados.filter(t=>t!==e.id)}salvarRegra(e=!1){this.regra.reason__codes=this.paresStopResource.map(r=>`${r.machineCode}--${r.stopReasonCode}`),this.regra.users=this.usuariosSelecionados;let t=localStorage.getItem("uid_server");this.regra.id?this.firestoreService.updateNotificationRule(t,this.regra.id,this.regra).then(()=>{console.log("Regra atualizada com sucesso!"),e&&window.history.back()}).catch(r=>{console.error("Erro ao atualizar a regra:",r)}):this.firestoreService.createNotificationRule(t,this.regra).then(r=>{console.log(r),console.log("Regra salva com sucesso!"),e&&window.history.back()}).catch(r=>{console.error("Erro ao salvar a regra:",r)})}static \u0275fac=function(t){return new(t||n)(U(qi),U(en),U($n))};static \u0275cmp=Ze({type:n,selectors:[["app-notification-rule-form"]],inputs:{regra:"regra"},decls:83,vars:16,consts:[[1,"min-h-screen","w-full","bg-gray-50","flex","flex-col","items-center","justify-start","p-8"],[1,"text-3xl","font-bold","text-blue-700","mb-8","text-left","w-full","border-b","pb-4"],[1,"flex","flex-col","gap-8","w-full",3,"ngSubmit"],[1,"grid","grid-cols-2","gap-6","w-full"],[1,"flex","flex-col"],[1,"mb-2","text-gray-700","font-semibold"],["name","nome","required","",1,"border","rounded","px-3","py-2","focus:ring","focus:border-blue-500",3,"ngModelChange","ngModel"],["name","priority","required","",1,"border","rounded","px-3","py-2","focus:ring","focus:border-blue-500",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","high"],["value","normal"],["type","number","name","notificarCada","min","0",1,"border","rounded","px-3","py-2","focus:ring","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","number","name","notificarApos","min","0",1,"border","rounded","px-3","py-2","focus:ring","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"flex","flex-col","col-span-2"],["name","tipo","required","",1,"border","rounded","px-3","py-2","focus:ring","focus:border-blue-500",3,"ngModelChange","ngModel"],["value","stop"],["value","moldlife"],[1,"bg-gray-100","rounded-lg","p-6","mb-4"],[1,"text-lg","font-bold","text-gray-700","mb-4"],[1,"flex","flex-row","gap-4","items-end","mb-6","w-full"],[1,"flex","flex-col","flex-1"],[1,"mb-1","text-gray-700"],["name","selectedMachine",1,"border","rounded","px-3","py-2","focus:ring","focus:border-blue-500",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","selectedStopReason",1,"border","rounded","px-3","py-2","focus:ring","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","button",1,"bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded","transition","shadow",3,"click"],["class","text-red-600 mb-2",4,"ngIf"],[1,"mb-2","w-full","max-h-[500px]","overflow-y-auto"],["class","flex flex-row justify-between items-center mb-2 bg-white rounded px-3 py-2 shadow-sm",4,"ngFor","ngForOf"],[1,"bg-gray-100","rounded-lg","p-6","mt-4"],[1,"mb-2","w-full","max-h-[300px]","overflow-y-auto"],["class","flex items-center mb-2",4,"ngFor","ngForOf"],[1,"flex","flex-row","gap-8","justify-center","w-full","bg-gray-100","rounded-lg","p-4"],[1,"flex","items-center","gap-2"],["type","checkbox","name","ativo",3,"ngModelChange","ngModel"],["type","checkbox","name","notificarInicio",3,"ngModelChange","ngModel"],["type","checkbox","name","notificarFim",3,"ngModelChange","ngModel"],[1,"flex","flex-row","justify-end","w-full","mt-4","gap-4"],["type","submit",1,"bg-blue-600","hover:bg-blue-700","text-white","px-6","py-3","rounded","transition","shadow",3,"click"],["type","button",1,"bg-green-600","hover:bg-green-700","text-white","px-6","py-3","rounded","transition","shadow",3,"click"],[3,"value"],[1,"text-red-600","mb-2"],[1,"flex","flex-row","justify-between","items-center","mb-2","bg-white","rounded","px-3","py-2","shadow-sm"],[1,"flex","flex-row","items-center","justify-center","flex-1","gap-4"],[1,"font-medium","text-gray-800","text-center"],[1,"text-gray-500"],["type","button",1,"ml-4","text-red-600","hover:underline","text-sm",3,"click"],[1,"flex","items-center","mb-2"],["type","checkbox",1,"mr-2",3,"ngModelChange","change","value","ngModel","name"],[1,"font-medium","text-gray-800"],[1,"text-gray-500","ml-2"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"h2",1),x(2),M(),N(3,"form",2),ce("ngSubmit",function(){return r.salvarRegra()}),N(4,"div",3)(5,"label",4)(6,"span",5),x(7,"Nome"),M(),N(8,"input",6),Xt("ngModelChange",function(o){return cn(r.regra.identification,o)||(r.regra.identification=o),o}),M()(),N(9,"label",4)(10,"span",5),x(11,"Prioridade"),M(),N(12,"select",7),Xt("ngModelChange",function(o){return cn(r.regra.priority,o)||(r.regra.priority=o),o}),N(13,"option",8),x(14,"Selecione..."),M(),N(15,"option",9),x(16,"Alta"),M(),N(17,"option",10),x(18,"Normal"),M()()(),N(19,"label",4)(20,"span",5),x(21,"Notificar a cada (minutos)"),M(),N(22,"input",11),Xt("ngModelChange",function(o){return cn(r.regra.notify_every,o)||(r.regra.notify_every=o),o}),M()(),N(23,"label",4)(24,"span",5),x(25,"Notificar ap\xF3s (minutos)"),M(),N(26,"input",12),Xt("ngModelChange",function(o){return cn(r.regra.notify_after,o)||(r.regra.notify_after=o),o}),M()(),N(27,"label",13)(28,"span",5),x(29,"Tipo de Notifica\xE7\xE3o"),M(),N(30,"select",14),Xt("ngModelChange",function(o){return cn(r.regra.type,o)||(r.regra.type=o),o}),N(31,"option",8),x(32,"Selecione..."),M(),N(33,"option",15),x(34,"Parada"),M(),N(35,"option",16),x(36,"Manuten\xE7\xE3o"),M()()()(),N(37,"div",17)(38,"h3",18),x(39,"Adicionar Par M\xE1quina / Motivo de Parada"),M(),N(40,"div",19)(41,"label",20)(42,"span",21),x(43,"M\xE1quina"),M(),N(44,"select",22),Xt("ngModelChange",function(o){return cn(r.selectedMachine,o)||(r.selectedMachine=o),o}),N(45,"option",8),x(46,"Selecione..."),M(),We(47,Kz,2,3,"option",23),M()(),N(48,"label",20)(49,"span",21),x(50,"Motivo de Parada"),M(),N(51,"select",24),Xt("ngModelChange",function(o){return cn(r.selectedStopReason,o)||(r.selectedStopReason=o),o}),N(52,"option",8),x(53,"Selecione..."),M(),We(54,Qz,2,3,"option",23),M()(),N(55,"button",25),ce("click",function(){return r.adicionarPar()}),x(56," Adicionar "),M()(),We(57,Yz,2,1,"div",26),N(58,"ul",27),We(59,Jz,10,4,"li",28),M()(),N(60,"div",29)(61,"h3",18),x(62,"Selecionar Usu\xE1rios para Notifica\xE7\xE3o"),M(),N(63,"ul",30),We(64,Zz,6,6,"li",31),M()(),N(65,"div",32)(66,"label",33)(67,"input",34),Xt("ngModelChange",function(o){return cn(r.regra.activ,o)||(r.regra.activ=o),o}),M(),N(68,"span"),x(69,"Ativo"),M()(),N(70,"label",33)(71,"input",35),Xt("ngModelChange",function(o){return cn(r.regra.init,o)||(r.regra.init=o),o}),M(),N(72,"span"),x(73,"Notificar In\xEDcio"),M()(),N(74,"label",33)(75,"input",36),Xt("ngModelChange",function(o){return cn(r.regra.end,o)||(r.regra.end=o),o}),M(),N(76,"span"),x(77,"Notificar Fim"),M()()(),N(78,"div",37)(79,"button",38),ce("click",function(){return r.salvarRegra(!0)}),x(80," Salvar "),M(),N(81,"button",39),ce("click",function(){return r.salvarRegra()}),x(82," Salvar e Criar novo "),M()()()()),t&2&&($(2),qt(" ",r.regra.identification?"Editar Regra de Notifica\xE7\xE3o":"Nova Regra de Notifica\xE7\xE3o"," "),$(6),Zt("ngModel",r.regra.identification),$(4),Zt("ngModel",r.regra.priority),$(10),Zt("ngModel",r.regra.notify_every),$(4),Zt("ngModel",r.regra.notify_after),$(4),Zt("ngModel",r.regra.type),$(14),Zt("ngModel",r.selectedMachine),$(3),we("ngForOf",r.machines),$(4),Zt("ngModel",r.selectedStopReason),$(3),we("ngForOf",r.stopReasons),$(3),we("ngIf",r.mensagemErro),$(2),we("ngForOf",r.paresStopResource),$(5),we("ngForOf",r.users),$(3),Zt("ngModel",r.regra.activ),$(4),Zt("ngModel",r.regra.init),$(4),Zt("ngModel",r.regra.end))},dependencies:[Pt,Dn,Hn,DP,rc,_P,IP,Wi,mb,Cl,mm,tc,nc,yb,gb,pb,fb],encapsulation:2})};var Rm=class n{constructor(e,t){this.fb=e;this.firestoreService=t;this.userForm=this.fb.group({id:["",Ir.required],email:["",[Ir.required,Ir.email]],activ:[!0],name:["",Ir.required],token:[""]})}user;userForm;ngOnInit(){let e=history.state.user;e&&this.userForm.patchValue(e)}onSubmit(){if(this.userForm.valid){var e=localStorage.getItem("uid_server")||"";this.firestoreService.upsertUserToCompany(e,this.userForm.value).then(()=>{alert("Usu\xE1rio salvo com sucesso!"),window.history.back()})}}static \u0275fac=function(t){return new(t||n)(U(gm),U(en))};static \u0275cmp=Ze({type:n,selectors:[["app-user-form"]],inputs:{user:"user"},decls:28,vars:3,consts:[[1,"min-h-screen","w-full","bg-gray-50","flex","flex-col","items-center","justify-start","p-8"],[1,"text-3xl","font-bold","text-blue-700","mb-8","text-left","w-full","border-b","pb-4"],[1,"flex","flex-col","gap-8","w-full",3,"ngSubmit","formGroup"],[1,"flex","flex-col","col-span-2"],[1,"mb-2","text-gray-700","font-semibold"],["formControlName","id","type","text",1,"border","rounded","px-3","py-2","focus:ring","focus:border-blue-500","w-full"],[1,"grid","grid-cols-2","gap-6","w-full"],[1,"flex","flex-col"],["formControlName","name","type","text",1,"border","rounded","px-3","py-2","focus:ring","focus:border-blue-500"],["formControlName","email","type","email",1,"border","rounded","px-3","py-2","focus:ring","focus:border-blue-500"],["formControlName","token","rows","3",1,"border","rounded","px-3","py-2","focus:ring","focus:border-blue-500","resize-y","w-full"],[1,"flex","items-center","gap-2","col-span-2"],["formControlName","activ","type","checkbox",1,"mr-2"],[1,"text-gray-700","font-semibold"],[1,"flex","flex-row","justify-end","w-full","mt-4","gap-4"],["type","submit",1,"bg-blue-600","hover:bg-blue-700","text-white","px-6","py-3","rounded","transition","shadow"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"h2",1),x(2),M(),N(3,"form",2),ce("ngSubmit",function(){return r.onSubmit()}),N(4,"label",3)(5,"span",4),x(6,"UID Usu\xE1rio"),M(),$t(7,"input",5),M(),N(8,"div",6)(9,"label",7)(10,"span",4),x(11,"Nome"),M(),$t(12,"input",8),M(),N(13,"label",7)(14,"span",4),x(15,"Email"),M(),$t(16,"input",9),M(),N(17,"label",3)(18,"span",4),x(19,"Token"),M(),$t(20,"textarea",10),M()(),N(21,"label",11),$t(22,"input",12),N(23,"span",13),x(24,"Ativo"),M()(),N(25,"div",14)(26,"button",15),x(27),M()()()()),t&2&&($(2),qt(" ",r.user?"Editar Usu\xE1rio":"Novo Usu\xE1rio"," "),$(),we("formGroup",r.userForm),$(24),qt(" ",r.user?"Salvar":"Cadastrar"," "))},dependencies:[Pt,ym,rc,Wi,Cl,tc,nc,Al,Rl],encapsulation:2})};var ZP=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"items",component:tm,canActivate:[wr]},{path:"login",component:_m},{path:"dashboard",component:Dm,canActivate:[wr]},{path:"register-list",component:Tm,canActivate:[wr]},{path:"user-list",component:Cm,canActivate:[wr]},{path:"notification-rules-list",component:Sm,canActivate:[wr]},{path:"notification-rule-form",component:Am,canActivate:[wr]},{path:"user-form",component:Rm,canActivate:[wr]}];var XP={providers:[Uv({eventCoalescing:!0}),V_(ZP),p_(),AR(()=>RR(Bx.firebaseConfig)),Vx(()=>jx())]};function Xz(n,e){if(n&1){let t=Ht();N(0,"aside",3)(1,"h2",4),x(2,"Menu"),M(),N(3,"nav",5)(4,"a",6),x(5,"Dashboard"),M(),N(6,"a",7),x(7,"Cadastro"),M(),N(8,"button",8),ce("click",function(){Ye(t);let i=ke();return Je(i.logout())}),x(9,"Logout"),M()()()}}var Nm=class n{constructor(e){this.router=e}title="teepNotificacoes";get isLoginPage(){return this.router.url==="/login"}logout(){localStorage.removeItem("token"),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(U(ut))};static \u0275cmp=Ze({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"flex","min-h-screen"],["class","w-64 bg-blue-700 text-white flex flex-col py-8 px-4",4,"ngIf"],[1,"flex-1"],[1,"w-64","bg-blue-700","text-white","flex","flex-col","py-8","px-4"],[1,"text-2xl","font-bold","mb-8","text-center"],[1,"flex","flex-col","gap-4"],["routerLink","dashboard",1,"hover:bg-blue-800","rounded","px-3","py-2"],["routerLink","register-list",1,"hover:bg-blue-800","rounded","px-3","py-2"],[1,"hover:bg-blue-800","rounded","px-3","py-2","text-left",3,"click"]],template:function(t,r){t&1&&(N(0,"div",0),We(1,Xz,10,0,"aside",1),N(2,"main",2),$t(3,"router-outlet"),M()()),t&2&&($(),we("ngIf",!r.isLoginPage))},dependencies:[Vu,Rf,Hn],encapsulation:2})};d_(Nm,XP).catch(n=>console.error(n));
